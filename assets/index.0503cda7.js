function aA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function xS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=Symbol.for("react.element"),lA=Symbol.for("react.portal"),uA=Symbol.for("react.fragment"),cA=Symbol.for("react.strict_mode"),dA=Symbol.for("react.profiler"),hA=Symbol.for("react.provider"),fA=Symbol.for("react.context"),pA=Symbol.for("react.forward_ref"),mA=Symbol.for("react.suspense"),gA=Symbol.for("react.memo"),yA=Symbol.for("react.lazy"),ew=Symbol.iterator;function vA(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var IS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kS=Object.assign,RS={};function ya(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||IS}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function NS(){}NS.prototype=ya.prototype;function ky(t,e,n){this.props=t,this.context=e,this.refs=RS,this.updater=n||IS}var Ry=ky.prototype=new NS;Ry.constructor=ky;kS(Ry,ya.prototype);Ry.isPureReactComponent=!0;var tw=Array.isArray,PS=Object.prototype.hasOwnProperty,Ny={current:null},AS={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)PS.call(e,r)&&!AS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Su,type:t,key:s,ref:o,props:i,_owner:Ny.current}}function _A(t,e){return{$$typeof:Su,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Py(t){return typeof t=="object"&&t!==null&&t.$$typeof===Su}function wA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nw=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wA(""+t.key):e.toString(36)}function Hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Su:case lA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gp(o,0):r,tw(i)?(n="",t!=null&&(n=t.replace(nw,"$&/")+"/"),Hc(i,e,n,"",function(u){return u})):i!=null&&(Py(i)&&(i=_A(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gp(s,a);o+=Hc(s,e,n,l,i)}else if(l=vA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gp(s,a++),o+=Hc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cc(t,e,n){if(t==null)return t;var r=[],i=0;return Hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function CA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},qc={transition:null},EA={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Ny};pe.Children={map:cc,forEach:function(t,e,n){cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cc(t,function(){e++}),e},toArray:function(t){return cc(t,function(e){return e})||[]},only:function(t){if(!Py(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=ya;pe.Fragment=uA;pe.Profiler=dA;pe.PureComponent=ky;pe.StrictMode=cA;pe.Suspense=mA;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EA;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ny.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)PS.call(e,l)&&!AS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Su,type:t.type,key:i,ref:s,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:fA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hA,_context:t},t.Consumer=t};pe.createElement=OS;pe.createFactory=function(t){var e=OS.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:pA,render:t}};pe.isValidElement=Py;pe.lazy=function(t){return{$$typeof:yA,_payload:{_status:-1,_result:t},_init:CA}};pe.memo=function(t,e){return{$$typeof:gA,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};pe.useCallback=function(t,e){return rn.current.useCallback(t,e)};pe.useContext=function(t){return rn.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};pe.useEffect=function(t,e){return rn.current.useEffect(t,e)};pe.useId=function(){return rn.current.useId()};pe.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return rn.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};pe.useRef=function(t){return rn.current.useRef(t)};pe.useState=function(t){return rn.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return rn.current.useTransition()};pe.version="18.2.0";(function(t){t.exports=pe})(w);const hs=xS(w.exports),Rm=aA({__proto__:null,default:hs},[w.exports]);var Nm={},bu={exports:{}},Pn={},DS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,F){var z=R.length;R.push(F);e:for(;0<z;){var Y=z-1>>>1,ie=R[Y];if(0<i(ie,F))R[Y]=F,R[z]=ie,z=Y;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var F=R[0],z=R.pop();if(z!==F){R[0]=z;e:for(var Y=0,ie=R.length,Pe=ie>>>1;Y<Pe;){var me=2*(Y+1)-1,Fe=R[me],De=me+1,Pt=R[De];if(0>i(Fe,z))De<ie&&0>i(Pt,Fe)?(R[Y]=Pt,R[De]=z,Y=De):(R[Y]=Fe,R[me]=z,Y=me);else if(De<ie&&0>i(Pt,z))R[Y]=Pt,R[De]=z,Y=De;else break e}}return F}function i(R,F){var z=R.sortIndex-F.sortIndex;return z!==0?z:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=R)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function _(R){if(m=!1,v(R),!p)if(n(l)!==null)p=!0,P(S);else{var F=n(u);F!==null&&D(_,F.startTime-R)}}function S(R,F){p=!1,m&&(m=!1,g(x),x=-1),f=!0;var z=h;try{for(v(F),d=n(l);d!==null&&(!(d.expirationTime>F)||R&&!L());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var ie=Y(d.expirationTime<=F);F=t.unstable_now(),typeof ie=="function"?d.callback=ie:d===n(l)&&r(l),v(F)}else r(l);d=n(l)}if(d!==null)var Pe=!0;else{var me=n(u);me!==null&&D(_,me.startTime-F),Pe=!1}return Pe}finally{d=null,h=z,f=!1}}var T=!1,b=null,x=-1,$=5,I=-1;function L(){return!(t.unstable_now()-I<$)}function H(){if(b!==null){var R=t.unstable_now();I=R;var F=!0;try{F=b(!0,R)}finally{F?q():(T=!1,b=null)}}else T=!1}var q;if(typeof y=="function")q=function(){y(H)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,B=te.port2;te.port1.onmessage=H,q=function(){B.postMessage(null)}}else q=function(){E(H,0)};function P(R){b=R,T||(T=!0,q())}function D(R,F){x=E(function(){R(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,P(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var z=h;h=F;try{return R()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var z=h;h=R;try{return F()}finally{h=z}},t.unstable_scheduleCallback=function(R,F,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,R){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=z+ie,R={id:c++,callback:F,priorityLevel:R,startTime:z,expirationTime:ie,sortIndex:-1},z>Y?(R.sortIndex=z,e(u,R),n(l)===null&&R===n(u)&&(m?(g(x),x=-1):m=!0,D(_,z-Y))):(R.sortIndex=ie,e(l,R),p||f||(p=!0,P(S))),R},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(R){var F=h;return function(){var z=h;h=F;try{return R.apply(this,arguments)}finally{h=z}}}})($S);(function(t){t.exports=$S})(DS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS=w.exports,kn=DS.exports;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LS=new Set,Nl={};function Ws(t,e){jo(t,e),jo(t+"Capture",e)}function jo(t,e){for(Nl[t]=e,t=0;t<e.length;t++)LS.add(e[t])}var Br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pm=Object.prototype.hasOwnProperty,SA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rw={},iw={};function bA(t){return Pm.call(iw,t)?!0:Pm.call(rw,t)?!1:SA.test(t)?iw[t]=!0:(rw[t]=!0,!1)}function TA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xA(t,e,n,r){if(e===null||typeof e>"u"||TA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ay=/[\-:]([a-z])/g;function Oy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ay,Oy);Ft[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ay,Oy);Ft[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ay,Oy);Ft[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Dy(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xA(e,n,i,r)&&(n=null),r||i===null?bA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qr=MS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),co=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),US=Symbol.for("react.context"),My=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Dm=Symbol.for("react.suspense_list"),Ly=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),sw=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=sw&&t[sw]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,yp;function Ja(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var vp=!1;function _p(t,e){if(!t||vp)return"";vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ja(t):""}function IA(t){switch(t.tag){case 5:return Ja(t.type);case 16:return Ja("Lazy");case 13:return Ja("Suspense");case 19:return Ja("SuspenseList");case 0:case 2:case 15:return t=_p(t.type,!1),t;case 11:return t=_p(t.type.render,!1),t;case 1:return t=_p(t.type,!0),t;default:return""}}function $m(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case co:return"Portal";case Am:return"Profiler";case $y:return"StrictMode";case Om:return"Suspense";case Dm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case US:return(t.displayName||"Context")+".Consumer";case FS:return(t._context.displayName||"Context")+".Provider";case My:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ly:return e=t.displayName||null,e!==null?e:$m(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return $m(t(e))}catch{}}return null}function kA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $m(e);case 8:return e===$y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ii(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RA(t){var e=zS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=RA(t))}function VS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Mm(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ow(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ii(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WS(t,e){e=e.checked,e!=null&&Dy(t,"checked",e,!1)}function Lm(t,e){WS(t,e);var n=Ii(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fm(t,e.type,Ii(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fm(t,e,n){(e!=="number"||yd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Za=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ii(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Um(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Za(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ii(n)}}function jS(t,e){var n=Ii(e.value),r=Ii(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,qS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NA=["Webkit","ms","Moz","O"];Object.keys(al).forEach(function(t){NA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),al[e]=al[t]})});function KS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||al.hasOwnProperty(t)&&al[t]?(""+e).trim():e+"px"}function GS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PA=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(t,e){if(e){if(PA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wm=null;function Fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jm=null,Ro=null,No=null;function cw(t){if(t=Iu(t)){if(typeof jm!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Dh(e),jm(t.stateNode,t.type,e))}}function QS(t){Ro?No?No.push(t):No=[t]:Ro=t}function YS(){if(Ro){var t=Ro,e=No;if(No=Ro=null,cw(t),e)for(t=0;t<e.length;t++)cw(e[t])}}function XS(t,e){return t(e)}function JS(){}var wp=!1;function ZS(t,e,n){if(wp)return t(e,n);wp=!0;try{return XS(t,e,n)}finally{wp=!1,(Ro!==null||No!==null)&&(JS(),YS())}}function Al(t,e){var n=t.stateNode;if(n===null)return null;var r=Dh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Hm=!1;if(Br)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Hm=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Hm=!1}function AA(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ll=!1,vd=null,_d=!1,qm=null,OA={onError:function(t){ll=!0,vd=t}};function DA(t,e,n,r,i,s,o,a,l){ll=!1,vd=null,AA.apply(OA,arguments)}function $A(t,e,n,r,i,s,o,a,l){if(DA.apply(this,arguments),ll){if(ll){var u=vd;ll=!1,vd=null}else throw Error(A(198));_d||(_d=!0,qm=u)}}function js(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dw(t){if(js(t)!==t)throw Error(A(188))}function MA(t){var e=t.alternate;if(!e){if(e=js(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dw(i),t;if(s===r)return dw(i),e;s=s.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function tb(t){return t=MA(t),t!==null?nb(t):null}function nb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nb(t);if(e!==null)return e;t=t.sibling}return null}var rb=kn.unstable_scheduleCallback,hw=kn.unstable_cancelCallback,LA=kn.unstable_shouldYield,FA=kn.unstable_requestPaint,tt=kn.unstable_now,UA=kn.unstable_getCurrentPriorityLevel,Uy=kn.unstable_ImmediatePriority,ib=kn.unstable_UserBlockingPriority,wd=kn.unstable_NormalPriority,BA=kn.unstable_LowPriority,sb=kn.unstable_IdlePriority,Nh=null,vr=null;function zA(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:jA,VA=Math.log,WA=Math.LN2;function jA(t){return t>>>=0,t===0?32:31-(VA(t)/WA|0)|0}var pc=64,mc=4194304;function el(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=el(a):(s&=o,s!==0&&(r=el(s)))}else o=n&~i,o!==0?r=el(o):s!==0&&(r=el(s));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),i=1<<n,r|=t[n],e&=~i;return r}function HA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rr(s),a=1<<o,l=i[o];l===-1?((a&n)===0||(a&r)!==0)&&(i[o]=HA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Km(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ob(){var t=pc;return pc<<=1,(pc&4194240)===0&&(pc=64),t}function Cp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Tu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function KA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function By(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function ab(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var lb,zy,ub,cb,db,Gm=!1,gc=[],gi=null,yi=null,vi=null,Ol=new Map,Dl=new Map,ui=[],GA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fw(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function La(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Iu(e),e!==null&&zy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QA(t,e,n,r,i){switch(e){case"focusin":return gi=La(gi,t,e,n,r,i),!0;case"dragenter":return yi=La(yi,t,e,n,r,i),!0;case"mouseover":return vi=La(vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ol.set(s,La(Ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dl.set(s,La(Dl.get(s)||null,t,e,n,r,i)),!0}return!1}function hb(t){var e=ns(t.target);if(e!==null){var n=js(e);if(n!==null){if(e=n.tag,e===13){if(e=eb(n),e!==null){t.blockedOn=e,db(t.priority,function(){ub(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wm=r,n.target.dispatchEvent(r),Wm=null}else return e=Iu(n),e!==null&&zy(e),t.blockedOn=n,!1;e.shift()}return!0}function pw(t,e,n){Kc(t)&&n.delete(e)}function YA(){Gm=!1,gi!==null&&Kc(gi)&&(gi=null),yi!==null&&Kc(yi)&&(yi=null),vi!==null&&Kc(vi)&&(vi=null),Ol.forEach(pw),Dl.forEach(pw)}function Fa(t,e){t.blockedOn===e&&(t.blockedOn=null,Gm||(Gm=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,YA)))}function $l(t){function e(i){return Fa(i,t)}if(0<gc.length){Fa(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gi!==null&&Fa(gi,t),yi!==null&&Fa(yi,t),vi!==null&&Fa(vi,t),Ol.forEach(e),Dl.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)hb(n),n.blockedOn===null&&ui.shift()}var Po=Qr.ReactCurrentBatchConfig,Ed=!0;function XA(t,e,n,r){var i=xe,s=Po.transition;Po.transition=null;try{xe=1,Vy(t,e,n,r)}finally{xe=i,Po.transition=s}}function JA(t,e,n,r){var i=xe,s=Po.transition;Po.transition=null;try{xe=4,Vy(t,e,n,r)}finally{xe=i,Po.transition=s}}function Vy(t,e,n,r){if(Ed){var i=Qm(t,e,n,r);if(i===null)Pp(t,e,r,Sd,n),fw(t,r);else if(QA(i,t,e,n,r))r.stopPropagation();else if(fw(t,r),e&4&&-1<GA.indexOf(t)){for(;i!==null;){var s=Iu(i);if(s!==null&&lb(s),s=Qm(t,e,n,r),s===null&&Pp(t,e,r,Sd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Pp(t,e,r,null,n)}}var Sd=null;function Qm(t,e,n,r){if(Sd=null,t=Fy(r),t=ns(t),t!==null)if(e=js(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sd=t,null}function fb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UA()){case Uy:return 1;case ib:return 4;case wd:case BA:return 16;case sb:return 536870912;default:return 16}default:return 16}}var pi=null,Wy=null,Gc=null;function pb(){if(Gc)return Gc;var t,e=Wy,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gc=i.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function mw(){return!1}function An(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yc:mw,this.isPropagationStopped=mw,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jy=An(va),xu=Je({},va,{view:0,detail:0}),ZA=An(xu),Ep,Sp,Ua,Ph=Je({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(Ep=t.screenX-Ua.screenX,Sp=t.screenY-Ua.screenY):Sp=Ep=0,Ua=t),Ep)},movementY:function(t){return"movementY"in t?t.movementY:Sp}}),gw=An(Ph),eO=Je({},Ph,{dataTransfer:0}),tO=An(eO),nO=Je({},xu,{relatedTarget:0}),bp=An(nO),rO=Je({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),iO=An(rO),sO=Je({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oO=An(sO),aO=Je({},va,{data:0}),yw=An(aO),lO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cO[t])?!!e[t]:!1}function Hy(){return dO}var hO=Je({},xu,{key:function(t){if(t.key){var e=lO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hy,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fO=An(hO),pO=Je({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vw=An(pO),mO=Je({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hy}),gO=An(mO),yO=Je({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),vO=An(yO),_O=Je({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wO=An(_O),CO=[9,13,27,32],qy=Br&&"CompositionEvent"in window,ul=null;Br&&"documentMode"in document&&(ul=document.documentMode);var EO=Br&&"TextEvent"in window&&!ul,mb=Br&&(!qy||ul&&8<ul&&11>=ul),_w=String.fromCharCode(32),ww=!1;function gb(t,e){switch(t){case"keyup":return CO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function SO(t,e){switch(t){case"compositionend":return yb(e);case"keypress":return e.which!==32?null:(ww=!0,_w);case"textInput":return t=e.data,t===_w&&ww?null:t;default:return null}}function bO(t,e){if(fo)return t==="compositionend"||!qy&&gb(t,e)?(t=pb(),Gc=Wy=pi=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mb&&e.locale!=="ko"?null:e.data;default:return null}}var TO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TO[t.type]:e==="textarea"}function vb(t,e,n,r){QS(r),e=bd(e,"onChange"),0<e.length&&(n=new jy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cl=null,Ml=null;function xO(t){Rb(t,0)}function Ah(t){var e=go(t);if(VS(e))return t}function IO(t,e){if(t==="change")return e}var _b=!1;if(Br){var Tp;if(Br){var xp="oninput"in document;if(!xp){var Ew=document.createElement("div");Ew.setAttribute("oninput","return;"),xp=typeof Ew.oninput=="function"}Tp=xp}else Tp=!1;_b=Tp&&(!document.documentMode||9<document.documentMode)}function Sw(){cl&&(cl.detachEvent("onpropertychange",wb),Ml=cl=null)}function wb(t){if(t.propertyName==="value"&&Ah(Ml)){var e=[];vb(e,Ml,t,Fy(t)),ZS(xO,e)}}function kO(t,e,n){t==="focusin"?(Sw(),cl=e,Ml=n,cl.attachEvent("onpropertychange",wb)):t==="focusout"&&Sw()}function RO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(Ml)}function NO(t,e){if(t==="click")return Ah(e)}function PO(t,e){if(t==="input"||t==="change")return Ah(e)}function AO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:AO;function Ll(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pm.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function bw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tw(t,e){var n=bw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bw(n)}}function Cb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Eb(){for(var t=window,e=yd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yd(t.document)}return e}function Ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OO(t){var e=Eb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cb(n.ownerDocument.documentElement,n)){if(r!==null&&Ky(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Tw(n,s);var o=Tw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DO=Br&&"documentMode"in document&&11>=document.documentMode,po=null,Ym=null,dl=null,Xm=!1;function xw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||po==null||po!==yd(r)||(r=po,"selectionStart"in r&&Ky(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Ll(dl,r)||(dl=r,r=bd(Ym,"onSelect"),0<r.length&&(e=new jy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Ip={},Sb={};Br&&(Sb=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Oh(t){if(Ip[t])return Ip[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sb)return Ip[t]=e[n];return t}var bb=Oh("animationend"),Tb=Oh("animationiteration"),xb=Oh("animationstart"),Ib=Oh("transitionend"),kb=new Map,Iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(t,e){kb.set(t,e),Ws(e,[t])}for(var kp=0;kp<Iw.length;kp++){var Rp=Iw[kp],$O=Rp.toLowerCase(),MO=Rp[0].toUpperCase()+Rp.slice(1);Mi($O,"on"+MO)}Mi(bb,"onAnimationEnd");Mi(Tb,"onAnimationIteration");Mi(xb,"onAnimationStart");Mi("dblclick","onDoubleClick");Mi("focusin","onFocus");Mi("focusout","onBlur");Mi(Ib,"onTransitionEnd");jo("onMouseEnter",["mouseout","mouseover"]);jo("onMouseLeave",["mouseout","mouseover"]);jo("onPointerEnter",["pointerout","pointerover"]);jo("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LO=new Set("cancel close invalid load scroll toggle".split(" ").concat(tl));function kw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$A(r,e,void 0,t),t.currentTarget=null}function Rb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kw(i,a,u),s=l}}}if(_d)throw t=qm,_d=!1,qm=null,t}function Be(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(Nb(e,t,2,!1),n.add(r))}function Np(t,e,n){var r=0;e&&(r|=4),Nb(n,t,r,e)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Fl(t){if(!t[_c]){t[_c]=!0,LS.forEach(function(n){n!=="selectionchange"&&(LO.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_c]||(e[_c]=!0,Np("selectionchange",!1,e))}}function Nb(t,e,n,r){switch(fb(e)){case 1:var i=XA;break;case 4:i=JA;break;default:i=Vy}n=i.bind(null,e,n,t),i=void 0,!Hm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pp(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ZS(function(){var u=s,c=Fy(n),d=[];e:{var h=kb.get(t);if(h!==void 0){var f=jy,p=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":f=fO;break;case"focusin":p="focus",f=bp;break;case"focusout":p="blur",f=bp;break;case"beforeblur":case"afterblur":f=bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=tO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=gO;break;case bb:case Tb:case xb:f=iO;break;case Ib:f=vO;break;case"scroll":f=ZA;break;case"wheel":f=wO;break;case"copy":case"cut":case"paste":f=oO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=vw}var m=(e&4)!==0,E=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,g!==null&&(_=Al(y,g),_!=null&&m.push(Ul(y,_,v)))),E)break;y=y.return}0<m.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:m}))}}if((e&7)===0){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Wm&&(p=n.relatedTarget||n.fromElement)&&(ns(p)||p[zr]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?ns(p):null,p!==null&&(E=js(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=gw,_="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=vw,_="onPointerLeave",g="onPointerEnter",y="pointer"),E=f==null?h:go(f),v=p==null?h:go(p),h=new m(_,y+"leave",f,n,c),h.target=E,h.relatedTarget=v,_=null,ns(c)===u&&(m=new m(g,y+"enter",p,n,c),m.target=v,m.relatedTarget=E,_=m),E=_,f&&p)t:{for(m=f,g=p,y=0,v=m;v;v=Zs(v))y++;for(v=0,_=g;_;_=Zs(_))v++;for(;0<y-v;)m=Zs(m),y--;for(;0<v-y;)g=Zs(g),v--;for(;y--;){if(m===g||g!==null&&m===g.alternate)break t;m=Zs(m),g=Zs(g)}m=null}else m=null;f!==null&&Rw(d,h,f,m,!1),p!==null&&E!==null&&Rw(d,E,p,m,!0)}}e:{if(h=u?go(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=IO;else if(Cw(h))if(_b)S=PO;else{S=RO;var T=kO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=NO);if(S&&(S=S(t,u))){vb(d,S,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Fm(h,"number",h.value)}switch(T=u?go(u):window,t){case"focusin":(Cw(T)||T.contentEditable==="true")&&(po=T,Ym=u,dl=null);break;case"focusout":dl=Ym=po=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,xw(d,n,c);break;case"selectionchange":if(DO)break;case"keydown":case"keyup":xw(d,n,c)}var b;if(qy)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else fo?gb(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(mb&&n.locale!=="ko"&&(fo||x!=="onCompositionStart"?x==="onCompositionEnd"&&fo&&(b=pb()):(pi=c,Wy="value"in pi?pi.value:pi.textContent,fo=!0)),T=bd(u,x),0<T.length&&(x=new yw(x,t,null,n,c),d.push({event:x,listeners:T}),b?x.data=b:(b=yb(n),b!==null&&(x.data=b)))),(b=EO?SO(t,n):bO(t,n))&&(u=bd(u,"onBeforeInput"),0<u.length&&(c=new yw("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}Rb(d,e)})}function Ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Al(t,n),s!=null&&r.unshift(Ul(t,s,i)),s=Al(t,e),s!=null&&r.push(Ul(t,s,i))),t=t.return}return r}function Zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Al(n,s),l!=null&&o.unshift(Ul(n,l,a))):i||(l=Al(n,s),l!=null&&o.push(Ul(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function Nw(t){return(typeof t=="string"?t:""+t).replace(FO,`
`).replace(UO,"")}function wc(t,e,n){if(e=Nw(e),Nw(t)!==e&&n)throw Error(A(425))}function Td(){}var Jm=null,Zm=null;function eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tg=typeof setTimeout=="function"?setTimeout:void 0,BO=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,zO=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(t){return Pw.resolve(null).then(t).catch(VO)}:tg;function VO(t){setTimeout(function(){throw t})}function Ap(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$l(e)}function _i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),yr="__reactFiber$"+_a,Bl="__reactProps$"+_a,zr="__reactContainer$"+_a,ng="__reactEvents$"+_a,WO="__reactListeners$"+_a,jO="__reactHandles$"+_a;function ns(t){var e=t[yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zr]||n[yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Aw(t);t!==null;){if(n=t[yr])return n;t=Aw(t)}return e}t=n,n=t.parentNode}return null}function Iu(t){return t=t[yr]||t[zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Dh(t){return t[Bl]||null}var rg=[],yo=-1;function Li(t){return{current:t}}function Ve(t){0>yo||(t.current=rg[yo],rg[yo]=null,yo--)}function Me(t,e){yo++,rg[yo]=t.current,t.current=e}var ki={},Yt=Li(ki),gn=Li(!1),Es=ki;function Ho(t,e){var n=t.type.contextTypes;if(!n)return ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function xd(){Ve(gn),Ve(Yt)}function Ow(t,e,n){if(Yt.current!==ki)throw Error(A(168));Me(Yt,e),Me(gn,n)}function Pb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,kA(t)||"Unknown",i));return Je({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ki,Es=Yt.current,Me(Yt,t),Me(gn,gn.current),!0}function Dw(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Pb(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,Ve(gn),Ve(Yt),Me(Yt,t)):Ve(gn),Me(gn,n)}var Rr=null,$h=!1,Op=!1;function Ab(t){Rr===null?Rr=[t]:Rr.push(t)}function HO(t){$h=!0,Ab(t)}function Fi(){if(!Op&&Rr!==null){Op=!0;var t=0,e=xe;try{var n=Rr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Rr=null,$h=!1}catch(i){throw Rr!==null&&(Rr=Rr.slice(t+1)),rb(Uy,Fi),i}finally{xe=e,Op=!1}}return null}var vo=[],_o=0,kd=null,Rd=0,Mn=[],Ln=0,Ss=null,Pr=1,Ar="";function Gi(t,e){vo[_o++]=Rd,vo[_o++]=kd,kd=t,Rd=e}function Ob(t,e,n){Mn[Ln++]=Pr,Mn[Ln++]=Ar,Mn[Ln++]=Ss,Ss=t;var r=Pr;t=Ar;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var s=32-rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pr=1<<32-rr(e)+i|n<<i|r,Ar=s+t}else Pr=1<<s|n<<i|r,Ar=t}function Gy(t){t.return!==null&&(Gi(t,1),Ob(t,1,0))}function Qy(t){for(;t===kd;)kd=vo[--_o],vo[_o]=null,Rd=vo[--_o],vo[_o]=null;for(;t===Ss;)Ss=Mn[--Ln],Mn[Ln]=null,Ar=Mn[--Ln],Mn[Ln]=null,Pr=Mn[--Ln],Mn[Ln]=null}var Sn=null,En=null,qe=!1,Jn=null;function Db(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $w(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sn=t,En=_i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Pr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sn=t,En=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sg(t){if(qe){var e=En;if(e){var n=e;if(!$w(t,e)){if(ig(t))throw Error(A(418));e=_i(n.nextSibling);var r=Sn;e&&$w(t,e)?Db(r,n):(t.flags=t.flags&-4097|2,qe=!1,Sn=t)}}else{if(ig(t))throw Error(A(418));t.flags=t.flags&-4097|2,qe=!1,Sn=t}}}function Mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sn=t}function Cc(t){if(t!==Sn)return!1;if(!qe)return Mw(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!eg(t.type,t.memoizedProps)),e&&(e=En)){if(ig(t))throw $b(),Error(A(418));for(;e;)Db(t,e),e=_i(e.nextSibling)}if(Mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=_i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=Sn?_i(t.stateNode.nextSibling):null;return!0}function $b(){for(var t=En;t;)t=_i(t.nextSibling)}function qo(){En=Sn=null,qe=!1}function Yy(t){Jn===null?Jn=[t]:Jn.push(t)}var qO=Qr.ReactCurrentBatchConfig;function Yn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Nd=Li(null),Pd=null,wo=null,Xy=null;function Jy(){Xy=wo=Pd=null}function Zy(t){var e=Nd.current;Ve(Nd),t._currentValue=e}function og(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ao(t,e){Pd=t,Xy=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(hn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Xy!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Pd===null)throw Error(A(308));wo=t,Pd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var rs=null;function ev(t){rs===null?rs=[t]:rs.push(t)}function Mb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ev(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function tv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ve&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,ev(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,By(t,n)}}function Lw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ad(t,e,n,r){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Je({},d,h);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=d}}function Fw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Fb=new MS.Component().refs;function ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mh={isMounted:function(t){return(t=t._reactInternals)?js(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ei(t),s=Lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(ir(e,t,i,r),Yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),i=Ei(t),s=Lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wi(t,s,i),e!==null&&(ir(e,t,i,r),Yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Ei(t),i=Lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=wi(t,i,r),e!==null&&(ir(e,t,r,n),Yc(e,t,r))}};function Uw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ll(n,r)||!Ll(i,s):!0}function Ub(t,e,n){var r=!1,i=ki,s=e.contextType;return typeof s=="object"&&s!==null?s=Vn(s):(i=yn(e)?Es:Yt.current,r=e.contextTypes,s=(r=r!=null)?Ho(t,i):ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function lg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Fb,tv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vn(s):(s=yn(e)?Es:Yt.current,i.context=Ho(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ag(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Mh.enqueueReplaceState(i,i.state,null),Ad(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Fb&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Ec(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zw(t){var e=t._init;return e(t._payload)}function Bb(t){function e(g,y){if(t){var v=g.deletions;v===null?(g.deletions=[y],g.flags|=16):v.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=Si(g,y),g.index=0,g.sibling=null,g}function s(g,y,v){return g.index=v,t?(v=g.alternate,v!==null?(v=v.index,v<y?(g.flags|=2,y):v):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,v,_){return y===null||y.tag!==6?(y=Bp(v,g.mode,_),y.return=g,y):(y=i(y,v),y.return=g,y)}function l(g,y,v,_){var S=v.type;return S===ho?c(g,y,v.props.children,_,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ai&&zw(S)===y.type)?(_=i(y,v.props),_.ref=Ba(g,y,v),_.return=g,_):(_=nd(v.type,v.key,v.props,null,g.mode,_),_.ref=Ba(g,y,v),_.return=g,_)}function u(g,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=zp(v,g.mode,_),y.return=g,y):(y=i(y,v.children||[]),y.return=g,y)}function c(g,y,v,_,S){return y===null||y.tag!==7?(y=ps(v,g.mode,_,S),y.return=g,y):(y=i(y,v),y.return=g,y)}function d(g,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bp(""+y,g.mode,v),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dc:return v=nd(y.type,y.key,y.props,null,g.mode,v),v.ref=Ba(g,null,y),v.return=g,v;case co:return y=zp(y,g.mode,v),y.return=g,y;case ai:var _=y._init;return d(g,_(y._payload),v)}if(Za(y)||$a(y))return y=ps(y,g.mode,v,null),y.return=g,y;Ec(g,y)}return null}function h(g,y,v,_){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(g,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:return v.key===S?l(g,y,v,_):null;case co:return v.key===S?u(g,y,v,_):null;case ai:return S=v._init,h(g,y,S(v._payload),_)}if(Za(v)||$a(v))return S!==null?null:c(g,y,v,_,null);Ec(g,v)}return null}function f(g,y,v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(v)||null,a(y,g,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dc:return g=g.get(_.key===null?v:_.key)||null,l(y,g,_,S);case co:return g=g.get(_.key===null?v:_.key)||null,u(y,g,_,S);case ai:var T=_._init;return f(g,y,v,T(_._payload),S)}if(Za(_)||$a(_))return g=g.get(v)||null,c(y,g,_,S,null);Ec(y,_)}return null}function p(g,y,v,_){for(var S=null,T=null,b=y,x=y=0,$=null;b!==null&&x<v.length;x++){b.index>x?($=b,b=null):$=b.sibling;var I=h(g,b,v[x],_);if(I===null){b===null&&(b=$);break}t&&b&&I.alternate===null&&e(g,b),y=s(I,y,x),T===null?S=I:T.sibling=I,T=I,b=$}if(x===v.length)return n(g,b),qe&&Gi(g,x),S;if(b===null){for(;x<v.length;x++)b=d(g,v[x],_),b!==null&&(y=s(b,y,x),T===null?S=b:T.sibling=b,T=b);return qe&&Gi(g,x),S}for(b=r(g,b);x<v.length;x++)$=f(b,g,x,v[x],_),$!==null&&(t&&$.alternate!==null&&b.delete($.key===null?x:$.key),y=s($,y,x),T===null?S=$:T.sibling=$,T=$);return t&&b.forEach(function(L){return e(g,L)}),qe&&Gi(g,x),S}function m(g,y,v,_){var S=$a(v);if(typeof S!="function")throw Error(A(150));if(v=S.call(v),v==null)throw Error(A(151));for(var T=S=null,b=y,x=y=0,$=null,I=v.next();b!==null&&!I.done;x++,I=v.next()){b.index>x?($=b,b=null):$=b.sibling;var L=h(g,b,I.value,_);if(L===null){b===null&&(b=$);break}t&&b&&L.alternate===null&&e(g,b),y=s(L,y,x),T===null?S=L:T.sibling=L,T=L,b=$}if(I.done)return n(g,b),qe&&Gi(g,x),S;if(b===null){for(;!I.done;x++,I=v.next())I=d(g,I.value,_),I!==null&&(y=s(I,y,x),T===null?S=I:T.sibling=I,T=I);return qe&&Gi(g,x),S}for(b=r(g,b);!I.done;x++,I=v.next())I=f(b,g,x,I.value,_),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?x:I.key),y=s(I,y,x),T===null?S=I:T.sibling=I,T=I);return t&&b.forEach(function(H){return e(g,H)}),qe&&Gi(g,x),S}function E(g,y,v,_){if(typeof v=="object"&&v!==null&&v.type===ho&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case dc:e:{for(var S=v.key,T=y;T!==null;){if(T.key===S){if(S=v.type,S===ho){if(T.tag===7){n(g,T.sibling),y=i(T,v.props.children),y.return=g,g=y;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ai&&zw(S)===T.type){n(g,T.sibling),y=i(T,v.props),y.ref=Ba(g,T,v),y.return=g,g=y;break e}n(g,T);break}else e(g,T);T=T.sibling}v.type===ho?(y=ps(v.props.children,g.mode,_,v.key),y.return=g,g=y):(_=nd(v.type,v.key,v.props,null,g.mode,_),_.ref=Ba(g,y,v),_.return=g,g=_)}return o(g);case co:e:{for(T=v.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(g,y.sibling),y=i(y,v.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=zp(v,g.mode,_),y.return=g,g=y}return o(g);case ai:return T=v._init,E(g,y,T(v._payload),_)}if(Za(v))return p(g,y,v,_);if($a(v))return m(g,y,v,_);Ec(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,v),y.return=g,g=y):(n(g,y),y=Bp(v,g.mode,_),y.return=g,g=y),o(g)):n(g,y)}return E}var Ko=Bb(!0),zb=Bb(!1),ku={},_r=Li(ku),zl=Li(ku),Vl=Li(ku);function is(t){if(t===ku)throw Error(A(174));return t}function nv(t,e){switch(Me(Vl,e),Me(zl,t),Me(_r,ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bm(e,t)}Ve(_r),Me(_r,e)}function Go(){Ve(_r),Ve(zl),Ve(Vl)}function Vb(t){is(Vl.current);var e=is(_r.current),n=Bm(e,t.type);e!==n&&(Me(zl,t),Me(_r,n))}function rv(t){zl.current===t&&(Ve(_r),Ve(zl))}var Ye=Li(0);function Od(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dp=[];function iv(){for(var t=0;t<Dp.length;t++)Dp[t]._workInProgressVersionPrimary=null;Dp.length=0}var Xc=Qr.ReactCurrentDispatcher,$p=Qr.ReactCurrentBatchConfig,bs=0,Xe=null,ft=null,bt=null,Dd=!1,hl=!1,Wl=0,KO=0;function zt(){throw Error(A(321))}function sv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function ov(t,e,n,r,i,s){if(bs=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?XO:JO,t=n(r,i),hl){s=0;do{if(hl=!1,Wl=0,25<=s)throw Error(A(301));s+=1,bt=ft=null,e.updateQueue=null,Xc.current=ZO,t=n(r,i)}while(hl)}if(Xc.current=$d,e=ft!==null&&ft.next!==null,bs=0,bt=ft=Xe=null,Dd=!1,e)throw Error(A(300));return t}function av(){var t=Wl!==0;return Wl=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Xe.memoizedState=bt=t:bt=bt.next=t,bt}function Wn(){if(ft===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=bt===null?Xe.memoizedState:bt.next;if(e!==null)bt=e,ft=t;else{if(t===null)throw Error(A(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},bt===null?Xe.memoizedState=bt=t:bt=bt.next=t}return bt}function jl(t,e){return typeof e=="function"?e(t):e}function Mp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((bs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=c,Ts|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,Ts|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ar(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Wb(){}function jb(t,e){var n=Xe,r=Wn(),i=e(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,hn=!0),r=r.queue,lv(Kb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,Hl(9,qb.bind(null,n,r,i,e),void 0,null),It===null)throw Error(A(349));(bs&30)!==0||Hb(n,e,i)}return i}function Hb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qb(t,e,n,r){e.value=n,e.getSnapshot=r,Gb(e)&&Qb(t)}function Kb(t,e,n){return n(function(){Gb(e)&&Qb(t)})}function Gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function Qb(t){var e=Vr(t,1);e!==null&&ir(e,t,1,-1)}function Vw(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},e.queue=t,t=t.dispatch=YO.bind(null,Xe,t),[e.memoizedState,t]}function Hl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yb(){return Wn().memoizedState}function Jc(t,e,n,r){var i=pr();Xe.flags|=t,i.memoizedState=Hl(1|e,n,void 0,r===void 0?null:r)}function Lh(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&sv(r,o.deps)){i.memoizedState=Hl(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=Hl(1|e,n,s,r)}function Ww(t,e){return Jc(8390656,8,t,e)}function lv(t,e){return Lh(2048,8,t,e)}function Xb(t,e){return Lh(4,2,t,e)}function Jb(t,e){return Lh(4,4,t,e)}function Zb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function eT(t,e,n){return n=n!=null?n.concat([t]):null,Lh(4,4,Zb.bind(null,e,t),n)}function uv(){}function tT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function nT(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function rT(t,e,n){return(bs&21)===0?(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n):(ar(n,e)||(n=ob(),Xe.lanes|=n,Ts|=n,t.baseState=!0),e)}function GO(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=$p.transition;$p.transition={};try{t(!1),e()}finally{xe=n,$p.transition=r}}function iT(){return Wn().memoizedState}function QO(t,e,n){var r=Ei(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sT(t))oT(e,n);else if(n=Mb(t,e,n,r),n!==null){var i=tn();ir(n,t,r,i),aT(n,e,r)}}function YO(t,e,n){var r=Ei(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sT(t))oT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(i.next=i,ev(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Mb(t,e,i,r),n!==null&&(i=tn(),ir(n,t,r,i),aT(n,e,r))}}function sT(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function oT(t,e){hl=Dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aT(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,By(t,n)}}var $d={readContext:Vn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},XO={readContext:Vn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:Ww,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,Zb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QO.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:Vw,useDebugValue:uv,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=Vw(!1),e=t[0];return t=GO.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=pr();if(qe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),It===null)throw Error(A(349));(bs&30)!==0||Hb(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ww(Kb.bind(null,r,s,t),[t]),r.flags|=2048,Hl(9,qb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pr(),e=It.identifierPrefix;if(qe){var n=Ar,r=Pr;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JO={readContext:Vn,useCallback:tT,useContext:Vn,useEffect:lv,useImperativeHandle:eT,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nT,useReducer:Mp,useRef:Yb,useState:function(){return Mp(jl)},useDebugValue:uv,useDeferredValue:function(t){var e=Wn();return rT(e,ft.memoizedState,t)},useTransition:function(){var t=Mp(jl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Wb,useSyncExternalStore:jb,useId:iT,unstable_isNewReconciler:!1},ZO={readContext:Vn,useCallback:tT,useContext:Vn,useEffect:lv,useImperativeHandle:eT,useInsertionEffect:Xb,useLayoutEffect:Jb,useMemo:nT,useReducer:Lp,useRef:Yb,useState:function(){return Lp(jl)},useDebugValue:uv,useDeferredValue:function(t){var e=Wn();return ft===null?e.memoizedState=t:rT(e,ft.memoizedState,t)},useTransition:function(){var t=Lp(jl)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:Wb,useSyncExternalStore:jb,useId:iT,unstable_isNewReconciler:!1};function Qo(t,e){try{var n="",r=e;do n+=IA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fp(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function ug(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eD=typeof WeakMap=="function"?WeakMap:Map;function lT(t,e,n){n=Lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ld||(Ld=!0,_g=r),ug(t,e)},n}function uT(t,e,n){n=Lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ug(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ug(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function jw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pD.bind(null,t,e,n),e.then(t,t))}function Hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qw(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Lr(-1,1),e.tag=2,wi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var tD=Qr.ReactCurrentOwner,hn=!1;function Xt(t,e,n,r){e.child=t===null?zb(e,null,n,r):Ko(e,t.child,n,r)}function Kw(t,e,n,r,i){n=n.render;var s=e.ref;return Ao(e,i),r=ov(t,e,n,r,s,i),n=av(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(qe&&n&&Gy(e),e.flags|=1,Xt(t,e,r,i),e.child)}function Gw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!yv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cT(t,e,s,r,i)):(t=nd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(o,r)&&t.ref===e.ref)return Wr(t,e,i)}return e.flags|=1,t=Si(s,r),t.ref=e.ref,t.return=e,e.child=t}function cT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ll(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(hn=!0);else return e.lanes=t.lanes,Wr(t,e,i)}return cg(t,e,n,r,i)}function dT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(Eo,Cn),Cn|=n;else{if((n&1073741824)===0)return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(Eo,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Me(Eo,Cn),Cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Me(Eo,Cn),Cn|=r;return Xt(t,e,i,n),e.child}function hT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cg(t,e,n,r,i){var s=yn(n)?Es:Yt.current;return s=Ho(e,s),Ao(e,i),n=ov(t,e,n,r,s,i),r=av(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wr(t,e,i)):(qe&&r&&Gy(e),e.flags|=1,Xt(t,e,n,i),e.child)}function Qw(t,e,n,r,i){if(yn(n)){var s=!0;Id(e)}else s=!1;if(Ao(e,i),e.stateNode===null)Zc(t,e),Ub(e,n,r),lg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Vn(u):(u=yn(n)?Es:Yt.current,u=Ho(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Bw(e,o,r,u),li=!1;var h=e.memoizedState;o.state=h,Ad(e,r,o,i),l=e.memoizedState,a!==r||h!==l||gn.current||li?(typeof c=="function"&&(ag(e,n,c,r),l=e.memoizedState),(a=li||Uw(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Lb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=yn(n)?Es:Yt.current,l=Ho(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Bw(e,o,r,l),li=!1,h=e.memoizedState,o.state=h,Ad(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||gn.current||li?(typeof f=="function"&&(ag(e,n,f,r),p=e.memoizedState),(u=li||Uw(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return dg(t,e,n,r,s,i)}function dg(t,e,n,r,i,s){hT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Dw(e,n,!1),Wr(t,e,s);r=e.stateNode,tD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,s),e.child=Ko(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,i&&Dw(e,n,!0),e.child}function fT(t){var e=t.stateNode;e.pendingContext?Ow(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ow(t,e.context,!1),nv(t,e.containerInfo)}function Yw(t,e,n,r,i){return qo(),Yy(i),e.flags|=256,Xt(t,e,n,r),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function pT(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(Ye,i&1),t===null)return sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},(r&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Bh(o,r,0,null),t=ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fg(n),e.memoizedState=hg,t):cv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(o&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Si(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Si(a,s):(s=ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?fg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hg,r}return s=t.child,t=s.sibling,r=Si(s,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function cv(t,e){return e=Bh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&Yy(r),Ko(e,t.child,null,n),t=cv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fp(Error(A(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bh({mode:"visible",children:r.children},i,0,null),s=ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,(e.mode&1)!==0&&Ko(e,t.child,null,o),e.child.memoizedState=fg(o),e.memoizedState=hg,s);if((e.mode&1)===0)return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(A(419)),r=Fp(s,r,void 0),Sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=It,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),ir(r,t,i,-1))}return gv(),r=Fp(Error(A(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=_i(i.nextSibling),Sn=e,qe=!0,Jn=null,t!==null&&(Mn[Ln++]=Pr,Mn[Ln++]=Ar,Mn[Ln++]=Ss,Pr=t.id,Ar=t.overflow,Ss=e),e=cv(e,r.children),e.flags|=4096,e)}function Xw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),og(t.return,e,n)}function Up(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function mT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=Ye.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xw(t,n,e);else if(t.tag===19)Xw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(Ye,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Od(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Up(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Od(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Up(e,!0,n,null,s);break;case"together":Up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rD(t,e,n){switch(e.tag){case 3:fT(e),qo();break;case 5:Vb(e);break;case 1:yn(e.type)&&Id(e);break;case 4:nv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(Ye,Ye.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?pT(t,e,n):(Me(Ye,Ye.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Me(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return mT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,dT(t,e,n)}return Wr(t,e,n)}var gT,pg,yT,vT;gT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pg=function(){};yT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,is(_r.current);var s=null;switch(n){case"input":i=Mm(t,i),r=Mm(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=Um(t,i),r=Um(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Td)}zm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};vT=function(t,e,n,r){n!==r&&(e.flags|=4)};function za(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iD(t,e,n){var r=e.pendingProps;switch(Qy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return yn(e.type)&&xd(),Vt(e),null;case 3:return r=e.stateNode,Go(),Ve(gn),Ve(Yt),iv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Jn!==null&&(Eg(Jn),Jn=null))),pg(t,e),Vt(e),null;case 5:rv(e);var i=is(Vl.current);if(n=e.type,t!==null&&e.stateNode!=null)yT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Vt(e),null}if(t=is(_r.current),Cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yr]=e,r[Bl]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<tl.length;i++)Be(tl[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":ow(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":lw(r,s),Be("invalid",r)}zm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&wc(r.textContent,a,t),i=["children",""+a]):Nl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":hc(r),aw(r,s,!0);break;case"textarea":hc(r),uw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Td)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yr]=e,t[Bl]=r,gT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vm(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<tl.length;i++)Be(tl[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":ow(t,r),i=Mm(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Be("invalid",t);break;case"textarea":lw(t,r),i=Um(t,r),Be("invalid",t);break;default:i=r}zm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?GS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pl(t,l):typeof l=="number"&&Pl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&Dy(t,s,l,o))}switch(n){case"input":hc(t),aw(t,r,!1);break;case"textarea":hc(t),uw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ii(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Td)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)vT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=is(Vl.current),is(_r.current),Cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[yr]=e,(s=r.nodeValue!==n)&&(t=Sn,t!==null))switch(t.tag){case 3:wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ve(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&En!==null&&(e.mode&1)!==0&&(e.flags&128)===0)$b(),qo(),e.flags|=98560,s=!1;else if(s=Cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(A(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(A(317));s[yr]=e}else qo(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Vt(e),s=!1}else Jn!==null&&(Eg(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ye.current&1)!==0?mt===0&&(mt=3):gv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return Go(),pg(t,e),t===null&&Fl(e.stateNode.containerInfo),Vt(e),null;case 10:return Zy(e.type._context),Vt(e),null;case 17:return yn(e.type)&&xd(),Vt(e),null;case 19:if(Ve(Ye),s=e.memoizedState,s===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)za(s,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Od(t),o!==null){for(e.flags|=128,za(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&tt()>Yo&&(e.flags|=128,r=!0,za(s,!1),e.lanes=4194304)}else{if(!r)if(t=Od(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),za(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!qe)return Vt(e),null}else 2*tt()-s.renderingStartTime>Yo&&n!==1073741824&&(e.flags|=128,r=!0,za(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tt(),e.sibling=null,n=Ye.current,Me(Ye,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return mv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Cn&1073741824)!==0&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function sD(t,e){switch(Qy(e),e.tag){case 1:return yn(e.type)&&xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Go(),Ve(gn),Ve(Yt),iv(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return rv(e),null;case 13:if(Ve(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Ye),null;case 4:return Go(),null;case 10:return Zy(e.type._context),null;case 22:case 23:return mv(),null;case 24:return null;default:return null}}var bc=!1,Ht=!1,oD=typeof WeakSet=="function"?WeakSet:Set,V=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function mg(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var Jw=!1;function aD(t,e){if(Jm=Ed,t=Eb(),Ky(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zm={focusedElem:t,selectionRange:n},Ed=!1,V=e;V!==null;)if(e=V,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,V=t;else for(;V!==null;){e=V;try{var p=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,E=p.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:Yn(e.type,m),E);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(_){Ze(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,V=t;break}V=e.return}return p=Jw,Jw=!1,p}function fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mg(e,n,s)}i=i.next}while(i!==r)}}function Fh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _T(t){var e=t.alternate;e!==null&&(t.alternate=null,_T(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yr],delete e[Bl],delete e[ng],delete e[WO],delete e[jO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wT(t){return t.tag===5||t.tag===3||t.tag===4}function Zw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Td));else if(r!==4&&(t=t.child,t!==null))for(yg(t,e,n),t=t.sibling;t!==null;)yg(t,e,n),t=t.sibling}function vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vg(t,e,n),t=t.sibling;t!==null;)vg(t,e,n),t=t.sibling}var At=null,Xn=!1;function ri(t,e,n){for(n=n.child;n!==null;)CT(t,e,n),n=n.sibling}function CT(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Ht||Co(n,e);case 6:var r=At,i=Xn;At=null,ri(t,e,n),At=r,Xn=i,At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Xn?(t=At,n=n.stateNode,t.nodeType===8?Ap(t.parentNode,n):t.nodeType===1&&Ap(t,n),$l(t)):Ap(At,n.stateNode));break;case 4:r=At,i=Xn,At=n.stateNode.containerInfo,Xn=!0,ri(t,e,n),At=r,Xn=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&mg(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Ht&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ri(t,e,n),Ht=r):ri(t,e,n);break;default:ri(t,e,n)}}function e1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oD),e.forEach(function(r){var i=gD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Xn=!1;break e;case 3:At=a.stateNode.containerInfo,Xn=!0;break e;case 4:At=a.stateNode.containerInfo,Xn=!0;break e}a=a.return}if(At===null)throw Error(A(160));CT(s,o,i),At=null,Xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ze(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ET(e,t),e=e.sibling}function ET(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),fr(t),r&4){try{fl(3,t,t.return),Fh(3,t)}catch(m){Ze(t,t.return,m)}try{fl(5,t,t.return)}catch(m){Ze(t,t.return,m)}}break;case 1:Qn(e,t),fr(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Qn(e,t),fr(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{Pl(i,"")}catch(m){Ze(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&WS(i,s),Vm(a,o);var u=Vm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?GS(i,d):c==="dangerouslySetInnerHTML"?qS(i,d):c==="children"?Pl(i,d):Dy(i,c,d,u)}switch(a){case"input":Lm(i,s);break;case"textarea":jS(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ko(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ko(i,!!s.multiple,s.defaultValue,!0):ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bl]=s}catch(m){Ze(t,t.return,m)}}break;case 6:if(Qn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ze(t,t.return,m)}}break;case 3:if(Qn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(m){Ze(t,t.return,m)}break;case 4:Qn(e,t),fr(t);break;case 13:Qn(e,t),fr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(fv=tt())),r&4&&e1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(u=Ht)||c,Qn(e,t),Ht=u):Qn(e,t),fr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(V=t,c=t.child;c!==null;){for(d=V=c;V!==null;){switch(h=V,f=h.child,h.tag){case 0:case 11:case 14:case 15:fl(4,h,h.return);break;case 1:Co(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ze(r,n,m)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){n1(d);continue}}f!==null?(f.return=h,V=f):n1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KS("display",o))}catch(m){Ze(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Ze(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qn(e,t),fr(t),r&4&&e1(t);break;case 21:break;default:Qn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wT(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pl(i,""),r.flags&=-33);var s=Zw(t);vg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Zw(t);yg(t,a,o);break;default:throw Error(A(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lD(t,e,n){V=t,ST(t)}function ST(t,e,n){for(var r=(t.mode&1)!==0;V!==null;){var i=V,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=bc;var u=Ht;if(bc=o,(Ht=l)&&!u)for(V=i;V!==null;)o=V,l=o.child,o.tag===22&&o.memoizedState!==null?r1(i):l!==null?(l.return=o,V=l):r1(i);for(;s!==null;)V=s,ST(s),s=s.sibling;V=i,bc=a,Ht=u}t1(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,V=s):t1(t)}}function t1(t){for(;V!==null;){var e=V;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Ht||Fh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&$l(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Ht||e.flags&512&&gg(e)}catch(h){Ze(e,e.return,h)}}if(e===t){V=null;break}if(n=e.sibling,n!==null){n.return=e.return,V=n;break}V=e.return}}function n1(t){for(;V!==null;){var e=V;if(e===t){V=null;break}var n=e.sibling;if(n!==null){n.return=e.return,V=n;break}V=e.return}}function r1(t){for(;V!==null;){var e=V;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fh(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ze(e,i,l)}}var s=e.return;try{gg(e)}catch(l){Ze(e,s,l)}break;case 5:var o=e.return;try{gg(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){V=null;break}var a=e.sibling;if(a!==null){a.return=e.return,V=a;break}V=e.return}}var uD=Math.ceil,Md=Qr.ReactCurrentDispatcher,dv=Qr.ReactCurrentOwner,Un=Qr.ReactCurrentBatchConfig,ve=0,It=null,ct=null,$t=0,Cn=0,Eo=Li(0),mt=0,ql=null,Ts=0,Uh=0,hv=0,pl=null,un=null,fv=0,Yo=1/0,kr=null,Ld=!1,_g=null,Ci=null,Tc=!1,mi=null,Fd=0,ml=0,wg=null,ed=-1,td=0;function tn(){return(ve&6)!==0?tt():ed!==-1?ed:ed=tt()}function Ei(t){return(t.mode&1)===0?1:(ve&2)!==0&&$t!==0?$t&-$t:qO.transition!==null?(td===0&&(td=ob()),td):(t=xe,t!==0||(t=window.event,t=t===void 0?16:fb(t.type)),t)}function ir(t,e,n,r){if(50<ml)throw ml=0,wg=null,Error(A(185));Tu(t,n,r),((ve&2)===0||t!==It)&&(t===It&&((ve&2)===0&&(Uh|=n),mt===4&&ci(t,$t)),vn(t,r),n===1&&ve===0&&(e.mode&1)===0&&(Yo=tt()+500,$h&&Fi()))}function vn(t,e){var n=t.callbackNode;qA(t,e);var r=Cd(t,t===It?$t:0);if(r===0)n!==null&&hw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hw(n),e===1)t.tag===0?HO(i1.bind(null,t)):Ab(i1.bind(null,t)),zO(function(){(ve&6)===0&&Fi()}),n=null;else{switch(ab(r)){case 1:n=Uy;break;case 4:n=ib;break;case 16:n=wd;break;case 536870912:n=sb;break;default:n=wd}n=PT(n,bT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bT(t,e){if(ed=-1,td=0,(ve&6)!==0)throw Error(A(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=Cd(t,t===It?$t:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Ud(t,r);else{e=r;var i=ve;ve|=2;var s=xT();(It!==t||$t!==e)&&(kr=null,Yo=tt()+500,fs(t,e));do try{hD();break}catch(a){TT(t,a)}while(1);Jy(),Md.current=s,ve=i,ct!==null?e=0:(It=null,$t=0,e=mt)}if(e!==0){if(e===2&&(i=Km(t),i!==0&&(r=i,e=Cg(t,i))),e===1)throw n=ql,fs(t,0),ci(t,r),vn(t,tt()),n;if(e===6)ci(t,r);else{if(i=t.current.alternate,(r&30)===0&&!cD(i)&&(e=Ud(t,r),e===2&&(s=Km(t),s!==0&&(r=s,e=Cg(t,s))),e===1))throw n=ql,fs(t,0),ci(t,r),vn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Qi(t,un,kr);break;case 3:if(ci(t,r),(r&130023424)===r&&(e=fv+500-tt(),10<e)){if(Cd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tg(Qi.bind(null,t,un,kr),e);break}Qi(t,un,kr);break;case 4:if(ci(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uD(r/1960))-r,10<r){t.timeoutHandle=tg(Qi.bind(null,t,un,kr),r);break}Qi(t,un,kr);break;case 5:Qi(t,un,kr);break;default:throw Error(A(329))}}}return vn(t,tt()),t.callbackNode===n?bT.bind(null,t):null}function Cg(t,e){var n=pl;return t.current.memoizedState.isDehydrated&&(fs(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=un,un=n,e!==null&&Eg(e)),t}function Eg(t){un===null?un=t:un.push.apply(un,t)}function cD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ci(t,e){for(e&=~hv,e&=~Uh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function i1(t){if((ve&6)!==0)throw Error(A(327));Oo();var e=Cd(t,0);if((e&1)===0)return vn(t,tt()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var r=Km(t);r!==0&&(e=r,n=Cg(t,r))}if(n===1)throw n=ql,fs(t,0),ci(t,e),vn(t,tt()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qi(t,un,kr),vn(t,tt()),null}function pv(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(Yo=tt()+500,$h&&Fi())}}function xs(t){mi!==null&&mi.tag===0&&(ve&6)===0&&Oo();var e=ve;ve|=1;var n=Un.transition,r=xe;try{if(Un.transition=null,xe=1,t)return t()}finally{xe=r,Un.transition=n,ve=e,(ve&6)===0&&Fi()}}function mv(){Cn=Eo.current,Ve(Eo)}function fs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BO(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Qy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xd();break;case 3:Go(),Ve(gn),Ve(Yt),iv();break;case 5:rv(r);break;case 4:Go();break;case 13:Ve(Ye);break;case 19:Ve(Ye);break;case 10:Zy(r.type._context);break;case 22:case 23:mv()}n=n.return}if(It=t,ct=t=Si(t.current,null),$t=Cn=e,mt=0,ql=null,hv=Uh=Ts=0,un=pl=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}rs=null}return t}function TT(t,e){do{var n=ct;try{if(Jy(),Xc.current=$d,Dd){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dd=!1}if(bs=0,bt=ft=Xe=null,hl=!1,Wl=0,dv.current=null,n===null||n.return===null){mt=1,ql=e,ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=$t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if((c.mode&1)===0&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Hw(o);if(f!==null){f.flags&=-257,qw(f,o,a,s,e),f.mode&1&&jw(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if((e&1)===0){jw(s,u,e),gv();break e}l=Error(A(426))}}else if(qe&&a.mode&1){var E=Hw(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),qw(E,o,a,s,e),Yy(Qo(l,a));break e}}s=l=Qo(l,a),mt!==4&&(mt=2),pl===null?pl=[s]:pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=lT(s,l,e);Lw(s,g);break e;case 1:a=l;var y=s.type,v=s.stateNode;if((s.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ci===null||!Ci.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=uT(s,a,e);Lw(s,_);break e}}s=s.return}while(s!==null)}kT(n)}catch(S){e=S,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(1)}function xT(){var t=Md.current;return Md.current=$d,t===null?$d:t}function gv(){(mt===0||mt===3||mt===2)&&(mt=4),It===null||(Ts&268435455)===0&&(Uh&268435455)===0||ci(It,$t)}function Ud(t,e){var n=ve;ve|=2;var r=xT();(It!==t||$t!==e)&&(kr=null,fs(t,e));do try{dD();break}catch(i){TT(t,i)}while(1);if(Jy(),ve=n,Md.current=r,ct!==null)throw Error(A(261));return It=null,$t=0,mt}function dD(){for(;ct!==null;)IT(ct)}function hD(){for(;ct!==null&&!LA();)IT(ct)}function IT(t){var e=NT(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?kT(t):ct=e,dv.current=null}function kT(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=iD(n,e,Cn),n!==null){ct=n;return}}else{if(n=sD(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function Qi(t,e,n){var r=xe,i=Un.transition;try{Un.transition=null,xe=1,fD(t,e,n,r)}finally{Un.transition=i,xe=r}return null}function fD(t,e,n,r){do Oo();while(mi!==null);if((ve&6)!==0)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KA(t,s),t===It&&(ct=It=null,$t=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Tc||(Tc=!0,PT(wd,function(){return Oo(),null})),s=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||s){s=Un.transition,Un.transition=null;var o=xe;xe=1;var a=ve;ve|=4,dv.current=null,aD(t,n),ET(n,t),OO(Zm),Ed=!!Jm,Zm=Jm=null,t.current=n,lD(n),FA(),ve=a,xe=o,Un.transition=s}else t.current=n;if(Tc&&(Tc=!1,mi=t,Fd=i),s=t.pendingLanes,s===0&&(Ci=null),zA(n.stateNode),vn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ld)throw Ld=!1,t=_g,_g=null,t;return(Fd&1)!==0&&t.tag!==0&&Oo(),s=t.pendingLanes,(s&1)!==0?t===wg?ml++:(ml=0,wg=t):ml=0,Fi(),null}function Oo(){if(mi!==null){var t=ab(Fd),e=Un.transition,n=xe;try{if(Un.transition=null,xe=16>t?16:t,mi===null)var r=!1;else{if(t=mi,mi=null,Fd=0,(ve&6)!==0)throw Error(A(331));var i=ve;for(ve|=4,V=t.current;V!==null;){var s=V,o=s.child;if((V.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(V=u;V!==null;){var c=V;switch(c.tag){case 0:case 11:case 15:fl(8,c,s)}var d=c.child;if(d!==null)d.return=c,V=d;else for(;V!==null;){c=V;var h=c.sibling,f=c.return;if(_T(c),c===u){V=null;break}if(h!==null){h.return=f,V=h;break}V=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var E=m.sibling;m.sibling=null,m=E}while(m!==null)}}V=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,V=o;else e:for(;V!==null;){if(s=V,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:fl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,V=g;break e}V=s.return}}var y=t.current;for(V=y;V!==null;){o=V;var v=o.child;if((o.subtreeFlags&2064)!==0&&v!==null)v.return=o,V=v;else e:for(o=y;V!==null;){if(a=V,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Fh(9,a)}}catch(S){Ze(a,a.return,S)}if(a===o){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(ve=i,Fi(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{xe=n,Un.transition=e}}return!1}function s1(t,e,n){e=Qo(n,e),e=lT(t,e,1),t=wi(t,e,1),e=tn(),t!==null&&(Tu(t,1,e),vn(t,e))}function Ze(t,e,n){if(t.tag===3)s1(t,t,n);else for(;e!==null;){if(e.tag===3){s1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Qo(n,t),t=uT(e,t,1),e=wi(e,t,1),t=tn(),e!==null&&(Tu(e,1,t),vn(e,t));break}}e=e.return}}function pD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,It===t&&($t&n)===n&&(mt===4||mt===3&&($t&130023424)===$t&&500>tt()-fv?fs(t,0):hv|=n),vn(t,e)}function RT(t,e){e===0&&((t.mode&1)===0?e=1:(e=mc,mc<<=1,(mc&130023424)===0&&(mc=4194304)));var n=tn();t=Vr(t,e),t!==null&&(Tu(t,e,n),vn(t,n))}function mD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RT(t,n)}function gD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),RT(t,n)}var NT;NT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)hn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return hn=!1,rD(t,e,n);hn=(t.flags&131072)!==0}else hn=!1,qe&&(e.flags&1048576)!==0&&Ob(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var i=Ho(e,Yt.current);Ao(e,n),i=ov(null,e,r,t,i,n);var s=av();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,Id(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,tv(e),i.updater=Mh,e.stateNode=i,i._reactInternals=e,lg(e,r,t,n),e=dg(null,e,r,!0,s,n)):(e.tag=0,qe&&s&&Gy(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vD(r),t=Yn(r,t),i){case 0:e=cg(null,e,r,t,n);break e;case 1:e=Qw(null,e,r,t,n);break e;case 11:e=Kw(null,e,r,t,n);break e;case 14:e=Gw(null,e,r,Yn(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),cg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Qw(t,e,r,i,n);case 3:e:{if(fT(e),t===null)throw Error(A(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Lb(t,e),Ad(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qo(Error(A(423)),e),e=Yw(t,e,r,n,i);break e}else if(r!==i){i=Qo(Error(A(424)),e),e=Yw(t,e,r,n,i);break e}else for(En=_i(e.stateNode.containerInfo.firstChild),Sn=e,qe=!0,Jn=null,n=zb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qo(),r===i){e=Wr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return Vb(e),t===null&&sg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,eg(r,i)?o=null:s!==null&&eg(r,s)&&(e.flags|=32),hT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&sg(e),null;case 13:return pT(t,e,n);case 4:return nv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Kw(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Me(Nd,r._currentValue),r._currentValue=o,s!==null)if(ar(s.value,o)){if(s.children===i.children&&!gn.current){e=Wr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Lr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),og(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),og(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ao(e,n),i=Vn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=Yn(r,e.pendingProps),i=Yn(r.type,i),Gw(t,e,r,i,n);case 15:return cT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yn(r,i),Zc(t,e),e.tag=1,yn(r)?(t=!0,Id(e)):t=!1,Ao(e,n),Ub(e,r,i),lg(e,r,i,n),dg(null,e,r,!0,t,n);case 19:return mT(t,e,n);case 22:return dT(t,e,n)}throw Error(A(156,e.tag))};function PT(t,e){return rb(t,e)}function yD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new yD(t,e,n,r)}function yv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vD(t){if(typeof t=="function")return yv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===My)return 11;if(t===Ly)return 14}return 2}function Si(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")yv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ho:return ps(n.children,i,s,e);case $y:o=8,i|=8;break;case Am:return t=Fn(12,n,e,i|2),t.elementType=Am,t.lanes=s,t;case Om:return t=Fn(13,n,e,i),t.elementType=Om,t.lanes=s,t;case Dm:return t=Fn(19,n,e,i),t.elementType=Dm,t.lanes=s,t;case BS:return Bh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FS:o=10;break e;case US:o=9;break e;case My:o=11;break e;case Ly:o=14;break e;case ai:o=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ps(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Bh(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=BS,t.lanes=n,t.stateNode={isHidden:!1},t}function Bp(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _D(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cp(0),this.expirationTimes=Cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vv(t,e,n,r,i,s,o,a,l){return t=new _D(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tv(s),t}function wD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AT(t){if(!t)return ki;t=t._reactInternals;e:{if(js(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(yn(n))return Pb(t,n,e)}return e}function OT(t,e,n,r,i,s,o,a,l){return t=vv(n,r,!0,t,i,s,o,a,l),t.context=AT(null),n=t.current,r=tn(),i=Ei(n),s=Lr(r,i),s.callback=e!=null?e:null,wi(n,s,i),t.current.lanes=i,Tu(t,i,r),vn(t,r),t}function zh(t,e,n,r){var i=e.current,s=tn(),o=Ei(i);return n=AT(n),e.context===null?e.context=n:e.pendingContext=n,e=Lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wi(i,e,o),t!==null&&(ir(t,i,o,s),Yc(t,i,o)),o}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _v(t,e){o1(t,e),(t=t.alternate)&&o1(t,e)}function CD(){return null}var DT=typeof reportError=="function"?reportError:function(t){console.error(t)};function wv(t){this._internalRoot=t}Vh.prototype.render=wv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));zh(t,e,null,null)};Vh.prototype.unmount=wv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xs(function(){zh(null,t,null,null)}),e[zr]=null}};function Vh(t){this._internalRoot=t}Vh.prototype.unstable_scheduleHydration=function(t){if(t){var e=cb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&hb(t)}};function Cv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a1(){}function ED(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Bd(o);s.call(u)}}var o=OT(e,r,t,0,null,!1,!1,"",a1);return t._reactRootContainer=o,t[zr]=o.current,Fl(t.nodeType===8?t.parentNode:t),xs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Bd(l);a.call(u)}}var l=vv(t,0,!1,null,null,!1,!1,"",a1);return t._reactRootContainer=l,t[zr]=l.current,Fl(t.nodeType===8?t.parentNode:t),xs(function(){zh(e,l,n,r)}),l}function jh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bd(o);a.call(l)}}zh(e,o,t,i)}else o=ED(n,e,t,i,r);return Bd(o)}lb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=el(e.pendingLanes);n!==0&&(By(e,n|1),vn(e,tt()),(ve&6)===0&&(Yo=tt()+500,Fi()))}break;case 13:xs(function(){var r=Vr(t,1);if(r!==null){var i=tn();ir(r,t,1,i)}}),_v(t,1)}};zy=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=tn();ir(e,t,134217728,n)}_v(t,134217728)}};ub=function(t){if(t.tag===13){var e=Ei(t),n=Vr(t,e);if(n!==null){var r=tn();ir(n,t,e,r)}_v(t,e)}};cb=function(){return xe};db=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};jm=function(t,e,n){switch(e){case"input":if(Lm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dh(r);if(!i)throw Error(A(90));VS(r),Lm(r,i)}}}break;case"textarea":jS(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};XS=pv;JS=xs;var SD={usingClientEntryPoint:!1,Events:[Iu,go,Dh,QS,YS,pv]},Va={findFiberByHostInstance:ns,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},bD={bundleType:Va.bundleType,version:Va.version,rendererPackageName:Va.rendererPackageName,rendererConfig:Va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tb(t),t===null?null:t.stateNode},findFiberByHostInstance:Va.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Nh=xc.inject(bD),vr=xc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cv(e))throw Error(A(200));return wD(t,e,null,n)};Pn.createRoot=function(t,e){if(!Cv(t))throw Error(A(299));var n=!1,r="",i=DT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vv(t,1,!1,null,null,n,!1,r,i),t[zr]=e.current,Fl(t.nodeType===8?t.parentNode:t),new wv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=tb(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return xs(t)};Pn.hydrate=function(t,e,n){if(!Wh(e))throw Error(A(200));return jh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Cv(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=DT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=OT(e,null,t,1,n!=null?n:null,i,!1,s,o),t[zr]=e.current,Fl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Vh(e)};Pn.render=function(t,e,n){if(!Wh(e))throw Error(A(200));return jh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(A(40));return t._reactRootContainer?(xs(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[zr]=null})}),!0):!1};Pn.unstable_batchedUpdates=pv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wh(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return jh(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Pn})(bu);const Ic=xS(bu.exports);var l1=bu.exports;Nm.createRoot=l1.createRoot,Nm.hydrateRoot=l1.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(t,e){if(!t)throw wa(e)},wa=function(t){return new Error("Firebase Database ("+$T.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw Error();const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},LT=function(t){const e=MT(t);return Ev.encodeByteArray(e,!0)},FT=function(t){return LT(t).replace(/\./g,"")},Sg=function(t){try{return Ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t){return UT(void 0,t)}function UT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ID(n)||(t[n]=UT(t[n],e[n]));return t}function ID(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function BT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kD(){return kt().indexOf("Electron/")>=0}function zT(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RD(){return kt().indexOf("MSAppHost/")>=0}function VT(){return $T.NODE_ADMIN===!0}function WT(){return typeof indexedDB=="object"}function ND(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="FirebaseError";class Hn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=PD,Object.setPrototypeOf(this,Hn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Hn(i,a,r)}}function AD(t,e){return t.replace(OD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return JSON.parse(t)}function xt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Kl(Sg(s[0])||""),n=Kl(Sg(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},DD=function(t){const e=jT(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$D=function(t){const e=jT(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function bg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Vd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(u1(s)&&u1(o)){if(!Vd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function u1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function LD(t,e){const n=new FD(t,e);return n.subscribe.bind(n)}class FD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vp),i.error===void 0&&(i.error=Vp),i.complete===void 0&&(i.complete=Vp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vp(){}function HT(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,M(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},qh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1e3,VD=2,WD=4*60*60*1e3,jD=.5;function HD(t,e=zD,n=VD){const r=e*Math.pow(n,t),i=Math.round(jD*r*(Math.random()-.5)*2);return Math.min(WD,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Sv;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GD(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(t){return t===Yi?void 0:t}function GD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const YD={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},XD=ye.INFO,JD={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},ZD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ru{constructor(e){this.name=e,this._logLevel=XD,this._logHandler=ZD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const e$=(t,e)=>e.some(n=>t instanceof n);let c1,d1;function t$(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n$(){return d1||(d1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,Tg=new WeakMap,KT=new WeakMap,Wp=new WeakMap,Tv=new WeakMap;function r$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qT.set(n,t)}).catch(()=>{}),Tv.set(e,t),e}function i$(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}let xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s$(t){xg=t(xg)}function o$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jp(this),e,...n);return KT.set(r,e.sort?e.sort():[e]),bi(r)}:n$().includes(t)?function(...e){return t.apply(jp(this),e),bi(qT.get(this))}:function(...e){return bi(t.apply(jp(this),e))}}function a$(t){return typeof t=="function"?o$(t):(t instanceof IDBTransaction&&i$(t),e$(t,t$())?new Proxy(t,xg):t)}function bi(t){if(t instanceof IDBRequest)return r$(t);if(Wp.has(t))return Wp.get(t);const e=a$(t);return e!==t&&(Wp.set(t,e),Tv.set(e,t)),e}const jp=t=>Tv.get(t);function GT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=bi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bi(o.result),l.oldVersion,l.newVersion,bi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const l$=["get","getKey","getAll","getAllKeys","count"],u$=["put","add","delete","clear"],Hp=new Map;function h1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=u$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l$.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Hp.set(e,s),s}s$(t=>({...t,get:(e,n,r)=>h1(e,n)||t.get(e,n,r),has:(e,n)=>!!h1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",f1="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new Ru("@firebase/app"),h$="@firebase/app-compat",f$="@firebase/analytics-compat",p$="@firebase/analytics",m$="@firebase/app-check-compat",g$="@firebase/app-check",y$="@firebase/auth",v$="@firebase/auth-compat",_$="@firebase/database",w$="@firebase/database-compat",C$="@firebase/functions",E$="@firebase/functions-compat",S$="@firebase/installations",b$="@firebase/installations-compat",T$="@firebase/messaging",x$="@firebase/messaging-compat",I$="@firebase/performance",k$="@firebase/performance-compat",R$="@firebase/remote-config",N$="@firebase/remote-config-compat",P$="@firebase/storage",A$="@firebase/storage-compat",O$="@firebase/firestore",D$="@firebase/firestore-compat",$$="firebase",M$="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="[DEFAULT]",L$={[Ig]:"fire-core",[h$]:"fire-core-compat",[p$]:"fire-analytics",[f$]:"fire-analytics-compat",[g$]:"fire-app-check",[m$]:"fire-app-check-compat",[y$]:"fire-auth",[v$]:"fire-auth-compat",[_$]:"fire-rtdb",[w$]:"fire-rtdb-compat",[C$]:"fire-fn",[E$]:"fire-fn-compat",[S$]:"fire-iid",[b$]:"fire-iid-compat",[T$]:"fire-fcm",[x$]:"fire-fcm-compat",[I$]:"fire-perf",[k$]:"fire-perf-compat",[R$]:"fire-rc",[N$]:"fire-rc-compat",[P$]:"fire-gcs",[A$]:"fire-gcs-compat",[O$]:"fire-fst",[D$]:"fire-fst-compat","fire-js":"fire-js",[$$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,kg=new Map;function F$(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jn(t){const e=t.name;if(kg.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(const n of Gl.values())F$(n,t);return!0}function Ea(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ks=new Hs("app","Firebase",U$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=M$;function z$(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:QT,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw ks.create("bad-app-name",{appName:String(r)});const i=Gl.get(r);if(i){if(Vd(t,i.options)&&Vd(n,i.config))return i;throw ks.create("duplicate-app",{appName:r})}const s=new QD(r);for(const a of kg.values())s.addComponent(a);const o=new B$(t,n,s);return Gl.set(r,o),o}function xv(t=QT){const e=Gl.get(t);if(!e)throw ks.create("no-app",{appName:t});return e}function V$(){return Array.from(Gl.values())}function dt(t,e,n){var r;let i=(r=L$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(a.join(" "));return}jn(new Rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="firebase-heartbeat-database",j$=1,Ql="firebase-heartbeat-store";let qp=null;function YT(){return qp||(qp=GT(W$,j$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ql)}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),qp}async function H$(t){var e;try{return(await YT()).transaction(Ql).objectStore(Ql).get(XT(t))}catch(n){if(n instanceof Hn)Is.warn(n.message);else{const r=ks.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Is.warn(r.message)}}}async function p1(t,e){var n;try{const i=(await YT()).transaction(Ql,"readwrite");return await i.objectStore(Ql).put(e,XT(t)),i.done}catch(r){if(r instanceof Hn)Is.warn(r.message);else{const i=ks.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Is.warn(i.message)}}}function XT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$=1024,K$=30*24*60*60*1e3;class G${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=m1();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=K$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m1(),{heartbeatsToSend:n,unsentEntries:r}=Q$(this._heartbeatsCache.heartbeats),i=FT(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function m1(){return new Date().toISOString().substring(0,10)}function Q$(t,e=q$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),g1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),g1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WT()?ND().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await H$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return p1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function g1(t){return FT(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){jn(new Rn("platform-logger",e=>new c$(e),"PRIVATE")),jn(new Rn("heartbeat",e=>new G$(e),"PRIVATE")),dt(Ig,f1,t),dt(Ig,f1,"esm2017"),dt("fire-js","")}X$("");function Iv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J$=JT,ZT=new Hs("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Ru("@firebase/auth");function rd(t,...e){y1.logLevel<=ye.ERROR&&y1.error(`Auth (${Ui}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw kv(t,...e)}function wr(t,...e){return kv(t,...e)}function ex(t,e,n){const r=Object.assign(Object.assign({},J$()),{[e]:n});return new Hs("auth","Firebase",r).create(e,{appName:t.name})}function Z$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(t,"argument-error"),ex(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZT.create(t,...e)}function oe(t,e,...n){if(!t)throw kv(e,...n)}function Or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rd(e),new Error(e)}function jr(t,e){t||Or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function Dr(t){jr(t instanceof Function,"Expected a class definition");let e=v1.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,v1.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t,e){const n=Ea(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Vd(s,e!=null?e:{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function tM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Dr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nM(){return _1()==="http:"||_1()==="https:"}function _1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nM()||BT()||"connection"in navigator)?navigator.onLine:!0}function iM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=Hh()||bv()}get(){return rM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=new Nu(3e4,6e4);function aM(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kh(t,e,n,r,i={}){return nx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ca(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),tx.fetch()(rx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function nx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sM),e);try{const i=new uM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw kc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw kc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ex(t,c,u);Sr(t,c)}}catch(i){if(i instanceof Hn)throw i;Sr(t,"network-request-failed")}}async function lM(t,e,n,r,i={}){const s=await Kh(t,e,n,r,i);return"mfaPendingCredential"in s&&Sr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function rx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Rv(t.config,i):`${t.config.apiScheme}://${i}`}class uM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),oM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cM(t,e){return Kh(t,"POST","/v1/accounts:delete",e)}async function dM(t,e){return Kh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hM(t,e=!1){const n=rt(t),r=await n.getIdToken(e),i=Nv(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:gl(Kp(i.auth_time)),issuedAtTime:gl(Kp(i.iat)),expirationTime:gl(Kp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kp(t){return Number(t)*1e3}function Nv(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return rd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Sg(r);return s?JSON.parse(s):(rd("Failed to decode base64 JWT payload"),null)}catch(s){return rd("Caught error parsing JWT payload as JSON",(e=s)===null||e===void 0?void 0:e.toString()),null}}function fM(t){const e=Nv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hn&&pM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yl(t,dM(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vM(s.providerUserInfo):[],a=yM(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ix(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function gM(t){const e=rt(t);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vM(t){return t.map(e=>{var{providerId:n}=e,r=Iv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){const n=await nx(t,{},async()=>{const r=Ca({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _M(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Xl;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xl,this.toJSON())}_performRefresh(){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ms{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Iv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ix(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hM(this,e)}reload(){return gM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ms(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Yl(this,cM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:_,isAnonymous:S,providerData:T,stsTokenManager:b}=n;oe(v&&b,e,"internal-error");const x=Xl.fromJSON(this.name,b);oe(typeof v=="string",e,"internal-error"),ii(d,e.name),ii(h,e.name),oe(typeof _=="boolean",e,"internal-error"),oe(typeof S=="boolean",e,"internal-error"),ii(f,e.name),ii(p,e.name),ii(m,e.name),ii(E,e.name),ii(g,e.name),ii(y,e.name);const $=new ms({uid:v,auth:e,email:h,emailVerified:_,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:x,createdAt:g,lastLoginAt:y});return T&&Array.isArray(T)&&($.providerData=T.map(I=>Object.assign({},I))),E&&($._redirectEventId=E),$}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xl;i.updateFromServerResponse(n);const s=new ms({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Wd(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sx.type="NONE";const w1=sx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=id(this.userKey,i.apiKey,s),this.fullPersistenceKey=id("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ms._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Dr(w1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Dr(w1);const o=id(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=ms._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Do(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Do(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cx(e))return"Blackberry";if(dx(e))return"Webos";if(Pv(e))return"Safari";if((e.includes("chrome/")||ax(e))&&!e.includes("edge/"))return"Chrome";if(ux(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ox(t=kt()){return/firefox\//i.test(t)}function Pv(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ax(t=kt()){return/crios\//i.test(t)}function lx(t=kt()){return/iemobile/i.test(t)}function ux(t=kt()){return/android/i.test(t)}function cx(t=kt()){return/blackberry/i.test(t)}function dx(t=kt()){return/webos/i.test(t)}function Gh(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wM(t=kt()){var e;return Gh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CM(){return zT()&&document.documentMode===10}function hx(t=kt()){return Gh(t)||ux(t)||dx(t)||cx(t)||/windows phone/i.test(t)||lx(t)}function EM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t,e=[]){let n;switch(t){case"Browser":n=C1(kt());break;case"Worker":n=`${C1(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new E1(this),this.idTokenSubscription=new E1(this),this.beforeStateQueue=new SM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l==null?void 0:l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await Wd(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?rt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Av(t){return rt(t)}class E1{constructor(e){this.auth=e,this.observer=null,this.addObserver=LD(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Or("not implemented")}_getIdTokenResponse(e){return Or("not implemented")}_linkToIdToken(e,n){return Or("not implemented")}_getReauthenticationResolver(e){return Or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return lM(t,"POST","/v1/accounts:signInWithIdp",aM(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="http://localhost";class Rs extends px{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Iv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Rs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:TM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ca(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Ov{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Pu{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nr.credential(n,r)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Pu{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Pu{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ms._fromIdTokenResponse(e,r,i),o=S1(r);return new Jo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=S1(r);return new Jo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function S1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends Hn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jd(e,n,r,i)}}function mx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,s,e,r):s})}async function xM(t,e,n=!1){const r=await Yl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e,n=!1){var r;const{auth:i}=t,s="reauthenticate";try{const o=await Yl(t,mx(i,s,e,t),n);oe(o.idToken,i,"internal-error");const a=Nv(o.idToken);oe(a,i,"internal-error");const{sub:l}=a;return oe(t.uid===l,i,"user-mismatch"),Jo._forOperation(t,s,o)}catch(o){throw((r=o)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Sr(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kM(t,e,n=!1){const r="signIn",i=await mx(t,r,e),s=await Jo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function RM(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function NM(t){rt(t).useDeviceLanguage()}function PM(t){return rt(t).signOut()}const Hd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hd,"1"),this.storage.removeItem(Hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){const t=kt();return Pv(t)||Gh(t)}const OM=1e3,DM=10;class yx extends gx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AM()&&EM(),this.fallbackToPolling=hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);CM()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yx.type="LOCAL";const $M=yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends gx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vx.type="SESSION";const _x=vx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await MM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Dv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function FM(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function UM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zM(){return wx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="firebaseLocalStorageDb",VM=1,qd="firebaseLocalStorage",Ex="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function WM(){const t=indexedDB.deleteDatabase(Cx);return new Au(t).toPromise()}function Ng(){const t=indexedDB.open(Cx,VM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qd,{keyPath:Ex})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qd)?e(r):(r.close(),await WM(),e(await Ng()))})})}async function b1(t,e,n){const r=Yh(t,!0).put({[Ex]:e,value:n});return new Au(r).toPromise()}async function jM(t,e){const n=Yh(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function T1(t,e){const n=Yh(t,!0).delete(e);return new Au(n).toPromise()}const HM=800,qM=3;class Sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(zM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UM(),!this.activeServiceWorker)return;this.sender=new LM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await b1(e,Hd,"1"),await T1(e,Hd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>b1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Yh(i,!1).getAll();return new Au(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sx.type="LOCAL";const KM=Sx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function QM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",GM().appendChild(r)})}function YM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t,e){return e?Dr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v extends px{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XM(t){return kM(t.auth,new $v(t),t.bypassAuthState)}function JM(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),IM(n,new $v(t),t.bypassAuthState)}async function ZM(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),xM(n,new $v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XM;case"linkViaPopup":case"linkViaRedirect":return ZM;case"reauthViaPopup":case"reauthViaRedirect":return JM;default:Sr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Nu(2e3,1e4);async function tL(t,e,n){const r=Av(t);Z$(t,e,Ov);const i=bx(r,n);return new ss(r,"signInViaPopup",e,i).executeNotNull()}class ss extends Tx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,eL.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="pendingRedirect",sd=new Map;class rL extends Tx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sd.get(this.auth._key());if(!e){try{const r=await iL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sd.set(this.auth._key(),e)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iL(t,e){const n=aL(e),r=oL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sL(t,e){sd.set(t._key(),e)}function oL(t){return Dr(t._redirectPersistence)}function aL(t){return id(nL,t.config.apiKey,t.name)}async function lL(t,e,n=!1){const r=Av(t),i=bx(r,e),o=await new rL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=10*60*1e3;class cL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uL&&this.cachedEventUids.clear(),this.cachedEventUids.has(x1(e))}saveEventToCache(e){this.cachedEventUids.add(x1(e)),this.lastProcessedEventTime=Date.now()}}function x1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return Kh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pL=/^https?/;async function mL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hL(t);for(const n of e)try{if(gL(n))return}catch{}Sr(t,"unauthorized-domain")}function gL(t){const e=Rg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pL.test(n))return!1;if(fL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new Nu(3e4,6e4);function I1(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vL(t){return new Promise((e,n)=>{var r,i,s;function o(){I1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I1(),n(wr(t,"network-request-failed"))},timeout:yL.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=YM("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(wr(t,"network-request-failed"))},QM(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw od=null,e})}let od=null;function _L(t){return od=od||vL(t),od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new Nu(5e3,15e3),CL="__/auth/iframe",EL="emulator/auth/iframe",SL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rv(e,EL):`https://${t.config.authDomain}/${CL}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},i=bL.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ca(r).slice(1)}`}async function xL(t){const e=await _L(t),n=Cr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:TL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SL,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},wL.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kL=500,RL=600,NL="_blank",PL="http://localhost";class k1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AL(t,e,n,r=kL,i=RL){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IL),{width:r.toString(),height:i.toString(),top:s,left:o}),u=kt().toLowerCase();n&&(a=ax(u)?NL:n),ox(u)&&(e=e||PL,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(wM(u)&&a!=="_self")return OL(e||"",a),new k1(null);const d=window.open(e||"",a,c);oe(d,t,"popup-blocked");try{d.focus()}catch{}return new k1(d)}function OL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="__/auth/handler",$L="emulator/auth/handler";function R1(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:i};if(e instanceof Ov){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Pu){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${ML(t)}?${Ca(a).slice(1)}`}function ML({config:t}){return t.emulator?Rv(t,$L):`https://${t.authDomain}/${DL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_x,this._completeRedirectFn=lL,this._overrideRedirectResult=sL}async _openPopup(e,n,r,i){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=R1(e,n,r,Rg(),i);return AL(e,o,Dv())}async _openRedirect(e,n,r,i){return await this._originValidation(e),FM(R1(e,n,r,Rg(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xL(e),r=new cL(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gp,{type:Gp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Gp];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hx()||Pv()||Gh()}}const FL=LL;var N1="@firebase/auth",P1="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function zL(t){jn(new Rn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{oe(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),oe(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fx(t)},c=new bM(a,l,u);return tM(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jn(new Rn("auth-internal",e=>{const n=Av(e.getProvider("auth").getImmediate());return(r=>new UL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(N1,P1,BL(t)),dt(N1,P1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t=xv()){const e=Ea(t,"auth");return e.isInitialized()?e.getImmediate():eM(t,{popupRedirectResolver:FL,persistence:[KM,$M,_x]})}zL("Browser");const A1="@firebase/database",O1="0.13.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ix="";function WL(t){Ix=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Kl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Yr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jL(e)}}catch{}return new HL},os=kx("localStorage"),Pg=kx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Ru("@firebase/database"),qL=function(){let t=1;return function(){return t++}}(),Rx=function(t){const e=BD(t),n=new MD;n.update(e);const r=n.digest();return Ev.encodeByteArray(r)},Ou=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ou.apply(null,r):typeof r=="object"?e+=xt(r):e+=r,e+=" "}return e};let gs=null,D1=!0;const KL=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Mo.logLevel=ye.VERBOSE,gs=Mo.log.bind(Mo),e&&Pg.set("logging_enabled",!0)):typeof t=="function"?gs=t:(gs=null,Pg.remove("logging_enabled"))},qt=function(...t){if(D1===!0&&(D1=!1,gs===null&&Pg.get("logging_enabled")===!0&&KL(!0)),gs){const e=Ou.apply(null,t);gs(e)}},Du=function(t){return function(...e){qt(t,...e)}},Ag=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ou(...t);Mo.error(e)},Ns=function(...t){const e=`FIREBASE FATAL ERROR: ${Ou(...t)}`;throw Mo.error(e),new Error(e)},bn=function(...t){const e="FIREBASE WARNING: "+Ou(...t);Mo.warn(e)},GL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Nx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zo="[MIN_NAME]",Ps="[MAX_NAME]",Sa=function(t,e){if(t===e)return 0;if(t===Zo||e===Ps)return-1;if(e===Zo||t===Ps)return 1;{const n=$1(t),r=$1(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YL=function(t,e){return t===e?0:t<e?-1:1},Wa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+xt(e))},Mv=function(t){if(typeof t!="object"||t===null)return xt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=xt(e[r]),n+=":",n+=Mv(t[e[r]]);return n+="}",n},Px=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _n(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Ax=function(t){M(!Nx(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},XL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZL(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const e2=new RegExp("^-?(0*)\\d{1,10}$"),t2=-2147483648,n2=2147483647,$1=function(t){if(e2.test(t)){const e=Number(t);if(e>=t2&&e<=n2)return e}return null},$u=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bn("Exception was thrown by user callback.",n),e},Math.floor(0))}},r2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},yl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(e)}}class Og{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Og.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="5",Ox="v",Dx="s",$x="r",Mx="f",Lx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Fx="ls",Ux="p",Dg="ac",Bx="websocket",zx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,r,i,s=!1,o="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=os.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&os.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function a2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Vx(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let r;if(e===Bx)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===zx)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);a2(t)&&(n.ns=t.namespace);const i=[];return _n(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this.counters_={}}incrementCounter(e,n=1){Yr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return xD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp={},Yp={};function Fv(t){const e=t.toString();return Qp[e]||(Qp[e]=new l2),Qp[e]}function u2(t,e){const n=t.toString();return Yp[n]||(Yp[n]=e()),Yp[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$u(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="start",d2="close",h2="pLPCommand",f2="pRTLPCB",Wx="id",jx="pw",Hx="ser",p2="cb",m2="seg",g2="ts",y2="d",v2="dframe",qx=1870,Kx=30,_2=qx-Kx,w2=25e3,C2=3e4;class So{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Du(e),this.stats_=Fv(n),this.urlFn=l=>(this.appCheckToken&&(l[Dg]=this.appCheckToken),Vx(n,zx,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new c2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(C2)),QL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Uv((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===M1)this.id=a,this.password=l;else if(o===d2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[M1]="t",r[Hx]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[p2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ox]=Lv,this.transportSessionId&&(r[Dx]=this.transportSessionId),this.lastSessionId&&(r[Fx]=this.lastSessionId),this.applicationId&&(r[Ux]=this.applicationId),this.appCheckToken&&(r[Dg]=this.appCheckToken),typeof location<"u"&&location.hostname&&Lx.test(location.hostname)&&(r[$x]=Mx);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){So.forceAllow_=!0}static forceDisallow(){So.forceDisallow_=!0}static isAvailable(){return So.forceAllow_?!0:!So.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XL()&&!JL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=LT(n),i=Px(r,_2);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[v2]="t",r[Wx]=e,r[jx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=xt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Uv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qL(),window[h2+this.uniqueCallbackIdentifier]=e,window[f2+this.uniqueCallbackIdentifier]=n,this.myIFrame=Uv.createIFrame_();let s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Wx]=this.myID,e[jx]=this.myPW,e[Hx]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Kx+r.length<=qx;){const o=this.pendingSegs.shift();r=r+"&"+m2+i+"="+o.seg+"&"+g2+i+"="+o.ts+"&"+y2+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(w2)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=16384,S2=45e3;let Kd=null;typeof MozWebSocket<"u"?Kd=MozWebSocket:typeof WebSocket<"u"&&(Kd=WebSocket);class Zn{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Du(this.connId),this.stats_=Fv(n),this.connURL=Zn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Ox]=Lv,typeof location<"u"&&location.hostname&&Lx.test(location.hostname)&&(o[$x]=Mx),n&&(o[Dx]=n),r&&(o[Fx]=r),i&&(o[Dg]=i),s&&(o[Ux]=s),Vx(e,Bx,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,os.set("previous_websocket_failure",!0);try{let r;VT(),this.mySock=new Kd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Kd!==null&&!Zn.forceDisallow_}static previouslyFailed(){return os.isInMemoryStorage||os.get("previous_websocket_failure")===!0}markConnectionHealthy(){os.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Kl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(M(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=xt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Px(n,E2);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(S2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zn.responsesRequiredToBeHealthy=2;Zn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[So,Zn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Zn&&Zn.isAvailable();let r=n&&!Zn.previouslyFailed();if(e.webSocketOnly&&(n||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Zn];else{const i=this.transports_=[];for(const s of Jl.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Jl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Jl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=6e4,T2=5e3,x2=10*1024,I2=100*1024,Xp="t",L1="d",k2="s",F1="r",R2="e",U1="o",B1="a",z1="n",V1="p",N2="h";class P2{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Du("c:"+this.id+":"),this.transportManager_=new Jl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=yl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>I2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>x2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Xp in e){const n=e[Xp];n===B1?this.upgradeIfSecondaryHealthy_():n===F1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===U1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Wa("t",e),r=Wa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:V1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:B1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:z1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Wa("t",e),r=Wa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Wa(Xp,e);if(L1 in e){const r=e[L1];if(n===N2)this.onHandshake_(r);else if(n===z1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===k2?this.onConnectionShutdown_(r):n===F1?this.onReset_(r):n===R2?Ag("Server Error: "+r):n===U1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ag("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Lv!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),yl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(b2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):yl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:V1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(os.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends Qx{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Gd}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=32,j1=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ce(){return new Oe("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ri(t){return t.pieces_.length-t.pieceNum_}function $e(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function Yx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function A2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Xx(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Jx(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function pt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Oe(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function fn(t,e){const n=de(t),r=de(e);if(n===null)return e;if(n===r)return fn($e(t),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bv(t,e){if(Ri(t)!==Ri(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function er(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ri(t)>Ri(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class O2{constructor(e,n){this.errorPrefix_=n,this.parts_=Xx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=qh(this.parts_[r]);Zx(this)}}function D2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=qh(e),Zx(t)}function $2(t){const e=t.parts_.pop();t.byteLength_-=qh(e),t.parts_.length>0&&(t.byteLength_-=1)}function Zx(t){if(t.byteLength_>j1)throw new Error(t.errorPrefix_+"has a key path longer than "+j1+" bytes ("+t.byteLength_+").");if(t.parts_.length>W1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+W1+") or object contains a cycle "+Xi(t))}function Xi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Qx{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zv}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=1e3,M2=60*5*1e3,H1=30*1e3,L2=1.3,F2=3e4,U2="server_kill",q1=3;class Fr extends Gx{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Fr.nextPersistentConnectionId_++,this.log_=Du("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ja,this.maxReconnectDelay_=M2,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!VT())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Gd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(xt(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Sv,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;Fr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Yr(e,"w")){const r=Xo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$D(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=H1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=DD(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),M(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+xt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ag("Unrecognized action received from server: "+xt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>F2&&(this.reconnectDelay_=ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*L2)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Fr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){M(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new P2(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{bn(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(U2)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&bn(d),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bg(this.interruptReasons_)&&(this.reconnectDelay_=ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Mv(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Oe(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=q1&&(this.reconnectDelay_=H1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=q1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Ix.replace(/\./g,"-")]=1,Hh()?e["framework.cordova"]=1:bv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Gd.getInstance().currentlyOnline();return bg(this.interruptReasons_)&&e}}Fr.nextPersistentConnectionId_=0;Fr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ue(Zo,e),i=new ue(Zo,n);return this.compare(r,i)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class eI extends Xh{static get __EMPTY_NODE(){return Rc}static set __EMPTY_NODE(e){Rc=e}compare(e,n){return Sa(e.name,n.name)}isDefinedOn(e){throw wa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(Ps,Rc)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Rc)}toString(){return".key"}}const Lo=new eI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Tt.RED,this.left=i!=null?i:pn.EMPTY_NODE,this.right=s!=null?s:pn.EMPTY_NODE}copy(e,n,r,i,s){return new Tt(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return pn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return pn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Tt.RED=!0;Tt.BLACK=!1;class B2{copy(e,n,r,i,s){return this}insert(e,n,r){return new Tt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pn{constructor(e,n=pn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Tt.BLACK,null,null))}remove(e){return new pn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Tt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Nc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Nc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Nc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Nc(this.root_,null,this.comparator_,!0,e)}}pn.EMPTY_NODE=new B2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t,e){return Sa(t.name,e.name)}function Vv(t,e){return Sa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $g;function V2(t){$g=t}const tI=function(t){return typeof t=="number"?"number:"+Ax(t):"string:"+t},nI=function(t){if(t.isLeafNode()){const e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Yr(e,".sv"),"Priority must be a string or number.")}else M(t===$g||t.isEmpty(),"priority of unexpected type.");M(t===$g||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K1;class Et{constructor(e,n=Et.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),nI(this.priorityNode_)}static set __childrenNodeConstructor(e){K1=e}static get __childrenNodeConstructor(){return K1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Et(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:de(e)===".priority"?this.priorityNode_:Et.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Et.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=de(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||Ri(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Et.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+tI(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Ax(this.value_):e+=this.value_,this.lazyHash_=Rx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Et.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Et.__childrenNodeConstructor?-1:(M(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Et.VALUE_TYPE_ORDER.indexOf(n),s=Et.VALUE_TYPE_ORDER.indexOf(r);return M(i>=0,"Unknown leaf type: "+n),M(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Et.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rI,iI;function W2(t){rI=t}function j2(t){iI=t}class H2 extends Xh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Sa(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(Ps,new Et("[PRIORITY-POST]",iI))}makePost(e,n){const r=rI(e);return new ue(n,new Et("[PRIORITY-POST]",r))}toString(){return".priority"}}const et=new H2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=Math.log(2);class K2{constructor(e){const n=s=>parseInt(Math.log(s)/q2,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qd=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new Tt(h,d.node,Tt.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new Tt(h,d.node,Tt.BLACK,p,m)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const E=d-p,g=d;d-=p;const y=i(E+1,g),v=t[E],_=n?n(v):v;f(new Tt(_,v.node,m,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));m?h(E,Tt.BLACK):(h(E,Tt.BLACK),h(E,Tt.RED))}return c},o=new K2(t.length),a=s(o);return new pn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp;const eo={};class $r{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(eo&&et,"ChildrenNode.ts has not been loaded"),Jp=Jp||new $r({".priority":eo},{".priority":et}),Jp}get(e){const n=Xo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pn?n:null}hasIndex(e){return Yr(this.indexSet_,e.toString())}addIndex(e,n){M(e!==Lo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ue.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Qd(r,e.getCompare()):a=eo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new $r(c,u)}addToIndexes(e,n){const r=zd(this.indexes_,(i,s)=>{const o=Xo(this.indexSet_,s);if(M(o,"Missing index implementation for "+s),i===eo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ue.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Qd(a,o.getCompare())}else return eo;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ue(e.name,a))),l.insert(e,e.node)}});return new $r(r,this.indexSet_)}removeFromIndexes(e,n){const r=zd(this.indexes_,i=>{if(i===eo)return i;{const s=n.get(e.name);return s?i.remove(new ue(e.name,s)):i}});return new $r(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha;class ne{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&nI(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ha||(Ha=new ne(new pn(Vv),null,$r.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ha}updatePriority(e){return this.children_.isEmpty()?this:new ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ha:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild($e(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(M(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ue(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ha:this.priorityNode_;return new ne(i,o,s)}}updateChild(e,n){const r=de(e);if(r===null)return n;{M(de(e)!==".priority"||Ri(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild($e(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(et,(o,a)=>{n[o]=a.val(e),r++,s&&ne.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+tI(this.getPriority().val())+":"),this.forEachChild(et,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Rx(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new ue(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Mu?-1:0}withIndex(e){if(e===Lo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Lo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(et),i=n.getIterator(et);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Lo?null:this.indexMap_.get(e.toString())}}ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class G2 extends ne{constructor(){super(new pn(Vv),ne.EMPTY_NODE,$r.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ne.EMPTY_NODE}isEmpty(){return!1}}const Mu=new G2;Object.defineProperties(ue,{MIN:{value:new ue(Zo,ne.EMPTY_NODE)},MAX:{value:new ue(Ps,Mu)}});eI.__EMPTY_NODE=ne.EMPTY_NODE;Et.__childrenNodeConstructor=ne;V2(Mu);j2(Mu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=!0;function Kt(t,e=null){if(t===null)return ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Et(n,Kt(e))}if(!(t instanceof Array)&&Q2){const n=[];let r=!1;if(_n(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Kt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ue(o,l)))}}),n.length===0)return ne.EMPTY_NODE;const s=Qd(n,z2,o=>o.name,Vv);if(r){const o=Qd(n,et.getCompare());return new ne(s,Kt(e),new $r({".priority":o},{".priority":et}))}else return new ne(s,Kt(e),$r.Default)}else{let n=ne.EMPTY_NODE;return _n(t,(r,i)=>{if(Yr(t,r)&&r.substring(0,1)!=="."){const s=Kt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Kt(e))}}W2(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends Xh{constructor(e){super(),this.indexPath_=e,M(!he(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Sa(e.name,n.name):s}makePost(e,n){const r=Kt(e),i=ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,i)}maxPost(){const e=ne.EMPTY_NODE.updateChild(this.indexPath_,Mu);return new ue(Ps,e)}toString(){return Xx(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2 extends Xh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const r=Kt(e);return new ue(n,r)}toString(){return".value"}}const J2=new X2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return{type:"value",snapshotNode:t}}function ea(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function eu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z2(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Zl(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ea(n,r)):o.trackChildChange(eu(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(et,(i,s)=>{n.hasChild(i)||r.trackChildChange(Zl(i,s))}),n.isLeafNode()||n.forEachChild(et,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(eu(i,s,o))}else r.trackChildChange(ea(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.indexedFilter_=new Wv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tu.getStartPost_(e),this.endPost_=tu.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,n,r,i,s,o){return this.matches(new ue(n,r))||(r=ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ne.EMPTY_NODE);const s=this;return n.forEachChild(et,(o,a)=>{s.matches(new ue(o,a))||(i=i.updateImmediateChild(o,ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.rangedFilter_=new tu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ue(n,r))||(r=ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ne.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();let l;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:l=this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(a.name,a.node),o++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ne.EMPTY_NODE);let s,o,a,l;if(this.reverse_){l=i.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),o=this.rangedFilter_.getStartPost();const d=this.index_.getCompare();a=(h,f)=>d(f,h)}else l=i.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),o=this.rangedFilter_.getEndPost(),a=this.index_.getCompare();let u=0,c=!1;for(;l.hasNext();){const d=l.getNext();!c&&a(s,d)<=0&&(c=!0),c&&u<this.limit_&&a(d,o)<=0?u++:i=i.updateImmediateChild(d.name,ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;M(a.numChildren()===this.limit_,"");const l=new ue(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(eu(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Zl(n,d));const m=a.updateImmediateChild(n,ne.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(ea(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return r.isEmpty()?e:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(Zl(u.name,u.node)),s.trackChildChange(ea(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zo}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const e=new jv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tF(t){return t.loadsAllData()?new Wv(t.getIndex()):t.hasLimit()?new eF(t):new tu(t)}function G1(t){const e={};if(t.isDefault())return e;let n;return t.index_===et?n="$priority":t.index_===J2?n="$value":t.index_===Lo?n="$key":(M(t.index_ instanceof Y2,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=xt(n),t.startSet_&&(e.startAt=xt(t.indexStartValue_),t.startNameSet_&&(e.startAt+=","+xt(t.indexStartName_))),t.endSet_&&(e.endAt=xt(t.indexEndValue_),t.endNameSet_&&(e.endAt+=","+xt(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Q1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==et&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends Gx{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Du("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Yd.getListenId_(e,r),a={};this.listens_[o]=a;const l=G1(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Xo(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=Yd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=G1(e._queryParams),r=e._path.toString(),i=new Sv;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ca(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Kl(a.responseText)}catch{bn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this.rootNode_=ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){return{value:null,children:new Map}}function oI(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=de(e);t.children.has(r)||t.children.set(r,Xd());const i=t.children.get(r);e=$e(e),oI(i,e,n)}}function Mg(t,e,n){t.value!==null?n(e,t.value):rF(t,(r,i)=>{const s=new Oe(e.toString()+"/"+r);Mg(i,s,n)})}function rF(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_n(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=10*1e3,sF=30*1e3,oF=5*60*1e3;class aF{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iF(e);const r=Y1+(sF-Y1)*Math.random();yl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_n(e,(i,s)=>{s>0&&Yr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),yl(this.reportStats_.bind(this),Math.floor(Math.random()*2*oF))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(tr||(tr={}));function aI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Hv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=tr.ACK_USER_WRITE,this.source=aI()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new Jd(Ce(),n,this.revert)}}else return M(de(this.path)===e,"operationForChild called for unrelated child."),new Jd($e(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.source=e,this.path=n,this.type=tr.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new nu(this.source,Ce()):new nu(this.source,$e(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=tr.OVERWRITE}operationForChild(e){return he(this.path)?new As(this.source,Ce(),this.snap.getImmediateChild(e)):new As(this.source,$e(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=tr.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new As(this.source,Ce(),n.value):new ru(this.source,Ce(),n)}else return M(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ru(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function uF(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Z2(o.childName,o.snapshotNode))}),qa(t,i,"child_removed",e,r,n),qa(t,i,"child_added",e,r,n),qa(t,i,"child_moved",s,r,n),qa(t,i,"child_changed",e,r,n),qa(t,i,"value",e,r,n),i}function qa(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>dF(t,a,l)),o.forEach(a=>{const l=cF(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function cF(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dF(t,e,n){if(e.childName==null||n.childName==null)throw wa("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),i=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e){return{eventCache:t,serverCache:e}}function vl(t,e,n,r){return Jh(new Os(e,n,r),t.serverCache)}function lI(t,e,n,r){return Jh(t.eventCache,new Os(e,n,r))}function Lg(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zp;const hF=()=>(Zp||(Zp=new pn(YL)),Zp);class ze{constructor(e,n=hF()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return _n(e,(r,i)=>{n=n.set(new Oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ce(),value:this.value};if(he(e))return null;{const r=de(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue($e(e),n);return s!=null?{path:pt(new Oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=de(e),r=this.children.get(n);return r!==null?r.subtree($e(e)):new ze(null)}}set(e,n){if(he(e))return new ze(n,this.children);{const r=de(e),s=(this.children.get(r)||new ze(null)).set($e(e),n),o=this.children.insert(r,s);return new ze(this.value,o)}}remove(e){if(he(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=de(e),r=this.children.get(n);if(r){const i=r.remove($e(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ze(null):new ze(this.value,s)}else return this}}get(e){if(he(e))return this.value;{const n=de(e),r=this.children.get(n);return r?r.get($e(e)):null}}setTree(e,n){if(he(e))return n;{const r=de(e),s=(this.children.get(r)||new ze(null)).setTree($e(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ze(this.value,o)}}fold(e){return this.fold_(Ce(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ce(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(he(e))return null;{const s=de(e),o=this.children.get(s);return o?o.findOnPath_($e(e),pt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ce(),n)}foreachOnPath_(e,n,r){if(he(e))return this;{this.value&&r(n,this.value);const i=de(e),s=this.children.get(i);return s?s.foreachOnPath_($e(e),pt(n,i),r):new ze(null)}}foreach(e){this.foreach_(Ce(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.writeTree_=e}static empty(){return new sr(new ze(null))}}function _l(t,e,n){if(he(e))return new sr(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=fn(i,e);return s=s.updateChild(o,n),new sr(t.writeTree_.set(i,s))}else{const i=new ze(n),s=t.writeTree_.setTree(e,i);return new sr(s)}}}function X1(t,e,n){let r=t;return _n(n,(i,s)=>{r=_l(r,pt(e,i),s)}),r}function J1(t,e){if(he(e))return sr.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new sr(n)}}function Fg(t,e){return qs(t,e)!=null}function qs(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(fn(n.path,e)):null}function Z1(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(et,(r,i)=>{e.push(new ue(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new ue(r,i.value))}),e}function Ti(t,e){if(he(e))return t;{const n=qs(t,e);return n!=null?new sr(new ze(n)):new sr(t.writeTree_.subtree(e))}}function Ug(t){return t.writeTree_.isEmpty()}function ta(t,e){return uI(Ce(),t.writeTree_,e)}function uI(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(M(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=uI(pt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t,e){return fI(e,t)}function fF(t,e,n,r,i){M(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=_l(t.visibleWrites,e,n)),t.lastWriteId=r}function pF(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mF(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gF(a,r.path)?i=!1:er(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return yF(t),!0;if(r.snap)t.visibleWrites=J1(t.visibleWrites,r.path);else{const a=r.children;_n(a,l=>{t.visibleWrites=J1(t.visibleWrites,pt(r.path,l))})}return!0}else return!1}function gF(t,e){if(t.snap)return er(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&er(pt(t.path,n),e))return!0;return!1}function yF(t){t.visibleWrites=cI(t.allWrites,vF,Ce()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vF(t){return t.visible}function cI(t,e,n){let r=sr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)er(n,o)?(a=fn(n,o),r=_l(r,a,s.snap)):er(o,n)&&(a=fn(o,n),r=_l(r,Ce(),s.snap.getChild(a)));else if(s.children){if(er(n,o))a=fn(n,o),r=X1(r,a,s.children);else if(er(o,n))if(a=fn(o,n),he(a))r=X1(r,Ce(),s.children);else{const l=Xo(s.children,de(a));if(l){const u=l.getChild($e(a));r=_l(r,Ce(),u)}}}else throw wa("WriteRecord should have .snap or .children")}}return r}function dI(t,e,n,r,i){if(!r&&!i){const s=qs(t.visibleWrites,e);if(s!=null)return s;{const o=Ti(t.visibleWrites,e);if(Ug(o))return n;if(n==null&&!Fg(o,Ce()))return null;{const a=n||ne.EMPTY_NODE;return ta(o,a)}}}else{const s=Ti(t.visibleWrites,e);if(!i&&Ug(s))return n;if(!i&&n==null&&!Fg(s,Ce()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(er(u.path,e)||er(e,u.path))},a=cI(t.allWrites,o,e),l=n||ne.EMPTY_NODE;return ta(a,l)}}}function _F(t,e,n){let r=ne.EMPTY_NODE;const i=qs(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(et,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ti(t.visibleWrites,e);return n.forEachChild(et,(o,a)=>{const l=ta(Ti(s,new Oe(o)),a);r=r.updateImmediateChild(o,l)}),Z1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ti(t.visibleWrites,e);return Z1(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wF(t,e,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pt(e,n);if(Fg(t.visibleWrites,s))return null;{const o=Ti(t.visibleWrites,s);return Ug(o)?i.getChild(n):ta(o,i.getChild(n))}}function CF(t,e,n,r){const i=pt(e,n),s=qs(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ti(t.visibleWrites,i);return ta(o,r.getNode().getImmediateChild(n))}else return null}function EF(t,e){return qs(t.visibleWrites,e)}function SF(t,e,n,r,i,s,o){let a;const l=Ti(t.visibleWrites,e),u=qs(l,Ce());if(u!=null)a=u;else if(n!=null)a=ta(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function bF(){return{visibleWrites:sr.empty(),allWrites:[],lastWriteId:-1}}function Zd(t,e,n,r){return dI(t.writeTree,t.treePath,e,n,r)}function Gv(t,e){return _F(t.writeTree,t.treePath,e)}function eC(t,e,n,r){return wF(t.writeTree,t.treePath,e,n,r)}function eh(t,e){return EF(t.writeTree,pt(t.treePath,e))}function TF(t,e,n,r,i,s){return SF(t.writeTree,t.treePath,e,n,r,i,s)}function Qv(t,e,n){return CF(t.writeTree,t.treePath,e,n)}function hI(t,e){return fI(pt(t.treePath,e),t.writeTree)}function fI(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,eu(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Zl(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ea(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,eu(r,e.snapshotNode,i.oldSnap));else throw wa("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const pI=new IF;class Yv{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Os(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qv(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ds(this.viewCache_),s=TF(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){return{filter:t}}function RF(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NF(t,e,n,r,i){const s=new xF;let o,a;if(n.type===tr.OVERWRITE){const u=n;u.source.fromUser?o=Bg(t,e,u.path,u.snap,r,i,s):(M(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!he(u.path),o=th(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===tr.MERGE){const u=n;u.source.fromUser?o=AF(t,e,u.path,u.children,r,i,s):(M(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=zg(t,e,u.path,u.children,r,i,a,s))}else if(n.type===tr.ACK_USER_WRITE){const u=n;u.revert?o=$F(t,e,u.path,r,i,s):o=OF(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===tr.LISTEN_COMPLETE)o=DF(t,e,n.path,r,s);else throw wa("Unknown operation type: "+n.type);const l=s.getChanges();return PF(e,o,l),{viewCache:o,changes:l}}function PF(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Lg(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(sI(Lg(e)))}}function mI(t,e,n,r,i,s){const o=e.eventCache;if(eh(r,n)!=null)return e;{let a,l;if(he(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Ds(e),c=u instanceof ne?u:ne.EMPTY_NODE,d=Gv(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Zd(r,Ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=de(n);if(u===".priority"){M(Ri(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=eC(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=$e(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=eC(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=Qv(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return vl(e,a,o.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function th(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(he(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=de(n);if(!l.isCompleteForPath(n)&&Ri(n)>1)return e;const p=$e(n),E=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),f,E,p,pI,null)}const d=lI(e,u,l.isFullyInitialized()||he(n),c.filtersNodes()),h=new Yv(i,d,s);return mI(t,d,n,i,h,a)}function Bg(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new Yv(i,e,s);if(he(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=vl(e,u,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=vl(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=$e(n),f=a.getNode().getImmediateChild(d);let p;if(he(h))p=r;else{const m=c.getCompleteChild(d);m!=null?Yx(h)===".priority"&&m.getChild(Jx(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=ne.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=vl(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function tC(t,e){return t.eventCache.isCompleteForChild(e)}function AF(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=pt(n,l);tC(e,de(c))&&(a=Bg(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=pt(n,l);tC(e,de(c))||(a=Bg(t,a,c,u,i,s,o))}),a}function nC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function zg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;he(n)?u=r:u=new ze(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=nC(t,f,h);l=th(t,l,new Oe(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=nC(t,p,h);l=th(t,l,new Oe(d),m,i,s,o,a)}}),l}function OF(t,e,n,r,i,s,o){if(eh(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(he(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return th(t,e,n,l.getNode().getChild(n),i,s,a,o);if(he(n)){let u=new ze(null);return l.getNode().forEachChild(Lo,(c,d)=>{u=u.set(new Oe(c),d)}),zg(t,e,n,u,i,s,a,o)}else return e}else{let u=new ze(null);return r.foreach((c,d)=>{const h=pt(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),zg(t,e,n,u,i,s,a,o)}}function DF(t,e,n,r,i){const s=e.serverCache,o=lI(e,s.getNode(),s.isFullyInitialized()||he(n),s.isFiltered());return mI(t,o,n,r,pI,i)}function $F(t,e,n,r,i,s){let o;if(eh(r,n)!=null)return e;{const a=new Yv(r,e,i),l=e.eventCache.getNode();let u;if(he(n)||de(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Zd(r,Ds(e));else{const d=e.serverCache.getNode();M(d instanceof ne,"serverChildren would be complete if leaf node"),c=Gv(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=de(n);let d=Qv(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,$e(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,ne.EMPTY_NODE,$e(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Zd(r,Ds(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||eh(r,Ce())!=null,vl(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Wv(r.getIndex()),s=tF(r);this.processor_=kF(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(ne.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(ne.EMPTY_NODE,a.getNode(),null),c=new Os(l,o.isFullyInitialized(),i.filtersNodes()),d=new Os(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jh(d,c),this.eventGenerator_=new lF(this.query_)}get query(){return this.query_}}function LF(t){return t.viewCache_.serverCache.getNode()}function FF(t,e){const n=Ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function rC(t){return t.eventRegistrations_.length===0}function UF(t,e){t.eventRegistrations_.push(e)}function iC(t,e,n){const r=[];if(n){M(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function sC(t,e,n,r){e.type===tr.MERGE&&e.source.queryId!==null&&(M(Ds(t.viewCache_),"We should always have a full cache before handling merges"),M(Lg(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=NF(t.processor_,i,e,n,r);return RF(t.processor_,s.viewCache),M(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,gI(t,s.changes,s.viewCache.eventCache.getNode(),null)}function BF(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(et,(s,o)=>{r.push(ea(s,o))}),n.isFullyInitialized()&&r.push(sI(n.getNode())),gI(t,r,n.getNode(),e)}function gI(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return uF(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh;class zF{constructor(){this.views=new Map}}function VF(t){M(!nh,"__referenceConstructor has already been defined"),nh=t}function WF(){return M(nh,"Reference.ts has not been loaded"),nh}function jF(t){return t.views.size===0}function Xv(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return M(s!=null,"SyncTree gave us an op for an invalid query."),sC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(sC(o,e,n,r));return s}}function HF(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Zd(n,i?r:null),l=!1;a?l=!0:r instanceof ne?(a=Gv(n,r),l=!1):(a=ne.EMPTY_NODE,l=!1);const u=Jh(new Os(a,l,!1),new Os(r,i,!1));return new MF(e,u)}return o}function qF(t,e,n,r,i,s){const o=HF(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),UF(o,n),BF(o,n)}function KF(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ni(t);if(i==="default")for(const[l,u]of t.views.entries())o=o.concat(iC(u,n,r)),rC(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(iC(l,n,r)),rC(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ni(t)&&s.push(new(WF())(e._repo,e._path)),{removed:s,events:o}}function yI(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Fo(t,e){let n=null;for(const r of t.views.values())n=n||FF(r,e);return n}function vI(t,e){if(e._queryParams.loadsAllData())return Zh(t);{const r=e._queryIdentifier;return t.views.get(r)}}function _I(t,e){return vI(t,e)!=null}function Ni(t){return Zh(t)!=null}function Zh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;function GF(t){M(!rh,"__referenceConstructor has already been defined"),rh=t}function QF(){return M(rh,"Reference.ts has not been loaded"),rh}let YF=1;class oC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=bF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function XF(t,e,n,r,i){return fF(t.pendingWriteTree_,e,n,r,i),i?Lu(t,new As(aI(),e,n)):[]}function bo(t,e,n=!1){const r=pF(t.pendingWriteTree_,e);if(mF(t.pendingWriteTree_,e)){let s=new ze(null);return r.snap!=null?s=s.set(Ce(),!0):_n(r.children,o=>{s=s.set(new Oe(o),!0)}),Lu(t,new Jd(r.path,s,n))}else return[]}function ef(t,e,n){return Lu(t,new As(Hv(),e,n))}function JF(t,e,n){const r=ze.fromObject(n);return Lu(t,new ru(Hv(),e,r))}function ZF(t,e){return Lu(t,new nu(Hv(),e))}function eU(t,e,n){const r=Jv(t,n);if(r){const i=Zv(r),s=i.path,o=i.queryId,a=fn(s,e),l=new nu(qv(o),a);return e0(t,s,l)}else return[]}function Vg(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||_I(o,e))){const l=KF(o,e,n,r);jF(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>Ni(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=rU(h);for(let p=0;p<f.length;++p){const m=f[p],E=m.query,g=SI(t,m);t.listenProvider_.startListening(wl(E),ih(t,E),g.hashFn,g.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(wl(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(tf(h));t.listenProvider_.stopListening(wl(h),f)}))}iU(t,u)}return a}function tU(t,e,n,r){const i=Jv(t,r);if(i!=null){const s=Zv(i),o=s.path,a=s.queryId,l=fn(o,e),u=new As(qv(a),l,n);return e0(t,o,u)}else return[]}function nU(t,e,n,r){const i=Jv(t,r);if(i){const s=Zv(i),o=s.path,a=s.queryId,l=fn(o,e),u=ze.fromObject(n),c=new ru(qv(a),l,u);return e0(t,o,c)}else return[]}function aC(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=fn(h,i);s=s||Fo(f,p),o=o||Ni(f)});let a=t.syncPointTree_.get(i);a?(o=o||Ni(a),s=s||Fo(a,Ce())):(a=new zF,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=Fo(p,Ce());m&&(s=s.updateImmediateChild(f,m))}));const u=_I(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=tf(e);M(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=sU();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const c=Kv(t.pendingWriteTree_,i);let d=qF(a,e,n,c,s,l);if(!u&&!o&&!r){const h=vI(a,e);d=d.concat(oU(t,e,h))}return d}function wI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=fn(o,e),u=Fo(a,l);if(u)return u});return dI(i,e,s,n,!0)}function Lu(t,e){return CI(e,t.syncPointTree_,null,Kv(t.pendingWriteTree_,Ce()))}function CI(t,e,n,r){if(he(t.path))return EI(t,e,n,r);{const i=e.get(Ce());n==null&&i!=null&&(n=Fo(i,Ce()));let s=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=hI(r,o);s=s.concat(CI(a,l,u,c))}return i&&(s=s.concat(Xv(i,t,r,n))),s}}function EI(t,e,n,r){const i=e.get(Ce());n==null&&i!=null&&(n=Fo(i,Ce()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=hI(r,o),c=t.operationForChild(o);c&&(s=s.concat(EI(c,a,l,u)))}),i&&(s=s.concat(Xv(i,t,r,n))),s}function SI(t,e){const n=e.query,r=ih(t,n);return{hashFn:()=>(LF(e)||ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?eU(t,n._path,r):ZF(t,n._path);{const s=ZL(i,n);return Vg(t,n,null,s)}}}}function ih(t,e){const n=tf(e);return t.queryToTagMap.get(n)}function tf(t){return t._path.toString()+"$"+t._queryIdentifier}function Jv(t,e){return t.tagToQueryMap.get(e)}function Zv(t){const e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function e0(t,e,n){const r=t.syncPointTree_.get(e);M(r,"Missing sync point for query tag that we're tracking");const i=Kv(t.pendingWriteTree_,e);return Xv(r,n,i,null)}function rU(t){return t.fold((e,n,r)=>{if(n&&Ni(n))return[Zh(n)];{let i=[];return n&&(i=yI(n)),_n(r,(s,o)=>{i=i.concat(o)}),i}})}function wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(QF())(t._repo,t._path):t}function iU(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=tf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function sU(){return YF++}function oU(t,e,n){const r=e._path,i=ih(t,e),s=SI(t,n),o=t.listenProvider_.startListening(wl(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)M(!Ni(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!he(u)&&c&&Ni(c))return[Zh(c).query];{let h=[];return c&&(h=h.concat(yI(c).map(f=>f.query))),_n(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(wl(c),ih(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new t0(n)}node(){return this.node_}}class n0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pt(this.path_,e);return new n0(this.syncTree_,n)}node(){return wI(this.syncTree_,this.path_)}}const aU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lC=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uU(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},uU=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&M(!1,"Unexpected increment value: "+r);const i=e.node();if(M(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},cU=function(t,e,n,r){return r0(e,new n0(n,t),r)},dU=function(t,e,n){return r0(t,new t0(e),n)};function r0(t,e,n){const r=t.getPriority().val(),i=lC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=lC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Et(a,Kt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Et(i))),o.forEachChild(et,(a,l)=>{const u=r0(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function s0(t,e){let n=e instanceof Oe?e:new Oe(e),r=t,i=de(n);for(;i!==null;){const s=Xo(r.node.children,i)||{children:{},childCount:0};r=new i0(i,r,s),n=$e(n),i=de(n)}return r}function ba(t){return t.node.value}function bI(t,e){t.node.value=e,Wg(t)}function TI(t){return t.node.childCount>0}function hU(t){return ba(t)===void 0&&!TI(t)}function nf(t,e){_n(t.node.children,(n,r)=>{e(new i0(n,t,r))})}function xI(t,e,n,r){n&&!r&&e(t),nf(t,i=>{xI(i,e,!0,r)}),n&&r&&e(t)}function fU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Fu(t){return new Oe(t.parent===null?t.name:Fu(t.parent)+"/"+t.name)}function Wg(t){t.parent!==null&&pU(t.parent,t.name,t)}function pU(t,e,n){const r=hU(n),i=Yr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU=/[\[\].#$\/\u0000-\u001F\u007F]/,gU=/[\[\].#$\u0000-\u001F\u007F]/,em=10*1024*1024,II=function(t){return typeof t=="string"&&t.length!==0&&!mU.test(t)},kI=function(t){return typeof t=="string"&&t.length!==0&&!gU.test(t)},yU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kI(t)},RI=function(t,e,n){const r=n instanceof Oe?new O2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Xi(r));if(typeof e=="function")throw new Error(t+"contains a function "+Xi(r)+" with contents = "+e.toString());if(Nx(e))throw new Error(t+"contains "+e.toString()+" "+Xi(r));if(typeof e=="string"&&e.length>em/3&&qh(e)>em)throw new Error(t+"contains a string greater than "+em+" utf8 bytes "+Xi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_n(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!II(o)))throw new Error(t+" contains an invalid key ("+o+") "+Xi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);D2(r,o),RI(t,a,r),$2(r)}),i&&s)throw new Error(t+' contains ".value" child '+Xi(r)+" in addition to actual children.")}},NI=function(t,e,n,r){if(!(r&&n===void 0)&&!kI(n))throw new Error(HT(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vU=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),NI(t,e,n,r)},_U=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!II(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yU(n))throw new Error(HT(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function PI(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!Bv(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function AI(t,e,n){PI(t,n),OI(t,r=>Bv(r,e))}function Ks(t,e,n){PI(t,n),OI(t,r=>er(r,e)||er(e,r))}function OI(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(CU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function CU(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();gs&&qt("event: "+n.toString()),$u(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="repo_interrupt",SU=25;class bU{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wU,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xd(),this.transactionQueueTree_=new i0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TU(t,e,n){if(t.stats_=Fv(t.repoInfo_),t.forceRestClient_||r2())t.server_=new Yd(t.repoInfo_,(r,i,s,o)=>{uC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Fr(t.repoInfo_,e,(r,i,s,o)=>{uC(t,r,i,s,o)},r=>{cC(t,r)},r=>{IU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=u2(t.repoInfo_,()=>new aF(t.stats_,t.server_)),t.infoData_=new nF,t.infoSyncTree_=new oC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ef(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),o0(t,"connected",!1),t.serverSyncTree_=new oC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Ks(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function xU(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function DI(t){return aU({timestamp:xU(t)})}function uC(t,e,n,r,i){t.dataUpdateCount++;const s=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=zd(n,u=>Kt(u));o=nU(t.serverSyncTree_,s,l,i)}else{const l=Kt(n);o=tU(t.serverSyncTree_,s,l,i)}else if(r){const l=zd(n,u=>Kt(u));o=JF(t.serverSyncTree_,s,l)}else{const l=Kt(n);o=ef(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=l0(t,s)),Ks(t.eventQueue_,a,o)}function cC(t,e){o0(t,"connected",e),e===!1&&RU(t)}function IU(t,e){_n(e,(n,r)=>{o0(t,n,r)})}function o0(t,e,n){const r=new Oe("/.info/"+e),i=Kt(n);t.infoData_.updateSnapshot(r,i);const s=ef(t.infoSyncTree_,r,i);Ks(t.eventQueue_,r,s)}function kU(t){return t.nextWriteId_++}function RU(t){$I(t,"onDisconnectEvents");const e=DI(t),n=Xd();Mg(t.onDisconnect_,Ce(),(i,s)=>{const o=cU(i,s,t.serverSyncTree_,e);oI(n,i,o)});let r=[];Mg(n,Ce(),(i,s)=>{r=r.concat(ef(t.serverSyncTree_,i,s));const o=DU(t,i);l0(t,o)}),t.onDisconnect_=Xd(),Ks(t.eventQueue_,Ce(),r)}function NU(t,e,n){let r;de(e._path)===".info"?r=aC(t.infoSyncTree_,e,n):r=aC(t.serverSyncTree_,e,n),AI(t.eventQueue_,e._path,r)}function dC(t,e,n){let r;de(e._path)===".info"?r=Vg(t.infoSyncTree_,e,n):r=Vg(t.serverSyncTree_,e,n),AI(t.eventQueue_,e._path,r)}function PU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EU)}function $I(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function MI(t,e,n){return wI(t.serverSyncTree_,e,n)||ne.EMPTY_NODE}function a0(t,e=t.transactionQueueTree_){if(e||rf(t,e),ba(e)){const n=FI(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&AU(t,Fu(e),n)}else TI(e)&&nf(e,n=>{a0(t,n)})}function AU(t,e,n){const r=n.map(u=>u.currentWriteId),i=MI(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];M(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=fn(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{$I(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(bo(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();rf(t,s0(t.transactionQueueTree_,e)),a0(t,t.transactionQueueTree_),Ks(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)$u(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{bn("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}l0(t,e)}},o)}function l0(t,e){const n=LI(t,e),r=Fu(n),i=FI(t,n);return OU(t,i,r),r}function OU(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=fn(n,l.path);let c=!1,d;if(M(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(bo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=SU)c=!0,d="maxretry",i=i.concat(bo(t.serverSyncTree_,l.currentWriteId,!0));else{const h=MI(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){RI("transaction failed: Data returned ",f,l.path);let p=Kt(f);typeof f=="object"&&f!=null&&Yr(f,".priority")||(p=p.updatePriority(h.getPriority()));const E=l.currentWriteId,g=DI(t),y=dU(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=kU(t),o.splice(o.indexOf(E),1),i=i.concat(XF(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(bo(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(bo(t.serverSyncTree_,l.currentWriteId,!0))}Ks(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}rf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$u(r[a]);a0(t,t.transactionQueueTree_)}function LI(t,e){let n,r=t.transactionQueueTree_;for(n=de(e);n!==null&&ba(r)===void 0;)r=s0(r,n),e=$e(e),n=de(e);return r}function FI(t,e){const n=[];return UI(t,e,n),n.sort((r,i)=>r.order-i.order),n}function UI(t,e,n){const r=ba(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);nf(e,i=>{UI(t,i,n)})}function rf(t,e){const n=ba(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,bI(e,n.length>0?n:void 0)}nf(e,r=>{rf(t,r)})}function DU(t,e){const n=Fu(LI(t,e)),r=s0(t.transactionQueueTree_,e);return fU(r,i=>{tm(t,i)}),tm(t,r),xI(r,i=>{tm(t,i)}),n}function tm(t,e){const n=ba(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(M(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(M(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?bI(e,void 0):n.length=s+1,Ks(t.eventQueue_,Fu(e),i);for(let o=0;o<r.length;o++)$u(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function MU(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${t}'`)}return e}const hC=function(t,e){const n=LU(t),r=n.namespace;n.domain==="firebase.com"&&Ns(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ns("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||GL();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new o2(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Oe(n.pathString)}},LU=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=$U(t.substring(c,d)));const h=MU(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+xt(this.snapshot.exportVal())}}class zI{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return he(this._path)?null:Yx(this._path)}get ref(){return new Xr(this._repo,this._path)}get _queryIdentifier(){const e=Q1(this._queryParams),n=Mv(e);return n==="{}"?"default":n}get _queryObject(){return Q1(this._queryParams)}isEqual(e){if(e=rt(e),!(e instanceof u0))return!1;const n=this._repo===e._repo,r=Bv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+A2(this._path)}}class Xr extends u0{constructor(e,n){super(e,n,new jv,!1)}get parent(){const e=Jx(this._path);return e===null?null:new Xr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class iu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),r=jg(this.ref,e);return new iu(this._node.getChild(n),r,et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new iu(i,jg(this.ref,r),et)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jg(t,e){return t=rt(t),de(t._path)===null?vU("child","path",e,!1):NI("child","path",e,!1),new Xr(t._repo,pt(t._path,e))}class c0{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new BI("value",this,new iu(e.snapshotNode,new Xr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zI(this,e,n):null}matches(e){return e instanceof c0?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class d0{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new zI(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");const r=jg(new Xr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new BI(e.type,this,new iu(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof d0?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Uu(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{dC(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new FU(n,s||void 0),a=e==="value"?new c0(o):new d0(e,o);return NU(t._repo,t,a),()=>dC(t._repo,t,a)}function UU(t,e,n,r){return Uu(t,"value",e,n,r)}function BU(t,e,n,r){return Uu(t,"child_added",e,n,r)}function zU(t,e,n,r){return Uu(t,"child_changed",e,n,r)}function VU(t,e,n,r){return Uu(t,"child_moved",e,n,r)}function WU(t,e,n,r){return Uu(t,"child_removed",e,n,r)}VF(Xr);GF(Xr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FIREBASE_DATABASE_EMULATOR_HOST",Hg={};let HU=!1;function qU(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ns("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hC(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[jU]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=hC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new Og(Og.OWNER):new s2(t.name,t.options,e);_U("Invalid Firebase Database URL",o),he(o.path)||Ns("Database URL must point to the root of a Firebase Database (not including a child path).");const d=GU(a,t,c,new i2(t.name,n));return new QU(d,t)}function KU(t,e){const n=Hg[e];(!n||n[t.key]!==t)&&Ns(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PU(t),delete n[t.key]}function GU(t,e,n,r){let i=Hg[e.name];i||(i={},Hg[e.name]=i);let s=i[t.toURLString()];return s&&Ns("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new bU(t,HU,n,r),i[t.toURLString()]=s,s}class QU{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xr(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(KU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ns("Cannot call "+e+" on a deleted database.")}}function YU(t=xv(),e){return Ea(t,"database").getImmediate({identifier:e})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XU(t){WL(Ui),jn(new Rn("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return qU(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),dt(A1,O1,t),dt(A1,O1,"esm2017")}Fr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Fr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};XU();var JU="firebase",ZU="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dt(JU,ZU,"app");var eB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,h0=h0||{},se=eB||self;function sh(){}function qg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Bu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function tB(t){return Object.prototype.hasOwnProperty.call(t,nm)&&t[nm]||(t[nm]=++nB)}var nm="closure_uid_"+(1e9*Math.random()>>>0),nB=0;function rB(t,e,n){return t.call.apply(t.bind,arguments)}function iB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mt=rB:Mt=iB,Mt.apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Bt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Bi(){this.s=this.s,this.o=this.o}var sB=0;Bi.prototype.s=!1;Bi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),sB!=0)&&tB(this)};Bi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const VI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},WI=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function oB(t){e:{var e=XB;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function fC(t){return Array.prototype.concat.apply([],arguments)}function f0(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function oh(t){return/^[\s\xa0]*$/.test(t)}var pC=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jt(t,e){return t.indexOf(e)!=-1}function rm(t,e){return t<e?-1:t>e?1:0}var Zt;e:{var mC=se.navigator;if(mC){var gC=mC.userAgent;if(gC){Zt=gC;break e}}Zt=""}function p0(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function jI(t){const e={};for(const n in t)e[n]=t[n];return e}var yC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yC.length;s++)n=yC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function m0(t){return m0[" "](t),t}m0[" "]=sh;function aB(t){var e=cB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var lB=Jt(Zt,"Opera"),na=Jt(Zt,"Trident")||Jt(Zt,"MSIE"),qI=Jt(Zt,"Edge"),Kg=qI||na,KI=Jt(Zt,"Gecko")&&!(Jt(Zt.toLowerCase(),"webkit")&&!Jt(Zt,"Edge"))&&!(Jt(Zt,"Trident")||Jt(Zt,"MSIE"))&&!Jt(Zt,"Edge"),uB=Jt(Zt.toLowerCase(),"webkit")&&!Jt(Zt,"Edge");function GI(){var t=se.document;return t?t.documentMode:void 0}var ah;e:{var im="",sm=function(){var t=Zt;if(KI)return/rv:([^\);]+)(\)|;)/.exec(t);if(qI)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(uB)return/WebKit\/(\S+)/.exec(t);if(lB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sm&&(im=sm?sm[1]:""),na){var om=GI();if(om!=null&&om>parseFloat(im)){ah=String(om);break e}}ah=im}var cB={};function dB(){return aB(function(){let t=0;const e=pC(String(ah)).split("."),n=pC("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=rm(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||rm(i[2].length==0,s[2].length==0)||rm(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var Gg;if(se.document&&na){var vC=GI();Gg=vC||parseInt(ah,10)||void 0}else Gg=void 0;var hB=Gg,fB=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",sh,e),se.removeEventListener("test",sh,e)}catch{}return t}();function Qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qt.prototype.h=function(){this.defaultPrevented=!0};function su(t,e){if(Qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KI){e:{try{m0(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:pB[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&su.Z.h.call(this)}}Bt(su,Qt);var pB={2:"touch",3:"pen",4:"mouse"};su.prototype.h=function(){su.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zu="closure_listenable_"+(1e6*Math.random()|0),mB=0;function gB(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++mB,this.ca=this.fa=!1}function sf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function of(t){this.src=t,this.g={},this.h=0}of.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Yg(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new gB(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Qg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=VI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Yg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var g0="closure_lm_"+(1e6*Math.random()|0),am={};function QI(t,e,n,r,i){if(r&&r.once)return XI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)QI(t,e[s],n,r,i);return null}return n=_0(n),t&&t[zu]?t.N(e,n,Bu(r)?!!r.capture:!!r,i):YI(t,e,n,!1,r,i)}function YI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Bu(i)?!!i.capture:!!i,a=v0(t);if(a||(t[g0]=a=new of(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=yB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)fB||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ZI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function yB(){function t(n){return e.call(t.src,t.listener,n)}var e=vB;return t}function XI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)XI(t,e[s],n,r,i);return null}return n=_0(n),t&&t[zu]?t.O(e,n,Bu(r)?!!r.capture:!!r,i):YI(t,e,n,!0,r,i)}function JI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)JI(t,e[s],n,r,i);else r=Bu(r)?!!r.capture:!!r,n=_0(n),t&&t[zu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Yg(s,n,r,i),-1<n&&(sf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=v0(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Yg(e,n,r,i)),(n=-1<t?e[t]:null)&&y0(n))}function y0(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[zu])Qg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ZI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=v0(e))?(Qg(n,t),n.h==0&&(n.src=null,e[g0]=null)):sf(t)}}}function ZI(t){return t in am?am[t]:am[t]="on"+t}function vB(t,e){if(t.ca)t=!0;else{e=new su(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&y0(t),t=n.call(r,e)}return t}function v0(t){return t=t[g0],t instanceof of?t:null}var lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function _0(t){return typeof t=="function"?t:(t[lm]||(t[lm]=function(e){return t.handleEvent(e)}),t[lm])}function Rt(){Bi.call(this),this.i=new of(this),this.P=this,this.I=null}Bt(Rt,Bi);Rt.prototype[zu]=!0;Rt.prototype.removeEventListener=function(t,e,n,r){JI(this,t,e,n,r)};function Lt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Qt(e,t);else if(e instanceof Qt)e.target=e.target||t;else{var i=e;e=new Qt(r,t),HI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ac(o,r,!0,e)&&i}if(o=e.g=t,i=Ac(o,r,!0,e)&&i,i=Ac(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ac(o,r,!1,e)&&i}Rt.prototype.M=function(){if(Rt.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sf(n[r]);delete t.g[e],t.h--}}this.I=null};Rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ac(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&Qg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var w0=se.JSON.stringify;function _B(){var t=tk;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class wB{constructor(){this.h=this.g=null}add(e,n){const r=ek.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ek=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new CB,t=>t.reset());class CB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function EB(t){se.setTimeout(()=>{throw t},0)}function C0(t,e){Xg||SB(),Jg||(Xg(),Jg=!0),tk.add(t,e)}var Xg;function SB(){var t=se.Promise.resolve(void 0);Xg=function(){t.then(bB)}}var Jg=!1,tk=new wB;function bB(){for(var t;t=_B();){try{t.h.call(t.g)}catch(n){EB(n)}var e=ek;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Jg=!1}function af(t,e){Rt.call(this),this.h=t||1,this.g=e||se,this.j=Mt(this.kb,this),this.l=Date.now()}Bt(af,Rt);W=af.prototype;W.da=!1;W.S=null;W.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(E0(this),this.start()))}};W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function E0(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}W.M=function(){af.Z.M.call(this),E0(this),delete this.g};function S0(t,e,n){if(typeof t=="function")n&&(t=Mt(t,n));else if(t&&typeof t.handleEvent=="function")t=Mt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function nk(t){t.g=S0(()=>{t.g=null,t.i&&(t.i=!1,nk(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class TB extends Bi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nk(this)}M(){super.M(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ou(t){Bi.call(this),this.h=t,this.g={}}Bt(ou,Bi);var _C=[];function rk(t,e,n,r){Array.isArray(n)||(n&&(_C[0]=n.toString()),n=_C);for(var i=0;i<n.length;i++){var s=QI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ik(t){p0(t.g,function(e,n){this.g.hasOwnProperty(n)&&y0(e)},t),t.g={}}ou.prototype.M=function(){ou.Z.M.call(this),ik(this)};ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lf(){this.g=!0}lf.prototype.Aa=function(){this.g=!1};function xB(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function IB(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function To(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+RB(t,n)+(r?" "+r:"")})}function kB(t,e){t.info(function(){return"TIMEOUT: "+e})}lf.prototype.info=function(){};function RB(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return w0(n)}catch{return e}}var Gs={},wC=null;function uf(){return wC=wC||new Rt}Gs.Ma="serverreachability";function sk(t){Qt.call(this,Gs.Ma,t)}Bt(sk,Qt);function au(t){const e=uf();Lt(e,new sk(e))}Gs.STAT_EVENT="statevent";function ok(t,e){Qt.call(this,Gs.STAT_EVENT,t),this.stat=e}Bt(ok,Qt);function en(t){const e=uf();Lt(e,new ok(e,t))}Gs.Na="timingevent";function ak(t,e){Qt.call(this,Gs.Na,t),this.size=e}Bt(ak,Qt);function Vu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var cf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function b0(){}b0.prototype.h=null;function CC(t){return t.h||(t.h=t.i())}function uk(){}var Wu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function T0(){Qt.call(this,"d")}Bt(T0,Qt);function x0(){Qt.call(this,"c")}Bt(x0,Qt);var Zg;function df(){}Bt(df,b0);df.prototype.g=function(){return new XMLHttpRequest};df.prototype.i=function(){return{}};Zg=new df;function ju(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ou(this),this.P=NB,t=Kg?125:void 0,this.W=new af(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ck}function ck(){this.i=null,this.g="",this.h=!1}var NB=45e3,ey={},lh={};W=ju.prototype;W.setTimeout=function(t){this.P=t};function ty(t,e,n){t.K=1,t.v=ff(Hr(e)),t.s=n,t.U=!0,dk(t,null)}function dk(t,e){t.F=Date.now(),Hu(t),t.A=Hr(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),vk(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ck,t.g=Fk(t.l,n?e:null,!t.s),0<t.O&&(t.L=new TB(Mt(t.Ia,t,t.g),t.O)),rk(t.V,t.g,"readystatechange",t.gb),e=t.H?jI(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),au(),xB(t.j,t.u,t.A,t.m,t.X,t.s)}W.gb=function(t){t=t.target;const e=this.L;e&&Mr(t)==3?e.l():this.Ia(t)};W.Ia=function(t){try{if(t==this.g)e:{const c=Mr(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(c!=3||Kg||this.g&&(this.h.h||this.g.ga()||TC(this.g)))){this.I||c!=4||e==7||(e==8||0>=d?au(3):au(2)),hf(this);var n=this.g.ba();this.N=n;t:if(hk(this)){var r=TC(this.g);t="";var i=r.length,s=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),Cl(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,IB(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oh(a)){var u=a;break t}}u=null}if(n=u)To(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ny(this,n);else{this.i=!1,this.o=3,en(12),as(this),Cl(this);break e}}this.U?(fk(this,c,o),Kg&&this.i&&c==3&&(rk(this.V,this.W,"tick",this.fb),this.W.start())):(To(this.j,this.m,o,null),ny(this,o)),c==4&&as(this),this.i&&!this.I&&(c==4?Dk(this.l,this):(this.i=!1,Hu(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),as(this),Cl(this)}}}catch{}finally{}};function hk(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function fk(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=PB(t,n),i==lh){e==4&&(t.o=4,en(14),r=!1),To(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ey){t.o=4,en(15),To(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else To(t.j,t.m,i,null),ny(t,i);hk(t)&&i!=lh&&i!=ey&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$0(e),e.L=!0,en(11))):(To(t.j,t.m,n,"[Invalid Chunked Response]"),as(t),Cl(t))}W.fb=function(){if(this.g){var t=Mr(this.g),e=this.g.ga();this.C<e.length&&(hf(this),fk(this,t,e),this.i&&t!=4&&Hu(this))}};function PB(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lh:(n=Number(e.substring(n,r)),isNaN(n)?ey:(r+=1,r+n>e.length?lh:(e=e.substr(r,n),t.C=r+n,e)))}W.cancel=function(){this.I=!0,as(this)};function Hu(t){t.Y=Date.now()+t.P,pk(t,t.P)}function pk(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Vu(Mt(t.eb,t),e)}function hf(t){t.B&&(se.clearTimeout(t.B),t.B=null)}W.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(kB(this.j,this.A),this.K!=2&&(au(),en(17)),as(this),this.o=2,Cl(this)):pk(this,this.Y-t)};function Cl(t){t.l.G==0||t.I||Dk(t.l,t)}function as(t){hf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,E0(t.W),ik(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ny(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ry(n.i,t))){if(n.I=t.N,!t.J&&ry(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)hh(n),gf(n);else break e;D0(n),en(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Vu(Mt(n.ab,n),6e3));if(1>=Ck(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ls(n,11)}else if((t.J||n.g==t)&&hh(n),!oh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const c=u[3];c!=null&&(n.ma=c,n.h.info("VER="+n.ma));const d=u[4];d!=null&&(n.za=d,n.h.info("SVER="+n.za));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(Jt(p,"spdy")||Jt(p,"quic")||Jt(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(R0(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.sa=m,Ke(r.F,r.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=Lk(r,r.H?r.la:null,r.W),o.J){Ek(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(hf(a),Hu(a)),r.g=o}else Ak(r);0<n.l.length&&yf(n)}else u[0]!="stop"&&u[0]!="close"||ls(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ls(n,7):O0(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}au(4)}catch{}}function AB(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(qg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function I0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(qg(t)||typeof t=="string")WI(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(qg(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=AB(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ta(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ta)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}W=Ta.prototype;W.R=function(){k0(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};W.T=function(){return k0(this),this.g.concat()};function k0(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];$s(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],$s(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}W.get=function(t,e){return $s(this.h,t)?this.h[t]:e};W.set=function(t,e){$s(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};W.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function $s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var mk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function OB(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ms(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ms){this.g=e!==void 0?e:t.g,uh(this,t.j),this.s=t.s,ch(this,t.i),dh(this,t.m),this.l=t.l,e=t.h;var n=new lu;n.i=e.i,e.g&&(n.g=new Ta(e.g),n.h=e.h),EC(this,n),this.o=t.o}else t&&(n=String(t).match(mk))?(this.g=!!e,uh(this,n[1]||"",!0),this.s=El(n[2]||""),ch(this,n[3]||"",!0),dh(this,n[4]),this.l=El(n[5]||"",!0),EC(this,n[6]||"",!0),this.o=El(n[7]||"")):(this.g=!!e,this.h=new lu(null,this.g))}Ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(nl(e,SC,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(nl(e,SC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(nl(n,n.charAt(0)=="/"?FB:LB,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",nl(n,BB)),t.join("")};function Hr(t){return new Ms(t)}function uh(t,e,n){t.j=n?El(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ch(t,e,n){t.i=n?El(e,!0):e}function dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EC(t,e,n){e instanceof lu?(t.h=e,zB(t.h,t.g)):(n||(e=nl(e,UB)),t.h=new lu(e,t.g))}function Ke(t,e,n){t.h.set(e,n)}function ff(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function DB(t){return t instanceof Ms?Hr(t):new Ms(t,void 0)}function $B(t,e,n,r){var i=new Ms(null,void 0);return t&&uh(i,t),e&&ch(i,e),n&&dh(i,n),r&&(i.l=r),i}function El(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function nl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MB),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MB(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var SC=/[#\/\?@]/g,LB=/[#\?:]/g,FB=/[#\?]/g,UB=/[#\?@]/g,BB=/#/g;function lu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function zi(t){t.g||(t.g=new Ta,t.h=0,t.i&&OB(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=lu.prototype;W.add=function(t,e){zi(this),this.i=null,t=xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gk(t,e){zi(t),e=xa(t,e),$s(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,$s(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&k0(t)))}function yk(t,e){return zi(t),e=xa(t,e),$s(t.g.h,e)}W.forEach=function(t,e){zi(this),this.g.forEach(function(n,r){WI(n,function(i){t.call(e,i,r,this)},this)},this)};W.T=function(){zi(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};W.R=function(t){zi(this);var e=[];if(typeof t=="string")yk(this,t)&&(e=fC(e,this.g.get(xa(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=fC(e,t[n])}return e};W.set=function(t,e){return zi(this),this.i=null,t=xa(this,t),yk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function vk(t,e,n){gk(t,e),0<n.length&&(t.i=null,t.g.set(xa(t,e),f0(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function zB(t,e){e&&!t.j&&(zi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gk(this,r),vk(this,i,n))},t)),t.j=e}var VB=class{constructor(t,e){this.h=t,this.g=e}};function _k(t){this.l=t||WB,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ea&&se.g.Ea()&&se.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var WB=10;function wk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Ck(t){return t.h?1:t.g?t.g.size:0}function ry(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function R0(t,e){t.g?t.g.add(e):t.h=e}function Ek(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}_k.prototype.cancel=function(){if(this.i=Sk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Sk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return f0(t.i)}function N0(){}N0.prototype.stringify=function(t){return se.JSON.stringify(t,void 0)};N0.prototype.parse=function(t){return se.JSON.parse(t,void 0)};function jB(){this.g=new N0}function HB(t,e,n){const r=n||"";try{I0(t,function(i,s){let o=i;Bu(i)&&(o=w0(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qB(t,e){const n=new lf;if(se.Image){const r=new Image;r.onload=Pc(Oc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(Oc,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(Oc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(Oc,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Oc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qu(t){this.l=t.$b||null,this.j=t.ib||!1}Bt(qu,b0);qu.prototype.g=function(){return new pf(this.l,this.j)};qu.prototype.i=function(t){return function(){return t}}({});function pf(t,e){Rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=P0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bt(pf,Rt);var P0=0;W=pf.prototype;W.open=function(t,e){if(this.readyState!=P0)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,uu(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||se).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ku(this)),this.readyState=P0};W.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,uu(this)),this.g&&(this.readyState=3,uu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bk(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function bk(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}W.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ku(this):uu(this),this.readyState==3&&bk(this)}};W.Ua=function(t){this.g&&(this.response=this.responseText=t,Ku(this))};W.Ta=function(t){this.g&&(this.response=t,Ku(this))};W.ha=function(){this.g&&Ku(this)};function Ku(t){t.readyState=4,t.l=null,t.j=null,t.A=null,uu(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function uu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(pf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var KB=se.JSON.parse;function ht(t){Rt.call(this),this.headers=new Ta,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tk,this.K=this.L=!1}Bt(ht,Rt);var Tk="",GB=/^https?$/i,QB=["POST","PUT"];W=ht.prototype;W.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zg.g(),this.C=this.u?CC(this.u):CC(Zg),this.g.onreadystatechange=Mt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){bC(this,s);return}t=n||"";const i=new Ta(this.headers);r&&I0(r,function(s,o){i.set(o,s)}),r=oB(i.T()),n=se.FormData&&t instanceof se.FormData,!(0<=VI(QB,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{kk(this),0<this.B&&((this.K=YB(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.pa,this)):this.A=S0(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){bC(this,s)}};function YB(t){return na&&dB()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function XB(t){return t.toLowerCase()=="content-type"}W.pa=function(){typeof h0<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function bC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xk(t),mf(t)}function xk(t){t.D||(t.D=!0,Lt(t,"complete"),Lt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),mf(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mf(this,!0)),ht.Z.M.call(this)};W.Fa=function(){this.s||(this.F||this.v||this.l?Ik(this):this.cb())};W.cb=function(){Ik(this)};function Ik(t){if(t.h&&typeof h0<"u"&&(!t.C[1]||Mr(t)!=4||t.ba()!=2)){if(t.v&&Mr(t)==4)S0(t.Fa,0,t);else if(Lt(t,"readystatechange"),Mr(t)==4){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(mk)[1]||null;if(!i&&se.self&&se.self.location){var s=se.self.location.protocol;i=s.substr(0,s.length-1)}r=!GB.test(i?i.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var o=2<Mr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",xk(t)}}finally{mf(t)}}}}function mf(t,e){if(t.g){kk(t);const n=t.g,r=t.C[0]?sh:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function kk(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}function Mr(t){return t.g?t.g.readyState:0}W.ba=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};W.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),KB(e)}};function TC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Tk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}W.Da=function(){return this.m};W.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function JB(t){let e="";return p0(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function A0(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JB(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function Ka(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Rk(t){this.za=0,this.l=[],this.h=new lf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ka("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ka("baseRetryDelayMs",5e3,t),this.$a=Ka("retryDelaySeedMs",1e4,t),this.Ya=Ka("forwardChannelMaxRetries",2,t),this.ra=Ka("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new _k(t&&t.concurrentRequestLimit),this.Ca=new jB,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}W=Rk.prototype;W.ma=8;W.G=1;function O0(t){if(Nk(t),t.G==3){var e=t.V++,n=Hr(t.F);Ke(n,"SID",t.J),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Gu(t,n),e=new ju(t,t.h,e,void 0),e.K=2,e.v=ff(Hr(n)),n=!1,se.navigator&&se.navigator.sendBeacon&&(n=se.navigator.sendBeacon(e.v.toString(),"")),!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=Fk(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Hu(e)}Mk(t)}W.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function gf(t){t.g&&($0(t),t.g.cancel(),t.g=null)}function Nk(t){gf(t),t.u&&(se.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function um(t,e){t.l.push(new VB(t.Za++,e)),t.G==3&&yf(t)}function yf(t){wk(t.i)||t.m||(t.m=!0,C0(t.Ha,t),t.C=0)}function ZB(t,e){return Ck(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Vu(Mt(t.Ha,t,e),$k(t,t.C)),t.C++,!0)}W.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ju(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=jI(s),HI(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Pk(this,i,e),n=Hr(this.F),Ke(n,"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),Gu(this,n),this.o&&s&&A0(n,this.o,s),R0(this.i,i),this.Ra&&Ke(n,"TYPE","init"),this.ja?(Ke(n,"$req",e),Ke(n,"SID","null"),i.$=!0,ty(i,n,null)):ty(i,n,e),this.G=2}}else this.G==3&&(t?xC(this,t):this.l.length==0||wk(this.i)||xC(this))};function xC(t,e){var n;e?n=e.m:n=t.V++;const r=Hr(t.F);Ke(r,"SID",t.J),Ke(r,"RID",n),Ke(r,"AID",t.U),Gu(t,r),t.o&&t.s&&A0(r,t.o,t.s),n=new ju(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Pk(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),R0(t.i,n),ty(n,r,e)}function Gu(t,e){t.j&&I0({},function(n,r){Ke(e,r,n)})}function Pk(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Mt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{HB(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Ak(t){t.g||t.u||(t.Y=1,C0(t.Ga,t),t.A=0)}function D0(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Vu(Mt(t.Ga,t),$k(t,t.A)),t.A++,!0)}W.Ga=function(){if(this.u=null,Ok(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Vu(Mt(this.bb,this),t)}};W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,en(10),gf(this),Ok(this))};function $0(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function Ok(t){t.g=new ju(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Hr(t.oa);Ke(e,"RID","rpc"),Ke(e,"SID",t.J),Ke(e,"CI",t.N?"0":"1"),Ke(e,"AID",t.U),Gu(t,e),Ke(e,"TYPE","xmlhttp"),t.o&&t.s&&A0(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ff(Hr(e)),n.s=null,n.U=!0,dk(n,t)}W.ab=function(){this.v!=null&&(this.v=null,gf(this),D0(this),en(19))};function hh(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function Dk(t,e){var n=null;if(t.g==e){hh(t),$0(t),t.g=null;var r=2}else if(ry(t.i,e))n=e.D,Ek(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=uf(),Lt(r,new ak(r,n)),yf(t)}else Ak(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&ZB(t,e)||r==2&&D0(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ls(t,5);break;case 4:ls(t,10);break;case 3:ls(t,6);break;default:ls(t,2)}}}function $k(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ls(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=Mt(t.jb,t);n||(n=new Ms("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||uh(n,"https"),ff(n)),qB(n.toString(),r)}else en(2);t.G=0,t.j&&t.j.va(e),Mk(t),Nk(t)}W.jb=function(t){t?(this.h.info("Successfully pinged google.com"),en(2)):(this.h.info("Failed to ping google.com"),en(1))};function Mk(t){t.G=0,t.I=-1,t.j&&((Sk(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,f0(t.l),t.l.length=0),t.j.ua())}function Lk(t,e,n){let r=DB(n);if(r.i!="")e&&ch(r,e+"."+r.i),dh(r,r.m);else{const i=se.location;r=$B(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&p0(t.aa,function(i,s){Ke(r,s,i)}),e=t.D,n=t.sa,e&&n&&Ke(r,e,n),Ke(r,"VER",t.ma),Gu(t,r),r}function Fk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new ht(new qu({ib:!0})):new ht(t.qa),e.L=t.H,e}function Uk(){}W=Uk.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Oa=function(){};function fh(){if(na&&!(10<=Number(hB)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(t,e){return new Nn(t,e)};function Nn(t,e){Rt.call(this),this.g=new Rk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!oh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!oh(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ia(this)}Bt(Nn,Rt);Nn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),C0(Mt(t.hb,t,e))),en(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Lk(t,null,t.W),yf(t)};Nn.prototype.close=function(){O0(this.g)};Nn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,um(this.g,e)}else this.v?(e={},e.__data__=w0(t),um(this.g,e)):um(this.g,t)};Nn.prototype.M=function(){this.g.j=null,delete this.j,O0(this.g),delete this.g,Nn.Z.M.call(this)};function Bk(t){T0.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Bt(Bk,T0);function zk(){x0.call(this),this.status=1}Bt(zk,x0);function Ia(t){this.g=t}Bt(Ia,Uk);Ia.prototype.xa=function(){Lt(this.g,"a")};Ia.prototype.wa=function(t){Lt(this.g,new Bk(t))};Ia.prototype.va=function(t){Lt(this.g,new zk)};Ia.prototype.ua=function(){Lt(this.g,"b")};fh.prototype.createWebChannel=fh.prototype.g;Nn.prototype.send=Nn.prototype.u;Nn.prototype.open=Nn.prototype.m;Nn.prototype.close=Nn.prototype.close;cf.NO_ERROR=0;cf.TIMEOUT=8;cf.HTTP_ERROR=6;lk.COMPLETE="complete";uk.EventType=Wu;Wu.OPEN="a";Wu.CLOSE="b";Wu.ERROR="c";Wu.MESSAGE="d";Rt.prototype.listen=Rt.prototype.N;ht.prototype.listenOnce=ht.prototype.O;ht.prototype.getLastError=ht.prototype.La;ht.prototype.getLastErrorCode=ht.prototype.Da;ht.prototype.getStatus=ht.prototype.ba;ht.prototype.getResponseJson=ht.prototype.Qa;ht.prototype.getResponseText=ht.prototype.ga;ht.prototype.send=ht.prototype.ea;var ez=function(){return new fh},tz=function(){return uf()},cm=cf,nz=lk,rz=Gs,IC={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iz=qu,Dc=uk,sz=ht;const kC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ka="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Ru("@firebase/firestore");function RC(){return Ls.logLevel}function X(t,...e){if(Ls.logLevel<=ye.DEBUG){const n=e.map(M0);Ls.debug(`Firestore (${ka}): ${t}`,...n)}}function qr(t,...e){if(Ls.logLevel<=ye.ERROR){const n=e.map(M0);Ls.error(`Firestore (${ka}): ${t}`,...n)}}function NC(t,...e){if(Ls.logLevel<=ye.WARN){const n=e.map(M0);Ls.warn(`Firestore (${ka}): ${t}`,...n)}}function M0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${ka}) INTERNAL ASSERTION FAILED: `+t;throw qr(e),new Error(e)}function Le(t,e){t||ae()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class az{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class lz{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ys,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ys)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new oz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new an(e)}}class uz{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Le(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class cz{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new uz(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hz{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.A=n.token,new dz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new gt(0,0))}static max(){return new ce(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends cu{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const pz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends cu{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return pz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Z(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Z(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Ge.fromString(e))}static fromName(e){return new ee(Ge.fromString(e).popFirst(5))}static empty(){return new ee(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Ge(e.slice()))}}function mz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Pi(i,ee.empty(),e)}function gz(t){return new Pi(t.readTime,t.key,-1)}class Pi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Pi(ce.min(),ee.empty(),-1)}static max(){return new Pi(ce.max(),ee.empty(),-1)}}function yz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==vz)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */L0.at=-1;class _t{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Ot.RED,this.left=i!=null?i:Ot.EMPTY,this.right=s!=null?s:Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ot(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ot(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new AC(this.data.getIterator())}getIteratorFrom(e){return new AC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yt(this.comparator);return n.data=e,n}}class AC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Bn([])}unionWith(e){let n=new yt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const wz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(t){if(Le(!!t),typeof t=="string"){let e=0;const n=wz.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ia(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hk(t){const e=t.mapValue.fields.__previous_value__;return jk(e)?Hk(e):e}function du(t){const e=Ai(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class hu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}function vf(t){return t==null}function ph(t){return t===0&&1/t==-1/0}function Ez(t){return typeof t=="number"&&Number.isInteger(t)&&!ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jk(t)?4:Sz(t)?9007199254740991:10:ae()}function br(t,e){if(t===e)return!0;const n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return du(t).isEqual(du(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ai(r.timestampValue),o=Ai(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ia(r.bytesValue).isEqual(ia(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return lt(r.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(r.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return lt(r.integerValue)===lt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=lt(r.doubleValue),o=lt(i.doubleValue);return s===o?ph(s)===ph(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ra(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(PC(s)!==PC(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!br(s[a],o[a])))return!1;return!0}(t,e);default:return ae()}}function fu(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Fs(t),r=Fs(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=lt(i.integerValue||i.doubleValue),a=lt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OC(t.timestampValue,e.timestampValue);case 4:return OC(du(t),du(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ia(i),a=ia(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Se(o[l],a[l]);if(u!==0)return u}return Se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Se(lt(i.latitude),lt(s.latitude));return o!==0?o:Se(lt(i.longitude),lt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=sa(o[l],a[l]);if(u)return u}return Se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Mc.mapValue&&s===Mc.mapValue)return 0;if(i===Mc.mapValue)return 1;if(s===Mc.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Se(a[c],u[c]);if(d!==0)return d;const h=sa(o[a[c]],l[u[c]]);if(h!==0)return h}return Se(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ae()}}function OC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=Ai(t),r=Ai(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function Uo(t){return iy(t)}function iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ai(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ia(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=iy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${iy(r.fields[a])}`;return s+"}"}(t.mapValue):ae();var e,n}function sy(t){return!!t&&"integerValue"in t}function F0(t){return!!t&&"arrayValue"in t}function DC(t){return!!t&&"nullValue"in t}function $C(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ad(t){return!!t&&"mapValue"in t}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Sz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Gt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new cn(Sl(this.value))}}function qk(t){const e=[];return Qs(t.fields,(n,r)=>{const i=new Gt([n]);if(ad(r)){const s=qk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Dt(e,0,ce.min(),ce.min(),cn.empty(),0)}static newFoundDocument(e,n,r){return new Dt(e,1,n,ce.min(),r,0)}static newNoDocument(e,n){return new Dt(e,2,n,ce.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,ce.min(),cn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ht=null}}function MC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bz(t,e,n,r,i,s,o)}function U0(t){const e=le(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Uo(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Uo(r)).join(",")),e.ht=n}return e.ht}function Tz(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Uo(r.value)}`;var r}).join(", ")}]`),vf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Uo(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Uo(n)).join(",")),`Target(${e})`}function B0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!Oz(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!br(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FC(t.startAt,e.startAt)&&FC(t.endAt,e.endAt)}function oy(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class mn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new xz(e,n,r):n==="array-contains"?new Rz(e,r):n==="in"?new Nz(e,r):n==="not-in"?new Pz(e,r):n==="array-contains-any"?new Az(e,r):new mn(e,n,r)}static lt(e,n,r){return n==="in"?new Iz(e,r):new kz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(sa(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.ft(sa(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xz extends mn{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.ft(n)}}class Iz extends mn{constructor(e,n){super(e,"in",n),this.keys=Kk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class kz extends mn{constructor(e,n){super(e,"not-in",n),this.keys=Kk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class Rz extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F0(n)&&fu(n.arrayValue,this.value)}}class Nz extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fu(this.value.arrayValue,n)}}class Pz extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!fu(this.value.arrayValue,n)}}class Az extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}}class mh{constructor(e,n){this.position=e,this.inclusive=n}}class Bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function LC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function FC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this._t=null,this.wt=null,this.startAt,this.endAt}}function Dz(t,e,n,r,i,s,o,a){return new Xu(t,e,n,r,i,s,o,a)}function z0(t){return new Xu(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Gk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qk(t){for(const e of t.filters)if(e.dt())return e.field;return null}function $z(t){return t.collectionGroup!==null}function pu(t){const e=le(t);if(e._t===null){e._t=[];const n=Qk(e),r=Gk(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new Bo(n)),e._t.push(new Bo(Gt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e._t.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Bo(Gt.keyField(),s))}}}return e._t}function Kr(t){const e=le(t);if(!e.wt)if(e.limitType==="F")e.wt=MC(e.path,e.collectionGroup,pu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of pu(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Bo(s.field,o))}const r=e.endAt?new mh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mh(e.startAt.position,e.startAt.inclusive):null;e.wt=MC(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function gh(t,e,n){return new Xu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ju(t,e){return B0(Kr(t),Kr(e))&&t.limitType===e.limitType}function Yk(t){return`${U0(Kr(t))}|lt:${t.limitType}`}function ay(t){return`Query(target=${Tz(Kr(t))}; limitType=${t.limitType})`}function V0(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ee.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=LC(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,pu(n),r)||n.endAt&&!function(i,s,o){const a=LC(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,pu(n),r))}(t,e)}function Mz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xk(t){return(e,n)=>{let r=!1;for(const i of pu(t)){const s=Lz(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Lz(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?sa(a,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function Zk(t){return{integerValue:""+t}}function Fz(t,e){return Ez(e)?Zk(e):Jk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function Uz(t,e,n){return t instanceof mu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof gu?tR(t,e):t instanceof yu?nR(t,e):function(r,i){const s=eR(r,i),o=BC(s)+BC(r.yt);return sy(s)&&sy(r.yt)?Zk(o):Jk(r.It,o)}(t,e)}function Bz(t,e,n){return t instanceof gu?tR(t,e):t instanceof yu?nR(t,e):n}function eR(t,e){return t instanceof yh?sy(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class mu extends _f{}class gu extends _f{constructor(e){super(),this.elements=e}}function tR(t,e){const n=rR(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class yu extends _f{constructor(e){super(),this.elements=e}}function nR(t,e){let n=rR(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class yh extends _f{constructor(e,n){super(),this.It=e,this.yt=n}}function BC(t){return lt(t.integerValue||t.doubleValue)}function rR(t){return F0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n){this.field=e,this.transform=n}}function Vz(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof gu&&r instanceof gu||n instanceof yu&&r instanceof yu?ra(n.elements,r.elements,br):n instanceof yh&&r instanceof yh?br(n.yt,r.yt):n instanceof mu&&r instanceof mu}(t.transform,e.transform)}class Wz{constructor(e,n){this.version=e,this.transformResults=n}}class or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ld(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function iR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new W0(t.key,or.none()):new Zu(t.key,t.data,or.none());{const n=t.data,r=cn.empty();let i=new yt(Gt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new Bn(i.toArray()),or.none())}}function jz(t,e,n){t instanceof Zu?function(r,i,s){const o=r.value.clone(),a=VC(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,i,s){if(!ld(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=VC(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(sR(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bl(t,e,n,r){return t instanceof Zu?function(i,s,o,a){if(!ld(i.precondition,s))return o;const l=i.value.clone(),u=WC(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(i,s,o,a){if(!ld(i.precondition,s))return o;const l=WC(i.fieldTransforms,a,s),u=s.data;return u.setAll(sR(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return ld(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function Hz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eR(r.transform,i||null);s!=null&&(n===null&&(n=cn.empty()),n.set(r.field,s))}return n||null}function zC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ra(n,r,(i,s)=>Vz(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zu extends wf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends wf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VC(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bz(o,a,n[i]))}return r}function WC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Uz(s,o,e))}return r}class W0 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qz extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ge;function Gz(t){switch(t){default:return ae();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function oR(t){if(t===void 0)return qr("GRPC error has no .code"),N.UNKNOWN;switch(t){case at.OK:return N.OK;case at.CANCELLED:return N.CANCELLED;case at.UNKNOWN:return N.UNKNOWN;case at.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case at.INTERNAL:return N.INTERNAL;case at.UNAVAILABLE:return N.UNAVAILABLE;case at.UNAUTHENTICATED:return N.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case at.NOT_FOUND:return N.NOT_FOUND;case at.ALREADY_EXISTS:return N.ALREADY_EXISTS;case at.PERMISSION_DENIED:return N.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case at.ABORTED:return N.ABORTED;case at.OUT_OF_RANGE:return N.OUT_OF_RANGE;case at.UNIMPLEMENTED:return N.UNIMPLEMENTED;case at.DATA_LOSS:return N.DATA_LOSS;default:return ae()}}(ge=at||(at={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Wk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new _t(ee.comparator);function Gr(){return Qz}const aR=new _t(ee.comparator);function rl(...t){let e=aR;for(const n of t)e=e.insert(n.key,n);return e}function lR(t){let e=aR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function us(){return Tl()}function uR(){return Tl()}function Tl(){return new Ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yz=new _t(ee.comparator),Xz=new yt(ee.comparator);function fe(...t){let e=Xz;for(const n of t)e=e.add(n);return e}const Jz=new yt(Se);function cR(){return Jz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n)),new Cf(ce.min(),r,cR(),Gr(),fe())}}class ec{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ec(Ut.EMPTY_BYTE_STRING,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class dR{constructor(e,n){this.targetId=e,this.At=n}}class hR{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jC{constructor(){this.Rt=0,this.bt=qC(),this.Pt=Ut.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=fe(),n=fe(),r=fe();return this.bt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new ec(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=qC()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Zz{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Gr(),this.qt=HC(),this.Kt=new yt(Se)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const s=i.target;if(oy(s))if(r===0){const o=new ee(s.path);this.jt(n,o,Dt.newNoDocument(o,ce.min()))}else Le(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((s,o)=>{const a=this.Xt(o);if(a){if(s.current&&oy(a.target)){const l=new ee(a.target.path);this.Ut.get(l)!==null||this.ee(o,l)||this.jt(o,l,Dt.newNoDocument(l,e))}s.Dt&&(n.set(o,s.xt()),s.Nt())}});let r=fe();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));const i=new Cf(e,n,this.Kt,this.Ut,r);return this.Ut=Gr(),this.qt=HC(),this.Kt=new yt(Se),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new jC,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new yt(Se),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new jC),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function HC(){return new _t(ee.comparator)}function qC(){return new _t(ee.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),t4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class n4{constructor(e,n){this.databaseId=e,this.gt=n}}function vh(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(t,e){return t.gt?e.toBase64():e.toUint8Array()}function r4(t,e){return vh(t,e.toTimestamp())}function Ur(t){return Le(!!t),ce.fromTimestamp(function(e){const n=Ai(e);return new gt(n.seconds,n.nanos)}(t))}function j0(t,e){return function(n){return new Ge(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function pR(t){const e=Ge.fromString(t);return Le(yR(e)),e}function ly(t,e){return j0(t.databaseId,e.path)}function dm(t,e){const n=pR(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(mR(n))}function uy(t,e){return j0(t.databaseId,e)}function i4(t){const e=pR(t);return e.length===4?Ge.emptyPath():mR(e)}function cy(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mR(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function KC(t,e,n){return{name:ly(t,e),fields:n.value.mapValue.fields}}function s4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.gt?(Le(u===void 0||typeof u=="string"),Ut.fromBase64String(u||"")):(Le(u===void 0||u instanceof Uint8Array),Ut.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?N.UNKNOWN:oR(l.code);return new Z(u,l.message||"")}(o);n=new hR(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dm(t,r.document.name),s=Ur(r.document.updateTime),o=new cn({mapValue:{fields:r.document.fields}}),a=Dt.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new ud(l,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dm(t,r.document),s=r.readTime?Ur(r.readTime):ce.min(),o=Dt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ud([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dm(t,r.document),s=r.removedTargetIds||[];n=new ud([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new Kz(i),o=r.targetId;n=new dR(o,s)}}return n}function o4(t,e){let n;if(e instanceof Zu)n={update:KC(t,e.key,e.value)};else if(e instanceof W0)n={delete:ly(t,e.key)};else if(e instanceof Vi)n={update:KC(t,e.key,e.data),updateMask:g4(e.fieldMask)};else{if(!(e instanceof qz))return ae();n={verify:ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof mu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof gu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof yu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof yh)return{fieldPath:s.field.canonicalString(),increment:o.yt};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:r4(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function a4(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Ur(r.updateTime):Ur(i);return s.isEqual(ce.min())&&(s=Ur(i)),new Wz(s,r.transformResults||[])}(n,e))):[]}function l4(t,e){return{documents:[uy(t,e.path)]}}function u4(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=uy(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uy(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length===0)return;const u=l.map(c=>function(d){if(d.op==="=="){if($C(d.value))return{unaryFilter:{field:to(d.field),op:"IS_NAN"}};if(DC(d.value))return{unaryFilter:{field:to(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if($C(d.value))return{unaryFilter:{field:to(d.field),op:"IS_NOT_NAN"}};if(DC(d.value))return{unaryFilter:{field:to(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(d.field),op:f4(d.op),value:d.value}}}(c));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:to(c.field),direction:h4(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.gt||vf(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function c4(t){let e=i4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=gR(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Bo(xo(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,vf(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,h=c.values||[];return new mh(h,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,h=c.values||[];return new mh(h,d)}(n.endAt)),Dz(e,i,o,s,a,"F",l,u)}function d4(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ae()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function gR(t){return t?t.unaryFilter!==void 0?[m4(t)]:t.fieldFilter!==void 0?[p4(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>gR(e)).reduce((e,n)=>e.concat(n)):ae():[]}function h4(t){return e4[t]}function f4(t){return t4[t]}function to(t){return{fieldPath:t.canonicalString()}}function xo(t){return Gt.fromServerFormat(t.fieldPath)}function p4(t){return mn.create(xo(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(t.fieldFilter.op),t.fieldFilter.value)}function m4(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xo(t.unaryFilter.field);return mn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xo(t.unaryFilter.field);return mn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xo(t.unaryFilter.field);return mn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xo(t.unaryFilter.field);return mn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}function g4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&jz(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uR();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iR(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(n,r)=>zC(n,r))&&ra(this.baseMutations,e.baseMutations,(n,r)=>zC(n,r))}}class H0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=Yz;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=Ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.re=e}}function w4(t){const e=c4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(){this.Ye=new E4}addToCollectionParentIndex(e,n){return this.Ye.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Pi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class E4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new oa(0)}static vn(){return new oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.changes=new Ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&bl(r.mutation,i,Bn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=us();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gr();const o=Tl(),a=Tl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Vi)?s=s.insert(u.key,u):c!==void 0&&(o.set(u.key,c.mutation.getFieldMask()),bl(c.mutation,u,c.mutation.getFieldMask(),gt.now()))}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new b4(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tl();let i=new _t((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Bn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=uR();c.forEach(h=>{if(!s.has(h)){const f=iR(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$z(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(us());let a=-1,l=s;return o.next(u=>O.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?O.resolve():this.getBaseDocument(e,c,d).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,fe())).next(c=>({batchId:a,changes:lR(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=rl();return this.indexManager.getCollectionParents(e,i).next(o=>O.forEach(o,a=>{const l=function(u,c){return new Xu(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Dt.newInvalidDocument(u)))});let o=rl();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&bl(u.mutation,l,Bn.empty(),gt.now()),V0(n,l)&&(o=o.insert(a,l))}),o})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):O.resolve(Dt.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Ur(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:w4(r.bundledQuery),readTime:Ur(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.overlays=new _t(ee.comparator),this.es=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ue(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=us(),s=n.length+1,o=new ee(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=us(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new v4(n,r));let s=this.es.get(n);s===void 0&&(s=fe(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.ns=new yt(St.ss),this.rs=new yt(St.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new St(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new St(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ee(new Ge([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ee(new Ge([])),r=new St(n,e),i=new St(n,e+1);let s=fe();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new St(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ee.comparator(e.key,n.key)||Se(e._s,n._s)}static os(e,n){return Se(e._s,n._s)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new yt(St.ss)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new y4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new St(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Se);return n.forEach(i=>{const s=new St(i,0),o=new St(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),O.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ee.isDocumentKey(s)||(s=s.child(""));const o=new St(new ee(s),0);let a=new yt(Se);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),O.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return O.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new St(n,0),i=this.gs.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.Es=e,this.docs=new _t(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Gr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),O.resolve(r)}getAllFromCollection(e,n,r){let i=Gr();const s=new ee(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||yz(gz(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,n,r,i){ae()}As(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N4(this)}getSize(e){return O.resolve(this.size)}}class N4 extends S4{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.persistence=e,this.Rs=new Ra(n=>U0(n),B0),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.bs=0,this.Ps=new q0,this.targetCount=0,this.vs=oa.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),O.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new oa(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Dn(n),O.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new L0(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new P4(this),this.indexManager=new C4,this.remoteDocumentCache=function(r){return new R4(r)}(r=>this.referenceDelegate.xs(r)),this.It=new _4(n),this.Ns=new x4(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new k4(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new O4(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Ms(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return O.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class O4 extends _z{constructor(e){super(),this.currentSequenceNumber=e}}class K0{constructor(e){this.persistence=e,this.Fs=new q0,this.$s=null}static Bs(e){return new K0(e)}get Ls(){if(this.$s)return this.$s;throw ae()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),O.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Ls,r=>{const i=ee.fromPath(r);return this.Us(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return O.or([()=>O.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new G0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Mi(e,n,i,r)).next(s=>s||this.Oi(e,n))}ki(e,n){if(UC(n))return O.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gh(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,gh(n,null,"F")):this.Bi(e,u,n,l)}))})))}Mi(e,n,r,i){return UC(n)||i.isEqual(ce.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Oi(e,n):(RC()<=ye.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ay(n)),this.Bi(e,o,n,mz(i,-1)))})}Fi(e,n){let r=new yt(Xk(e));return n.forEach((i,s)=>{V0(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return RC()<=ye.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ay(n)),this.Ni.getDocumentsMatchingQuery(e,n,Pi.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new _t(Se),this.qi=new Ra(s=>U0(s),B0),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T4(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function M4(t,e,n,r){return new $4(t,e,n,r)}async function vR(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function L4(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let h=O.resolve();return d.forEach(f=>{h=h.next(()=>u.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);Le(m!==null),p.version.compareTo(m)<0&&(c.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),u.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=fe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _R(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function F4(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(d)?f=f.withResumeToken(Ut.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(p,m,E){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=Gr(),u=fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(U4(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(ce.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ui=i,s))}function U4(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Gr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function B4(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z4(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new vs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function dy(t,e,n){const r=le(t),i=r.Ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yu(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function GC(t,e,n){const r=le(t);let i=ce.min(),s=fe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=le(a),d=c.qi.get(u);return d!==void 0?O.resolve(c.Ui.get(d)):c.Cs.getTargetData(l,u)}(r,o,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:fe())).next(a=>(V4(r,Mz(e),a),{documents:a,Hi:s})))}function V4(t,e,n){let r=ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class QC{constructor(){this.activeTargetIds=cR()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W4{constructor(){this.Lr=new QC,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new QC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ao(e,n);X("RestConnection","Sending: ",o,r);const a={};return this.ho(a,i,s),this.lo(e,o,a,r).then(l=>(X("RestConnection","Received: ",l),l),l=>{throw NC("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ka,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=H4[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((s,o)=>{const a=new sz;a.listenOnce(nz.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case cm.NO_ERROR:const u=a.getResponseJson();X("Connection","XHR received:",JSON.stringify(u)),s(u);break;case cm.TIMEOUT:X("Connection",'RPC "'+e+'" timed out'),o(new Z(N.DEADLINE_EXCEEDED,"Request time out"));break;case cm.HTTP_ERROR:const c=a.getStatus();if(X("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(p)>=0?p:N.UNKNOWN}(d.status);o(new Z(h,d.message))}else o(new Z(N.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Z(N.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{X("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ez(),o=tz(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new iz({})),this.ho(a.initMessageHeaders,n,r),Hh()||bv()||kD()||zT()||RD()||BT()||(a.httpHeadersOverwriteParam="$httpHeaders");const l=i.join("");X("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,d=!1;const h=new q4({Hr:p=>{d?X("Connection","Not sending because WebChannel is closed:",p):(c||(X("Connection","Opening WebChannel transport."),u.open(),c=!0),X("Connection","WebChannel sending:",p),u.send(p))},Jr:()=>u.close()}),f=(p,m,E)=>{p.listen(m,g=>{try{E(g)}catch(y){setTimeout(()=>{throw y},0)}})};return f(u,Dc.EventType.OPEN,()=>{d||X("Connection","WebChannel transport opened.")}),f(u,Dc.EventType.CLOSE,()=>{d||(d=!0,X("Connection","WebChannel transport closed"),h.io())}),f(u,Dc.EventType.ERROR,p=>{d||(d=!0,NC("Connection","WebChannel transport errored:",p),h.io(new Z(N.UNAVAILABLE,"The operation could not be completed")))}),f(u,Dc.EventType.MESSAGE,p=>{var m;if(!d){const E=p.data[0];Le(!!E);const g=E,y=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(y){X("Connection","WebChannel received error:",y);const v=y.status;let _=function(T){const b=at[T];if(b!==void 0)return oR(b)}(v),S=y.message;_===void 0&&(_=N.INTERNAL,S="Unknown error status: "+v+" with message "+y.message),d=!0,h.io(new Z(_,S)),u.close()}else X("Connection","WebChannel received:",E),h.ro(E)}}),f(o,rz.STAT_EVENT,p=>{p.stat===IC.PROXY?X("Connection","Detected buffering proxy"):p.stat===IC.NOPROXY&&X("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new n4(t,!0)}class wR{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.Po=r,this.vo=i,this.Vo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new wR(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(qr(n.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Z(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G4 extends CR{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.It=s}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=s4(this.It,e),r=function(i){if(!("targetChange"in i))return ce.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Ur(s.readTime):ce.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=cy(this.It),n.addTarget=function(i,s){let o;const a=s.target;return o=oy(a)?{documents:l4(i,a)}:{query:u4(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=fR(i,s.resumeToken):s.snapshotVersion.compareTo(ce.min())>0&&(o.readTime=vh(i,s.snapshotVersion.toTimestamp())),o}(this.It,e);const r=d4(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=cy(this.It),n.removeTarget=e,this.Bo(n)}}class Q4 extends CR{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=a4(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.Zo(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=cy(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>o4(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Z(N.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Vo.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(N.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.Vo.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(N.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class X4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(qr(n),this.ou=!1):X("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(o=>{r.enqueueAndForget(async()=>{Ys(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=le(a);l._u.add(4),await tc(l),l.gu.set("Unknown"),l._u.delete(4),await Sf(l)}(this))})}),this.gu=new X4(r,i)}}async function Sf(t){if(Ys(t))for(const e of t.wu)await e(!0)}async function tc(t){for(const e of t.wu)await e(!1)}function ER(t,e){const n=le(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),X0(n)?Y0(n):Na(n).ko()&&Q0(n,e))}function SR(t,e){const n=le(t),r=Na(n);n.du.delete(e),r.ko()&&bR(n,e),n.du.size===0&&(r.ko()?r.Fo():Ys(n)&&n.gu.set("Unknown"))}function Q0(t,e){t.yu.Ot(e.targetId),Na(t).zo(e)}function bR(t,e){t.yu.Ot(e),Na(t).Ho(e)}function Y0(t){t.yu=new Zz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Na(t).start(),t.gu.uu()}function X0(t){return Ys(t)&&!Na(t).No()&&t.du.size>0}function Ys(t){return le(t)._u.size===0}function TR(t){t.yu=void 0}async function Z4(t){t.du.forEach((e,n)=>{Q0(t,e)})}async function e3(t,e){TR(t),X0(t)?(t.gu.hu(e),Y0(t)):t.gu.set("Unknown")}async function t3(t,e,n){if(t.gu.set("Online"),e instanceof hR&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(t,r)}else if(e instanceof ud?t.yu.Gt(e):e instanceof dR?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(ce.min()))try{const r=await _R(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.te(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(Ut.EMPTY_BYTE_STRING,l.snapshotVersion)),bR(i,a);const u=new vs(l.target,a,1,l.sequenceNumber);Q0(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await _h(t,r)}}async function _h(t,e,n){if(!Yu(e))throw e;t._u.add(1),await tc(t),t.gu.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Sf(t)})}function xR(t,e){return e().catch(n=>_h(t,n,e))}async function bf(t){const e=le(t),n=Oi(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;n3(e);)try{const i=await B4(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,r3(e,i)}catch(i){await _h(e,i)}IR(e)&&kR(e)}function n3(t){return Ys(t)&&t.fu.length<10}function r3(t,e){t.fu.push(e);const n=Oi(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function IR(t){return Ys(t)&&!Oi(t).No()&&t.fu.length>0}function kR(t){Oi(t).start()}async function i3(t){Oi(t).eu()}async function s3(t){const e=Oi(t);for(const n of t.fu)e.Xo(n.mutations)}async function o3(t,e,n){const r=t.fu.shift(),i=H0.from(r,e,n);await xR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await bf(t)}async function a3(t,e){e&&Oi(t).Yo&&await async function(n,r){if(i=r.code,Gz(i)&&i!==N.ABORTED){const s=n.fu.shift();Oi(n).Oo(),await xR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await bf(n)}var i}(t,e),IR(t)&&kR(t)}async function XC(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n._u.add(3),await tc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Sf(n)}async function l3(t,e){const n=le(t);e?(n._u.delete(2),await Sf(n)):e||(n._u.add(2),await tc(n),n.gu.set("Unknown"))}function Na(t){return t.pu||(t.pu=function(e,n,r){const i=le(e);return i.su(),new G4(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:Z4.bind(null,t),Zr:e3.bind(null,t),Wo:t3.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),X0(t)?Y0(t):t.gu.set("Unknown")):(await t.pu.stop(),TR(t))})),t.pu}function Oi(t){return t.Iu||(t.Iu=function(e,n,r){const i=le(e);return i.su(),new Q4(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:i3.bind(null,t),Zr:a3.bind(null,t),tu:s3.bind(null,t),Zo:o3.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await bf(t)):(await t.Iu.stop(),t.fu.length>0&&(X("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new J0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z0(t,e){if(qr("AsyncQueue",`${e}: ${t}`),Yu(t))return new Z(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Tu=new _t(ee.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):ae():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class aa{constructor(e,n,r,i,s,o,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new aa(e,n,zo.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.Au=void 0,this.listeners=[]}}class c3{constructor(){this.queries=new Ra(e=>Yk(e),Ju),this.onlineState="Unknown",this.Ru=new Set}}async function d3(t,e){const n=le(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new u3),i)try{s.Au=await n.onListen(r)}catch(o){const a=Z0(o,`Initialization of query '${ay(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&e_(n)}async function h3(t,e){const n=le(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function f3(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&e_(n)}function p3(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function e_(t){t.Ru.forEach(e=>{e.next()})}class m3{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.key=e}}class NR{constructor(e){this.key=e}}class g3{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=fe(),this.mutatedKeys=fe(),this.Ku=Xk(e),this.Gu=new zo(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new JC,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=V0(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),E=!0):this.zu(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Ku(f,l)>0||u&&this.Ku(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:a,mutatedKeys:s}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.Wu.Eu();s.sort((u,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return f(d)-f(h)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.qu.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new aa(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1),Yu:o}:{Yu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new JC,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=fe(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new NR(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new RR(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=fe();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return aa.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class y3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class v3{constructor(e){this.key=e,this.ec=!1}}class _3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Ra(a=>Yk(a),Ju),this.ic=new Map,this.rc=new Set,this.oc=new _t(ee.comparator),this.uc=new Map,this.cc=new q0,this.ac={},this.hc=new Map,this.lc=oa.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function w3(t,e){const n=N3(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await z4(n.localStore,Kr(e));n.isPrimaryClient&&ER(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await C3(n,e,r,a==="current")}return i}async function C3(t,e,n,r){t.dc=(c,d,h)=>async function(f,p,m,E){let g=p.view.ju(m);g.$i&&(g=await GC(f.localStore,p.query,!1).then(({documents:_})=>p.view.ju(_,g)));const y=E&&E.targetChanges.get(p.targetId),v=p.view.applyChanges(g,f.isPrimaryClient,y);return eE(f,p.targetId,v.Yu),v.snapshot}(t,c,d,h);const i=await GC(t.localStore,e,!0),s=new g3(e,i.Hi),o=s.ju(i.documents),a=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),l=s.applyChanges(o,t.isPrimaryClient,a);eE(t,n,l.Yu);const u=new y3(e,n,s);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),l.snapshot}async function E3(t,e){const n=le(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Ju(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SR(n.remoteStore,r.targetId),hy(n,r.targetId)}).catch(Qu)):(hy(n,r.targetId),await dy(n.localStore,r.targetId,!0))}async function S3(t,e,n){const r=P3(t);try{const i=await function(s,o){const a=le(s),l=gt.now(),u=o.reduce((h,f)=>h.add(f.key),fe());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Gr(),p=fe();return a.Gi.getEntries(h,u).next(m=>{f=m,f.forEach((E,g)=>{g.isValidDocument()||(p=p.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{c=m;const E=[];for(const g of o){const y=Hz(g,c.get(g.key).overlayedDocument);y!=null&&E.push(new Vi(g.key,y,qk(y.value.mapValue),or.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(m=>{d=m;const E=m.applyToLocalDocumentSet(c,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,E)})}).then(()=>({batchId:d.batchId,changes:lR(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new _t(Se)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await nc(r,i.changes),await bf(r.remoteStore)}catch(i){const s=Z0(i,"Failed to persist write");n.reject(s)}}async function PR(t,e){const n=le(t);try{const r=await F4(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?Le(o.ec):i.removedDocuments.size>0&&(Le(o.ec),o.ec=!1))}),await nc(n,r,e)}catch(r){await Qu(r)}}function ZC(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=le(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.bu(o)&&(l=!0)}),l&&e_(a)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function b3(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new _t(ee.comparator);o=o.insert(s,Dt.newNoDocument(s,ce.min()));const a=fe().add(s),l=new Cf(ce.min(),new Map,new yt(Se),o,a);await PR(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),t_(r)}else await dy(r.localStore,e,!1).then(()=>hy(r,e,n)).catch(Qu)}async function T3(t,e){const n=le(t),r=e.batch.batchId;try{const i=await L4(n.localStore,e);OR(n,r,null),AR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nc(n,i)}catch(i){await Qu(i)}}async function x3(t,e,n){const r=le(t);try{const i=await function(s,o){const a=le(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Le(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);OR(r,e,n),AR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nc(r,i)}catch(i){await Qu(i)}}function AR(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function OR(t,e,n){const r=le(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function hy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||DR(t,r)})}function DR(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(SR(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),t_(t))}function eE(t,e,n){for(const r of n)r instanceof RR?(t.cc.addReference(r.key,e),I3(t,r)):r instanceof NR?(X("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||DR(t,r.key)):ae()}function I3(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(X("SyncEngine","New document in limbo: "+n),t.rc.add(r),t_(t))}function t_(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ee(Ge.fromString(e)),r=t.lc.next();t.uc.set(r,new v3(n)),t.oc=t.oc.insert(n,r),ER(t.remoteStore,new vs(Kr(z0(n.path)),r,2,L0.at))}}async function nc(t,e,n){const r=le(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u.fromCache?"not-current":"current"),i.push(u);const c=G0.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.Wo(i),await async function(a,l){const u=le(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>O.forEach(l,d=>O.forEach(d.Si,h=>u.persistence.referenceDelegate.addReference(c,d.targetId,h)).next(()=>O.forEach(d.Di,h=>u.persistence.referenceDelegate.removeReference(c,d.targetId,h)))))}catch(c){if(!Yu(c))throw c;X("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const h=u.Ui.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);u.Ui=u.Ui.insert(d,p)}}}(r.localStore,s))}async function k3(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await vR(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new Z(N.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nc(n,r.ji)}}function R3(t,e){const n=le(t),r=n.uc.get(e);if(r&&r.ec)return fe().add(r.key);{let i=fe();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function N3(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b3.bind(null,e),e.nc.Wo=f3.bind(null,e.eventManager),e.nc._c=p3.bind(null,e.eventManager),e}function P3(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x3.bind(null,e),e}class A3{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return M4(this.persistence,new D4,e.initialUser,this.It)}gc(e){return new A4(K0.Bs,this.It)}mc(e){return new W4}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class O3{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k3.bind(null,this.syncEngine),await l3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new c3}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new K4(i));var i;return function(s,o,a,l){return new Y4(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>ZC(this.syncEngine,a,0),o=YC.C()?new YC:new j4,new J4(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new _3(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=le(e);X("RemoteStore","RemoteStore shutting down."),n._u.add(5),await tc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=Vk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function M3(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function L3(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F3(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>XC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>XC(e.remoteStore,s)),t.onlineComponents=e}async function F3(t){return t.offlineComponents||(X("FirestoreClient","Using default OfflineComponentProvider"),await M3(t,new A3)),t.offlineComponents}async function $R(t){return t.onlineComponents||(X("FirestoreClient","Using default OnlineComponentProvider"),await L3(t,new O3)),t.onlineComponents}function U3(t){return $R(t).then(e=>e.syncEngine)}async function tE(t){const e=await $R(t),n=e.eventManager;return n.onListen=w3.bind(null,e.syncEngine),n.onUnlisten=E3.bind(null,e.syncEngine),n}const nE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,n){if(!n)throw new Z(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B3(t,e,n,r){if(e===!0&&r===!0)throw new Z(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rE(t){if(!ee.isDocumentKey(t))throw new Z(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iE(t){if(ee.isDocumentKey(t))throw new Z(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function n_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function _s(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=n_(t);throw new Z(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function z3(t,e){if(e<=0)throw new Z(N.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,B3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new az;switch(n.type){case"gapi":const r=n.client;return new cz(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Z(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=nE.get(e);n&&(X("ComponentProvider","Removing Datastore"),nE.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Di(this.firestore,e,this._query)}}class xi extends Di{constructor(e,n,r){super(e,n,z0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ee(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function V3(t,e,...n){if(t=rt(t),MR("collection","path",e),t instanceof r_){const r=Ge.fromString(e,...n);return iE(r),new xi(t,null,r)}{if(!(t instanceof Tn||t instanceof xi))throw new Z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return iE(r),new xi(t.firestore,null,r)}}function i_(t,e,...n){if(t=rt(t),arguments.length===1&&(e=Vk.R()),MR("doc","path",e),t instanceof r_){const r=Ge.fromString(e,...n);return rE(r),new Tn(t,null,new ee(r))}{if(!(t instanceof Tn||t instanceof xi))throw new Z(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return rE(r),new Tn(t.firestore,t instanceof xi?t.converter:null,new ee(r))}}function W3(t,e){return t=rt(t),e=rt(e),t instanceof Di&&e instanceof Di&&t.firestore===e.firestore&&Ju(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new wR(this,"async_queue_retry"),this.jc=()=>{const n=hm();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=hm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new ys;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Yu(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=J0.createAndSchedule(this,e,n,r,s=>this.Jc(s));return this.Uc.push(i),i}Wc(){this.qc&&ae()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function oE(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class la extends r_{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new j3,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FR(this),this._firestoreClient.terminate()}}function H3(t,e){const n=typeof t=="object"?t:xv(),r=typeof t=="string"?t:e||"(default)";return Ea(n,"firestore").getImmediate({identifier:r})}function LR(t){return t._firestoreClient||FR(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FR(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new Cz(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new $3(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Ut.fromBase64String(e))}catch(n){throw new Z(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ua(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/^__.*__$/;class K3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(e,this.data,n,this.fieldTransforms)}}class UR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class o_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new o_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return wh(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(BR(this.na)&&q3.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class G3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Ef(e)}fa(e,n,r,i=!1){return new o_({na:e,methodName:n,la:r,path:Gt.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function zR(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new G3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Q3(t,e,n,r,i,s={}){const o=t.fa(s.merge||s.mergeFields?2:0,e,n,i);l_("Data must be an object, but it was:",o,r);const a=VR(r,o);let l,u;if(s.merge)l=new Bn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=fy(e,d,n);if(!o.contains(h))throw new Z(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);jR(c,h)||c.push(h)}l=new Bn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new K3(new cn(a),l,u)}class If extends xf{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}class a_ extends xf{_toFieldTransform(e){return new zz(e.path,new mu)}isEqual(e){return e instanceof a_}}function Y3(t,e,n,r){const i=t.fa(1,e,n);l_("Data must be an object, but it was:",i,r);const s=[],o=cn.empty();Qs(r,(l,u)=>{const c=u_(e,l,n);u=rt(u);const d=i.ua(c);if(u instanceof If)s.push(c);else{const h=kf(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Bn(s);return new UR(o,a,i.fieldTransforms)}function X3(t,e,n,r,i,s){const o=t.fa(1,e,n),a=[fy(e,r,n)],l=[i];if(s.length%2!=0)throw new Z(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(fy(e,s[h])),l.push(s[h+1]);const u=[],c=cn.empty();for(let h=a.length-1;h>=0;--h)if(!jR(u,a[h])){const f=a[h];let p=l[h];p=rt(p);const m=o.ua(f);if(p instanceof If)u.push(f);else{const E=kf(p,m);E!=null&&(u.push(f),c.set(f,E))}}const d=new Bn(u);return new UR(c,d,o.fieldTransforms)}function kf(t,e){if(WR(t=rt(t)))return l_("Unsupported field value:",e,t),VR(t,e);if(t instanceof xf)return function(n,r){if(!BR(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=kf(o,r.ca(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=rt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Fz(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=gt.fromDate(n);return{timestampValue:vh(r.It,i)}}if(n instanceof gt){const i=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:vh(r.It,i)}}if(n instanceof s_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ua)return{bytesValue:fR(r.It,n._byteString)};if(n instanceof Tn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:j0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${n_(n)}`)}(t,e)}function VR(t,e){const n={};return Wk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,i)=>{const s=kf(i,e.ia(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function WR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof s_||t instanceof ua||t instanceof Tn||t instanceof xf)}function l_(t,e,n){if(!WR(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=n_(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function fy(t,e,n){if((e=rt(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return u_(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const J3=new RegExp("[~\\*/\\[\\]]");function u_(t,e,n){if(e.search(J3)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Z(N.INVALID_ARGUMENT,a+t+l)}function jR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(c_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Z3 extends HR{data(){return super.data()}}function c_(t,e){return typeof e=="string"?u_(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qR extends HR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(c_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cd extends qR{data(e={}){return super.data(e)}}class eV{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new il(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cd(this._firestore,this._userDataWriter,r.key,r,new il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new cd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new il(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new cd(r._firestore,r._userDataWriter,o.doc.key,o.doc,new il(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:tV(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KR{}function rV(t,...e){for(const n of e)t=n._apply(t);return t}class iV extends KR{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(r,i,s){if(r.startAt!==null)throw new Z(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Z(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Bo(i,s);return function(a,l){if(Gk(a)===null){const u=Qk(a);u!==null&&lV(a,u,l.field)}}(r,o),o}(e._query,this.wa,this.ya);return new Di(e.firestore,e.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Xu(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function sV(t,e="asc"){const n=e,r=c_("orderBy",t);return new iV(r,n)}class oV extends KR{constructor(e,n,r){super(),this.type=e,this.pa=n,this.Ia=r}_apply(e){return new Di(e.firestore,e.converter,gh(e._query,this.pa,this.Ia))}}function aV(t){return z3("limit",t),new oV("limit",t,"F")}function lV(t,e,n){if(!n.isEqual(e))throw new Z(N.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){const r={};return Qs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new s_(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hk(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=Ai(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Le(yR(r));const i=new hu(r.get(1),r.get(3)),s=new ee(r.popFirst(5));return i.isEqual(n)||qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class GR extends uV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function dV(t,e,n,...r){t=_s(t,Tn);const i=_s(t.firestore,la),s=zR(i);let o;return o=typeof(e=rt(e))=="string"||e instanceof Tf?X3(s,"updateDoc",t._key,e,n,r):Y3(s,"updateDoc",t._key,e),d_(i,[o.toMutation(t._key,or.exists(!0))])}function hV(t){return d_(_s(t.firestore,la),[new W0(t._key,or.none())])}function fV(t,e){const n=_s(t.firestore,la),r=i_(t),i=cV(t.converter,e);return d_(n,[Q3(zR(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,or.exists(!1))]).then(()=>r)}function pV(t,...e){var n,r,i;t=rt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||oE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(oE(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Tn)u=_s(t.firestore,la),c=z0(t._key.path),l={next:d=>{e[o]&&e[o](mV(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=_s(t,Di);u=_s(d.firestore,la),c=d._query;const h=new GR(u);l={next:f=>{e[o]&&e[o](new eV(u,h,d,f))},error:e[o+1],complete:e[o+2]},nV(t._query)}return function(d,h,f,p){const m=new D3(p),E=new m3(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>d3(await tE(d),E)),()=>{m.Rc(),d.asyncQueue.enqueueAndForget(async()=>h3(await tE(d),E))}}(LR(u),c,a,l)}function d_(t,e){return function(n,r){const i=new ys;return n.asyncQueue.enqueueAndForget(async()=>S3(await U3(n),r,i)),i.promise}(LR(t),e)}function mV(t,e,n){const r=n.docs.get(e._key),i=new GR(t);return new qR(t,i,e._key,r,new il(n.hasPendingWrites,n.fromCache),e.converter)}function gV(){return new a_("serverTimestamp")}(function(t,e=!0){(function(n){ka=n})(Ui),jn(new Rn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new la(new lz(n.getProvider("auth-internal")),new hz(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Z(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),dt(kC,"3.4.15",t),dt(kC,"3.4.15","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(!!this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(){if(this.appCheck){const e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){const e=await this.getAuthToken(),n=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:n,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="us-central1";class _V{constructor(e,n,r,i,s=aE,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new vV(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=aE}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const lE="@firebase/functions",uE="0.8.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="auth-internal",CV="app-check-internal",EV="messaging-internal";function SV(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(wV),a=r.getProvider(EV),l=r.getProvider(CV);return new _V(s,o,a,l,i,t)};jn(new Rn(yV,n,"PUBLIC").setMultipleInstances(!0)),dt(lE,uE,e),dt(lE,uE,"esm2017")}SV(fetch.bind(self));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="firebasestorage.googleapis.com",bV="storageBucket",TV=2*60*1e3,xV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Hn{constructor(e,n){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function fm(t){return"storage/"+t}function IV(){const t="An unknown error occurred, please check the error payload for server response.";return new Tr("unknown",t)}function kV(){return new Tr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function RV(){return new Tr("canceled","User canceled the upload/download.")}function NV(t){return new Tr("invalid-url","Invalid URL '"+t+"'.")}function PV(t){return new Tr("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function cE(t){return new Tr("invalid-argument",t)}function YR(){return new Tr("app-deleted","The Firebase app was deleted.")}function AV(t){return new Tr("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nr.makeFromUrl(e,n)}catch{return new nr(e,"")}if(r.path==="")return r;throw PV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},m=n===QR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${m}/${i}/${E}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<v.length;_++){const S=v[_],T=S.regex.exec(e);if(T){const b=T[S.indices.bucket];let x=T[S.indices.path];x||(x=""),r=new nr(b,x),S.postModify(r);break}}if(r==null)throw NV(e);return r}}class OV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...g){if(u){h();return}if(E){h(),c.call(null,E,...g);return}if(l()||o){h(),c.call(null,E,...g);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let p=!1;function m(E){p||(p=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}function $V(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){return t!==void 0}function dE(t,e,n,r){if(r<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function LV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ch;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ch||(Ch={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((h,f)=>{this.resolve_=h,this.reject_=f,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Lc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ch.NO_ERROR,l=s.getStatus();if(!a||this.isRetryStatusCode_(l)){const c=s.getErrorCode()===Ch.ABORT;r(!1,new Lc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Lc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());MV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=IV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?YR():RV();o(l)}else{const l=kV();o(l)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=DV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$V(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s}}class Lc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function zV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WV(t,e,n,r,i,s){const o=LV(t.urlParams),a=t.url+o,l=Object.assign({},t.headers);return zV(l,e),UV(l,n),BV(l,s),VV(l,r),new FV(a,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this._service=e,n instanceof nr?this._location=n:this._location=nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Eh(e,n)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HV(this._location.path)}get storage(){return this._service}get parent(){const e=jV(this._location.path);if(e===null)return null;const n=new nr(this._location.bucket,e);return new Eh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AV(e)}}function hE(t,e){const n=e==null?void 0:e[bV];return n==null?null:nr.makeFromBucketSpec(n,t)}class qV{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=QR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TV,this._maxUploadRetryTime=xV,this._requests=new Set,i!=null?this._bucket=nr.makeFromBucketSpec(i,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eh(this,e)}_makeRequest(e,n,r,i){if(this._deleted)return new OV(YR());{const s=WV(e,this._appId,r,i,n,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const fE="@firebase/storage",pE="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="storage";function GV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qV(n,r,i,e,Ui)}function QV(){jn(new Rn(KV,GV,"PUBLIC").setMultipleInstances(!0)),dt(fE,pE,""),dt(fE,pE,"esm2017")}QV();const XR="@firebase/installations",h_="0.5.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1e4,ZR=`w:${h_}`,eN="FIS_v2",YV="https://firebaseinstallations.googleapis.com/v1",XV=60*60*1e3,JV="installations",ZV="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Us=new Hs(JV,ZV,e5);function tN(t){return t instanceof Hn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN({projectId:t}){return`${YV}/projects/${t}/installations`}function rN(t){return{token:t.token,requestStatus:2,expiresIn:n5(t.expiresIn),creationTime:Date.now()}}async function iN(t,e){const r=(await e.json()).error;return Us.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function sN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function t5(t,{refreshToken:e}){const n=sN(t);return n.append("Authorization",r5(e)),n}async function oN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function n5(t){return Number(t.replace("s","000"))}function r5(t){return`${eN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=nN(t),i=sN(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:eN,appId:t.appId,sdkVersion:ZR},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oN(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rN(u.authToken)}}else throw await iN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=/^[cdef][\w-]{21}$/,py="";function a5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=l5(t);return o5.test(n)?n:py}catch{return py}}function l5(t){return s5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Map;function uN(t,e){const n=Rf(t);cN(n,e),u5(n,e)}function cN(t,e){const n=lN.get(t);if(!!n)for(const r of n)r(e)}function u5(t,e){const n=c5();n&&n.postMessage({key:t,fid:e}),d5()}let cs=null;function c5(){return!cs&&"BroadcastChannel"in self&&(cs=new BroadcastChannel("[Firebase] FID Change"),cs.onmessage=t=>{cN(t.data.key,t.data.fid)}),cs}function d5(){lN.size===0&&cs&&(cs.close(),cs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5="firebase-installations-database",f5=1,Bs="firebase-installations-store";let pm=null;function f_(){return pm||(pm=GT(h5,f5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bs)}}})),pm}async function Sh(t,e){const n=Rf(t),i=(await f_()).transaction(Bs,"readwrite"),s=i.objectStore(Bs),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&uN(t,e.fid),e}async function dN(t){const e=Rf(t),r=(await f_()).transaction(Bs,"readwrite");await r.objectStore(Bs).delete(e),await r.done}async function Nf(t,e){const n=Rf(t),i=(await f_()).transaction(Bs,"readwrite"),s=i.objectStore(Bs),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&uN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t){let e;const n=await Nf(t.appConfig,r=>{const i=p5(r),s=m5(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===py?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function p5(t){const e=t||{fid:a5(),registrationStatus:0};return hN(e)}function m5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Us.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=g5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:y5(t)}:{installationEntry:e}}async function g5(t,e){try{const n=await i5(t,e);return Sh(t.appConfig,n)}catch(n){throw tN(n)&&n.customData.serverCode===409?await dN(t.appConfig):await Sh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function y5(t){let e=await mE(t.appConfig);for(;e.registrationStatus===1;)await aN(100),e=await mE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await p_(t);return r||n}return e}function mE(t){return Nf(t,e=>{if(!e)throw Us.create("installation-not-found");return hN(e)})}function hN(t){return v5(t)?{fid:t.fid,registrationStatus:0}:t}function v5(t){return t.registrationStatus===1&&t.registrationTime+JR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5({appConfig:t,heartbeatServiceProvider:e},n){const r=w5(t,n),i=t5(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:ZR,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await oN(()=>fetch(r,a));if(l.ok){const u=await l.json();return rN(u)}else throw await iN("Generate Auth Token",l)}function w5(t,{fid:e}){return`${nN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(t,e=!1){let n;const r=await Nf(t.appConfig,s=>{if(!fN(s))throw Us.create("not-registered");const o=s.authToken;if(!e&&S5(o))return s;if(o.requestStatus===1)return n=C5(t,e),s;{if(!navigator.onLine)throw Us.create("app-offline");const a=T5(s);return n=E5(t,a),a}});return n?await n:r.authToken}async function C5(t,e){let n=await gE(t.appConfig);for(;n.authToken.requestStatus===1;)await aN(100),n=await gE(t.appConfig);const r=n.authToken;return r.requestStatus===0?m_(t,e):r}function gE(t){return Nf(t,e=>{if(!fN(e))throw Us.create("not-registered");const n=e.authToken;return x5(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function E5(t,e){try{const n=await _5(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Sh(t.appConfig,r),n}catch(n){if(tN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await dN(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Sh(t.appConfig,r)}throw n}}function fN(t){return t!==void 0&&t.registrationStatus===2}function S5(t){return t.requestStatus===2&&!b5(t)}function b5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+XV}function T5(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function x5(t){return t.requestStatus===1&&t.requestTime+JR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t){const e=t,{installationEntry:n,registrationPromise:r}=await p_(e);return r?r.catch(console.error):m_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k5(t,e=!1){const n=t;return await R5(n),(await m_(n,e)).token}async function R5(t){const{registrationPromise:e}=await p_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){if(!t||!t.options)throw mm("App Configuration");if(!t.name)throw mm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw mm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mm(t){return Us.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="installations",P5="installations-internal",A5=t=>{const e=t.getProvider("app").getImmediate(),n=N5(e),r=Ea(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},O5=t=>{const e=t.getProvider("app").getImmediate(),n=Ea(e,pN).getImmediate();return{getId:()=>I5(n),getToken:i=>k5(n,i)}};function D5(){jn(new Rn(pN,A5,"PUBLIC")),jn(new Rn(P5,O5,"PRIVATE"))}D5();dt(XR,h_);dt(XR,h_,"esm2017");const gm="@firebase/remote-config",yE="0.3.11";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5="remote-config";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5={["registration-window"]:"Undefined window object. This SDK only supports usage in a browser environment.",["registration-project-id"]:"Undefined project identifier. Check Firebase app initialization.",["registration-api-key"]:"Undefined API key. Check Firebase app initialization.",["registration-app-id"]:"Undefined app identifier. Check Firebase app initialization.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",["fetch-client-network"]:"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-timeout"]:'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',["fetch-throttle"]:'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',["fetch-client-parse"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["indexed-db-unavailable"]:"Indexed DB is not supported by current browser"},dn=new Hs("remoteconfig","Remote Config",M5);function L5(t){const e=rt(t);return e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0})),e._initializePromise}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}async fetch(e){const[n,r]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(r&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=await this.client.fetch(e),s=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return i.status===200&&s.push(this.storage.setLastSuccessfulFetchResponse(i)),await Promise.all(s),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t=navigator){return t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}async fetch(e){var n,r,i;const[s,o]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,u={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:s,app_instance_id_token:o,app_id:this.appId,language_code:U5()},d={method:"POST",headers:u,body:JSON.stringify(c)},h=fetch(l,d),f=new Promise((v,_)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",_(S)})});let p;try{await Promise.race([h,f]),p=await h}catch(v){let _="fetch-client-network";throw((n=v)===null||n===void 0?void 0:n.name)==="AbortError"&&(_="fetch-timeout"),dn.create(_,{originalErrorMessage:(r=v)===null||r===void 0?void 0:r.message})}let m=p.status;const E=p.headers.get("ETag")||void 0;let g,y;if(p.status===200){let v;try{v=await p.json()}catch(_){throw dn.create("fetch-client-parse",{originalErrorMessage:(i=_)===null||i===void 0?void 0:i.message})}g=v.entries,y=v.state}if(y==="INSTANCE_STATE_UNSPECIFIED"?m=500:y==="NO_CHANGE"?m=304:(y==="NO_TEMPLATE"||y==="EMPTY_CONFIG")&&(g={}),m!==304&&m!==200)throw dn.create("fetch-status",{httpStatus:m});return{status:m,eTag:E,config:g}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(dn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V5(t){if(!(t instanceof Hn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class W5{constructor(e,n){this.client=e,this.storage=n}async fetch(e){const n=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,n)}async attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){await z5(e.signal,n);try{const i=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),i}catch(i){if(!V5(i))throw i;const s={throttleEndTimeMillis:Date.now()+HD(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(s),this.attemptFetch(e,s)}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=60*1e3,H5=12*60*60*1e3;class q5{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:j5,minimumFetchIntervalMillis:H5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){var n;const r=t.target.error||void 0;return dn.create(e,{originalErrorMessage:r&&((n=r)===null||n===void 0?void 0:n.message)})}const Ji="app_namespace_store",K5="firebase_remote_config",G5=1;function Q5(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open(K5,G5);r.onerror=i=>{e(dd(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{const s=i.target.result;switch(i.oldVersion){case 0:s.createObjectStore(Ji,{keyPath:"compositeKey"})}}}catch(r){e(dn.create("storage-open",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message}))}})}class Y5{constructor(e,n,r,i=Q5()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([Ji],"readonly").objectStore(Ji),l=this.createCompositeKey(e);try{const u=a.get(l);u.onerror=c=>{i(dd(c,"storage-get"))},u.onsuccess=c=>{const d=c.target.result;r(d?d.value:void 0)}}catch(u){i(dn.create("storage-get",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}async set(e,n){const r=await this.openDbPromise;return new Promise((i,s)=>{var o;const l=r.transaction([Ji],"readwrite").objectStore(Ji),u=this.createCompositeKey(e);try{const c=l.put({compositeKey:u,value:n});c.onerror=d=>{s(dd(d,"storage-set"))},c.onsuccess=()=>{i()}}catch(c){s(dn.create("storage-set",{originalErrorMessage:(o=c)===null||o===void 0?void 0:o.message}))}})}async delete(e){const n=await this.openDbPromise;return new Promise((r,i)=>{var s;const a=n.transaction([Ji],"readwrite").objectStore(Ji),l=this.createCompositeKey(e);try{const u=a.delete(l);u.onerror=c=>{i(dd(c,"storage-delete"))},u.onsuccess=()=>{r()}}catch(u){i(dn.create("storage-delete",{originalErrorMessage:(s=u)===null||s===void 0?void 0:s.message}))}})}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),i=await e;i&&(this.lastFetchStatus=i);const s=await n;s&&(this.lastSuccessfulFetchTimestampMillis=s);const o=await r;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){jn(new Rn($5,t,"PUBLIC").setMultipleInstances(!0)),dt(gm,yE),dt(gm,yE,"esm2017");function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!WT())throw dn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw dn.create("registration-project-id");if(!o)throw dn.create("registration-api-key");if(!a)throw dn.create("registration-app-id");n=n||"firebase";const l=new Y5(a,r.name,n),u=new X5(l),c=new Ru(gm);c.logLevel=ye.ERROR;const d=new B5(i,Ui,n,s,o,a),h=new W5(d,l),f=new F5(h,l,u,c),p=new q5(r,f,u,l,c);return L5(p),p}}J5();var Pf={exports:{}},Af={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z5=w.exports,eW=Symbol.for("react.element"),tW=Symbol.for("react.fragment"),nW=Object.prototype.hasOwnProperty,rW=Z5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iW={key:!0,ref:!0,__self:!0,__source:!0};function mN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nW.call(e,r)&&!iW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eW,type:t,key:s,ref:o,props:i,_owner:rW.current}}Af.Fragment=tW;Af.jsx=mN;Af.jsxs=mN;(function(t){t.exports=Af})(Pf);const gN=Pf.exports.Fragment,k=Pf.exports.jsx,We=Pf.exports.jsxs;var my=function(t,e){return my=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},my(t,e)};function Jr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");my(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function sW(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function yN(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ca(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function da(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function ha(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Vo(t){return this instanceof Vo?(this.v=t,this):new Vo(t)}function oW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof Vo?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function aW(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ca=="function"?ca(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}function vt(t){return typeof t=="function"}function g_(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ym=g_(function(t){return function(e){t(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function bh(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var rc=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=ca(o),l=a.next();!l.done;l=a.next()){var u=l.value;u.remove(this)}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var c=this.initialTeardown;if(vt(c))try{c()}catch(m){s=m instanceof ym?m.errors:[m]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=ca(d),f=h.next();!f.done;f=h.next()){var p=f.value;try{vE(p)}catch(m){s=s!=null?s:[],m instanceof ym?s=ha(ha([],da(s)),da(m.errors)):s.push(m)}}}catch(m){r={error:m}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}}if(s)throw new ym(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)vE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&bh(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&bh(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),vN=rc.EMPTY;function _N(t){return t instanceof rc||t&&"closed"in t&&vt(t.remove)&&vt(t.add)&&vt(t.unsubscribe)}function vE(t){vt(t)?t():t.unsubscribe()}var wN={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lW={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ha([t,e],da(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function CN(t){lW.setTimeout(function(){throw t})}function _E(){}function hd(t){t()}var y_=function(t){Jr(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,_N(n)&&n.add(r)):r.destination=hW,r}return e.create=function(n,r,i){return new vu(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(rc),uW=Function.prototype.bind;function vm(t,e){return uW.call(t,e)}var cW=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){Fc(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){Fc(r)}else Fc(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){Fc(n)}},t}(),vu=function(t){Jr(e,t);function e(n,r,i){var s=t.call(this)||this,o;if(vt(n)||!n)o={next:n!=null?n:void 0,error:r!=null?r:void 0,complete:i!=null?i:void 0};else{var a;s&&wN.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return s.unsubscribe()},o={next:n.next&&vm(n.next,a),error:n.error&&vm(n.error,a),complete:n.complete&&vm(n.complete,a)}):o=n}return s.destination=new cW(o),s}return e}(y_);function Fc(t){CN(t)}function dW(t){throw t}var hW={closed:!0,next:_E,error:dW,complete:_E},v_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function EN(t){return t}function fW(t){return t.length===0?EN:t.length===1?t[0]:function(e){return t.reduce(function(n,r){return r(n)},e)}}var nn=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=mW(e)?e:new vu(e,n,r);return hd(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=wE(n),new n(function(i,s){var o=new vu({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[v_]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return fW(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=wE(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function wE(t){var e;return(e=t!=null?t:wN.Promise)!==null&&e!==void 0?e:Promise}function pW(t){return t&&vt(t.next)&&vt(t.error)&&vt(t.complete)}function mW(t){return t&&t instanceof y_||pW(t)&&_N(t)}function gW(t){return vt(t==null?void 0:t.lift)}function Xs(t){return function(e){if(gW(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fa(t,e,n,r,i){return new yW(t,e,n,r,i)}var yW=function(t){Jr(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(u){try{r(u)}catch(c){n.error(c)}}:t.prototype._next,l._error=s?function(u){try{s(u)}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(u){n.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(y_),vW=g_(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Of=function(t){Jr(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new CE(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new vW},e.prototype.next=function(n){var r=this;hd(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=ca(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;hd(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;hd(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?vN:(this.currentObservers=null,a.push(n),new rc(function(){r.currentObservers=null,bh(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new nn;return n.source=this,n},e.create=function(n,r){return new CE(n,r)},e}(nn),CE=function(t){Jr(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:vN},e}(Of),__={now:function(){return(__.delegate||Date).now()},delegate:void 0},_W=function(t){Jr(e,t);function e(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=__);var s=t.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=i,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return e.prototype.next=function(n){var r=this,i=r.isStopped,s=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,l=r._windowTime;i||(s.push(n),!o&&s.push(a.now()+l)),this._trimBuffer(),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,s=i._infiniteTimeWindow,o=i._buffer,a=o.slice(),l=0;l<a.length&&!n.closed;l+=s?1:2)n.next(a[l]);return this._checkFinalizedStatuses(n),r},e.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,s=n._buffer,o=n._infiniteTimeWindow,a=(o?1:2)*r;if(r<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=i.now(),u=0,c=1;c<s.length&&s[c]<=l;c+=2)u=c;u&&s.splice(0,u+1)}},e}(Of),wW=function(t){Jr(e,t);function e(n,r){return t.call(this)||this}return e.prototype.schedule=function(n,r){return this},e}(rc),gy={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=gy.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,ha([t,e],da(n))):setInterval.apply(void 0,ha([t,e],da(n)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},CW=function(t){Jr(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return e.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(s,this.id,r),this},e.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),gy.setInterval(n.flush.bind(n,this),i)},e.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;gy.clearInterval(r)},e.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,r){var i=!1,s;try{this.work(n)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,bh(s,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(wW),EE=function(){function t(e,n){n===void 0&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(e,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,e).schedule(r,n)},t.now=__.now,t}(),EW=function(t){Jr(e,t);function e(n,r){r===void 0&&(r=EE.now);var i=t.call(this,n,r)||this;return i.actions=[],i._active=!1,i._scheduled=void 0,i}return e.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},e}(EE);new EW(CW);var SW=new nn(function(t){return t.complete()});function bW(t){return t?TW(t):SW}function TW(t){return new nn(function(e){return t.schedule(function(){return e.complete()})})}function xW(t){return t&&vt(t.schedule)}function IW(t){return t[t.length-1]}function kW(t){return xW(IW(t))?t.pop():void 0}var SN=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function bN(t){return vt(t==null?void 0:t.then)}function TN(t){return vt(t[v_])}function xN(t){return Symbol.asyncIterator&&vt(t==null?void 0:t[Symbol.asyncIterator])}function IN(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function RW(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kN=RW();function RN(t){return vt(t==null?void 0:t[kN])}function NN(t){return oW(this,arguments,function(){var e,n,r,i;return yN(this,function(s){switch(s.label){case 0:e=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Vo(e.read())];case 3:return n=s.sent(),r=n.value,i=n.done,i?[4,Vo(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Vo(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function PN(t){return vt(t==null?void 0:t.getReader)}function Pa(t){if(t instanceof nn)return t;if(t!=null){if(TN(t))return NW(t);if(SN(t))return PW(t);if(bN(t))return AW(t);if(xN(t))return AN(t);if(RN(t))return OW(t);if(PN(t))return DW(t)}throw IN(t)}function NW(t){return new nn(function(e){var n=t[v_]();if(vt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PW(t){return new nn(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AW(t){return new nn(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,CN)})}function OW(t){return new nn(function(e){var n,r;try{for(var i=ca(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function AN(t){return new nn(function(e){$W(t,e).catch(function(n){return e.error(n)})})}function DW(t){return AN(NN(t))}function $W(t,e){var n,r,i,s;return sW(this,void 0,void 0,function(){var o,a;return yN(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=aW(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function ws(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ON(t,e){return e===void 0&&(e=0),Xs(function(n,r){n.subscribe(fa(r,function(i){return ws(r,t,function(){return r.next(i)},e)},function(){return ws(r,t,function(){return r.complete()},e)},function(i){return ws(r,t,function(){return r.error(i)},e)}))})}function DN(t,e){return e===void 0&&(e=0),Xs(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function MW(t,e){return Pa(t).pipe(DN(e),ON(e))}function LW(t,e){return Pa(t).pipe(DN(e),ON(e))}function FW(t,e){return new nn(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function UW(t,e){return new nn(function(n){var r;return ws(n,e,function(){r=t[kN](),ws(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return vt(r==null?void 0:r.return)&&r.return()}})}function $N(t,e){if(!t)throw new Error("Iterable cannot be null");return new nn(function(n){ws(n,e,function(){var r=t[Symbol.asyncIterator]();ws(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function BW(t,e){return $N(NN(t),e)}function zW(t,e){if(t!=null){if(TN(t))return MW(t,e);if(SN(t))return FW(t,e);if(bN(t))return LW(t,e);if(xN(t))return $N(t,e);if(RN(t))return UW(t,e);if(PN(t))return BW(t,e)}throw IN(t)}function MN(t,e){return e?zW(t,e):Pa(t)}function SE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=kW(t);return MN(t,n)}g_(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function w_(t,e){return Xs(function(n,r){var i=0;n.subscribe(fa(r,function(s){r.next(t.call(e,s,i++))}))})}function LN(t){return Xs(function(e,n){var r=null,i=!1,s;r=e.subscribe(fa(n,void 0,void 0,function(o){s=Pa(t(o,LN(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function VW(t){t===void 0&&(t={});var e=t.connector,n=e===void 0?function(){return new Of}:e,r=t.resetOnError,i=r===void 0?!0:r,s=t.resetOnComplete,o=s===void 0?!0:s,a=t.resetOnRefCountZero,l=a===void 0?!0:a;return function(u){var c,d,h,f=0,p=!1,m=!1,E=function(){d==null||d.unsubscribe(),d=void 0},g=function(){E(),c=h=void 0,p=m=!1},y=function(){var v=c;g(),v==null||v.unsubscribe()};return Xs(function(v,_){f++,!m&&!p&&E();var S=h=h!=null?h:n();_.add(function(){f--,f===0&&!m&&!p&&(d=_m(y,l))}),S.subscribe(_),!c&&f>0&&(c=new vu({next:function(T){return S.next(T)},error:function(T){m=!0,E(),d=_m(g,i,T),S.error(T)},complete:function(){p=!0,E(),d=_m(g,o),S.complete()}}),Pa(v).subscribe(c))})(u)}}function _m(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(e===!0){t();return}if(e!==!1){var i=new vu({next:function(){i.unsubscribe(),t()}});return e.apply(void 0,ha([],da(n))).subscribe(i)}}function WW(t,e,n){var r,i,s,o,a=!1;return t&&typeof t=="object"?(r=t.bufferSize,o=r===void 0?1/0:r,i=t.windowTime,e=i===void 0?1/0:i,s=t.refCount,a=s===void 0?!1:s,n=t.scheduler):o=t!=null?t:1/0,VW({connector:function(){return new _W(o,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function jW(t,e){return Xs(function(n,r){var i=null,s=0,o=!1,a=function(){return o&&!i&&r.complete()};n.subscribe(fa(r,function(l){i==null||i.unsubscribe();var u=0,c=s++;Pa(t(l,c)).subscribe(i=fa(r,function(d){return r.next(e?e(l,d,c,u++):d)},function(){i=null,a()}))},function(){o=!0,a()}))})}function HW(t,e,n){var r=vt(t)||e||n?{next:t,error:e,complete:n}:t;return r?Xs(function(i,s){var o;(o=r.subscribe)===null||o===void 0||o.call(r);var a=!0;i.subscribe(fa(s,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},function(){var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},function(l){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},function(){var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):EN}function FN(t){return new nn(function(e){var n=RM(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}const qW="[DEFAULT]",UN=w.exports.createContext(void 0),BN=w.exports.createContext(!1),KW="4.2.2",GW=(t,e)=>t===e||[...Object.keys(t),...Object.keys(e)].every(n=>t[n]===e[n]);function QW(t){const{firebaseConfig:e,appName:n,suspense:r}=t,i=w.exports.useMemo(()=>{if(t.firebaseApp)return t.firebaseApp;const s=V$().find(o=>o.name===(n||qW));if(s){if(e&&GW(s.options,e))return s;throw new Error(`Does not match the options already provided to the ${n||"default"} firebase app instance, give this new instance a different appName.`)}else{if(!e)throw new Error("No firebaseConfig provided");const o=w.exports.version||"unknown";return dt("react",o),dt("reactfire",KW),z$(e,n)}},[t.firebaseApp,e,n]);return w.exports.createElement(UN.Provider,{value:i},k(BN.Provider,{...Object.assign({value:r!=null?r:!1},t)}))}function YW(t){let e=w.exports.useContext(BN);return t!==void 0?t:e}function zN(){const t=w.exports.useContext(UN);if(!t)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return t}function VN(t){var e;const n=S_(),r=`auth:user:${n.name}`,i=FN(n),s=(e=Object.assign({},t))!==null&&e!==void 0?e:{};return n.currentUser!==void 0&&(s.initialData=n.currentUser,s.startWithValue=n.currentUser),C_(r,i,s)}function WN(t){if((t==null?void 0:t.hasOwnProperty("requiredClaims"))&&(t==null?void 0:t.hasOwnProperty("validateCustomClaims")))throw new Error('Cannot have both "requiredClaims" and "validateCustomClaims". Use one or the other.');const e=S_();let n=`auth:signInCheck:${e.name}::forceRefresh:${!!(t!=null&&t.forceRefresh)}`;t!=null&&t.forceRefresh&&(n=`${n}:forceRefresh:${t.forceRefresh}`),t!=null&&t.hasOwnProperty("requiredClaims")?n=`${n}:requiredClaims:${JSON.stringify(t.requiredClaims)}`:t!=null&&t.hasOwnProperty("validateCustomClaims")&&(n=`${n}:validateCustomClaims:${JSON.stringify(t.validateCustomClaims)}`);const r=FN(e).pipe(jW(i=>{var s;return i?t&&(t.hasOwnProperty("requiredClaims")||t.hasOwnProperty("validateCustomClaims"))?MN(i.getIdTokenResult((s=t==null?void 0:t.forceRefresh)!==null&&s!==void 0?s:!1)).pipe(w_(o=>{let a;t.hasOwnProperty("requiredClaims")?a=XW(t.requiredClaims):a=t.validateCustomClaims;const{hasRequiredClaims:l,errors:u}=a(o.claims);return{signedIn:!0,hasRequiredClaims:l,errors:u,user:i}})):SE({signedIn:!0,hasRequiredClaims:!0,errors:{},user:i}):SE({signedIn:!1,hasRequiredClaims:!1,errors:{},user:null})}));return C_(n,r)}function XW(t){return function(e){const n={};return Object.keys(t).forEach(r=>{t[r]!==e[r]&&(n[r]=[new T_("auth/missing-claim",`Expected "${t[r]}", but user has "${e[r]}" instead`)])}),{hasRequiredClaims:Object.keys(n).length===0,errors:n}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ki,ts;(function(t){t.added="child_added",t.removed="child_removed",t.changed="child_changed",t.moved="child_moved",t.value="value"})(ts||(ts={}));Object.freeze((Ki={},Ki[ts.added]=BU,Ki[ts.removed]=WU,Ki[ts.changed]=zU,Ki[ts.moved]=VU,Ki[ts.value]=UU,Ki));const JW=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=JW);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZW={includeMetadataChanges:!1};function ej(t,e){return e===void 0&&(e=ZW),new nn(function(n){var r=pV(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function tj(t,e){e===void 0&&(e={});var n=t.data();return!t.exists()||typeof n!="object"||n===null||e.idField&&(n[e.idField]=t.id),n}function nj(t){return ej(t,{includeMetadataChanges:!0}).pipe(w_(function(e){return e.docs}))}function rj(t,e){return e===void 0&&(e={}),nj(t).pipe(w_(function(n){return n.map(function(r){return tj(r,e)})}))}class ij extends Of{constructor(e,n){super(),this._timeoutWindow=n,this._hasValue=!1,this._error=void 0,this._firstEmission=new Promise(r=>this._resolveFirstEmission=r),this._innerObservable=e.pipe(HW({next:r=>{this._next(r)},error:r=>{this._error=r,this._resolveFirstEmission()}}),LN(()=>bW()),WW(1)),this._warmupSubscription=this._innerObservable.subscribe(),this._timeoutHandler=setTimeout(this._reset.bind(this),this._timeoutWindow)}get hasValue(){return this._hasValue||!!this._error}get value(){if(this._error)throw this._error;if(!this.hasValue)throw Error("Can only get value if SuspenseSubject has a value");return this._value}get firstEmission(){return this._firstEmission}_next(e){this._hasValue=!0,this._value=e,this._resolveFirstEmission()}_reset(){this._warmupSubscription&&this._warmupSubscription.unsubscribe(),this._hasValue=!1,this._value=void 0,this._error=void 0,this._firstEmission=new Promise(e=>this._resolveFirstEmission=e)}_subscribe(e){return this._timeoutHandler&&clearTimeout(this._timeoutHandler),this._innerSubscriber=this._innerObservable.subscribe(e),this._innerSubscriber}get ourError(){return this._error}}const sj=3e4,fd=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=fd);function oj(t,e){if(fd.has(e))return fd.get(e);{const n=new ij(t,sj);return fd.set(e,n),n}}function aj(t){return function(e,n){const r=Object.assign(Object.assign({},e),{hasEmitted:e.hasEmitted||t.hasValue,error:t.ourError,firstValuePromise:t.firstEmission});switch(t.hasValue&&(r.data=t.value),n){case"value":return r.status="success",r;case"error":return r.status="error",r;case"complete":return r.isComplete=!0,r;default:throw new Error(`invalid action "${n}"`)}}}function C_(t,e,n={}){var r;if(!t)throw new Error("cannot call useObservable without an observableId");const i=oj(e,t),s=n.hasOwnProperty("initialData")||n.hasOwnProperty("startWithValue"),o=i.hasValue||s;if(YW(n.suspense)===!0&&!o)throw i.firstEmission;const a={status:o?"success":"loading",hasEmitted:o,isComplete:!1,data:i.hasValue?i.value:(r=n==null?void 0:n.initialData)!==null&&r!==void 0?r:n==null?void 0:n.startWithValue,error:i.ourError,firstValuePromise:i.firstEmission},[l,u]=w.exports.useReducer(aj(i),a);return w.exports.useEffect(()=>{const c=i.subscribe({next:()=>{u("value")},error:d=>{throw u("error"),d},complete:()=>{u("complete")}});return()=>c.unsubscribe()},[i]),l}const yy=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=yy);function lj(t){const e=yy.findIndex(n=>W3(n,t));return e>-1?e:yy.push(t)-1}function uj(t,e){const n=e?mj(e):"NO_ID_FIELD",r=`firestore:collectionData:${lj(t)}:idField=${n}`,i=rj(t,{idField:n});return C_(r,i,e)}w.exports.createContext(void 0);const jN=w.exports.createContext(void 0);w.exports.createContext(void 0);const cj=w.exports.createContext(void 0),HN=w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);w.exports.createContext(void 0);function E_(t){return function(e){var n,r;if(!e.sdk)throw new Error("no sdk provided");const i=zN().name;if(((r=(n=e==null?void 0:e.sdk)===null||n===void 0?void 0:n.app)===null||r===void 0?void 0:r.name)!==i)throw new Error("sdk was initialized with a different firebase app");return w.exports.createElement(t.Provider,Object.assign({value:e.sdk},e))}}function qN(t){const e=w.exports.useContext(t);if(!e)throw new Error("SDK not found. useSdk must be called from within a provider");return e}const dj=E_(jN),hj=E_(cj),fj=E_(HN),S_=()=>qN(jN),b_=()=>qN(HN);class T_ extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="ReactFireError",Object.setPrototypeOf(this,T_.prototype)}}function pj(t,e){if(e==="idField"||e==="initialData"||e==="suspense")return t?t[e]:void 0;throw new Error(`Field "${e}" is not a valid key in ReactFireOptions`)}function mj(t){return pj(t,"idField")}const gj={black:"#000",white:"#fff"},_u=gj,yj={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},no=yj,vj={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ro=vj,_j={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},io=_j,wj={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},so=wj,Cj={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},oo=Cj,Ej={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ga=Ej,Sj={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bj=Sj;function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function J(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KN(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Tj=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,xj=KN(function(t){return Tj.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function Ij(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kj(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Rj=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kj(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Ij(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Wt="-ms-",Th="-moz-",we="-webkit-",GN="comm",x_="rule",I_="decl",Nj="@import",QN="@keyframes",Pj=Math.abs,Df=String.fromCharCode,Aj=Object.assign;function Oj(t,e){return(((e<<2^ln(t,0))<<2^ln(t,1))<<2^ln(t,2))<<2^ln(t,3)}function YN(t){return t.trim()}function Dj(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function vy(t,e){return t.indexOf(e)}function ln(t,e){return t.charCodeAt(e)|0}function wu(t,e,n){return t.slice(e,n)}function mr(t){return t.length}function k_(t){return t.length}function Uc(t,e){return e.push(t),t}function $j(t,e){return t.map(e).join("")}var $f=1,pa=1,XN=0,wn=0,ut=0,Aa="";function Mf(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:$f,column:pa,length:o,return:""}}function Qa(t,e){return Aj(Mf("",null,null,"",null,null,0),t,{length:-t.length},e)}function Mj(){return ut}function Lj(){return ut=wn>0?ln(Aa,--wn):0,pa--,ut===10&&(pa=1,$f--),ut}function xn(){return ut=wn<XN?ln(Aa,wn++):0,pa++,ut===10&&(pa=1,$f++),ut}function Er(){return ln(Aa,wn)}function pd(){return wn}function ic(t,e){return wu(Aa,t,e)}function Cu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function JN(t){return $f=pa=1,XN=mr(Aa=t),wn=0,[]}function ZN(t){return Aa="",t}function md(t){return YN(ic(wn-1,_y(t===91?t+2:t===40?t+1:t)))}function Fj(t){for(;(ut=Er())&&ut<33;)xn();return Cu(t)>2||Cu(ut)>3?"":" "}function Uj(t,e){for(;--e&&xn()&&!(ut<48||ut>102||ut>57&&ut<65||ut>70&&ut<97););return ic(t,pd()+(e<6&&Er()==32&&xn()==32))}function _y(t){for(;xn();)switch(ut){case t:return wn;case 34:case 39:t!==34&&t!==39&&_y(ut);break;case 40:t===41&&_y(t);break;case 92:xn();break}return wn}function Bj(t,e){for(;xn()&&t+ut!==47+10;)if(t+ut===42+42&&Er()===47)break;return"/*"+ic(e,wn-1)+"*"+Df(t===47?t:xn())}function zj(t){for(;!Cu(Er());)xn();return ic(t,wn)}function Vj(t){return ZN(gd("",null,null,null,[""],t=JN(t),0,[0],t))}function gd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,m=1,E=1,g=1,y=0,v="",_=i,S=s,T=r,b=v;E;)switch(p=y,y=xn()){case 40:if(p!=108&&b.charCodeAt(d-1)==58){vy(b+=Ee(md(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:b+=md(y);break;case 9:case 10:case 13:case 32:b+=Fj(p);break;case 92:b+=Uj(pd()-1,7);continue;case 47:switch(Er()){case 42:case 47:Uc(Wj(Bj(xn(),pd()),e,n),l);break;default:b+="/"}break;case 123*m:a[u++]=mr(b)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:E=0;case 59+c:f>0&&mr(b)-d&&Uc(f>32?TE(b+";",r,n,d-1):TE(Ee(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(Uc(T=bE(b,e,n,u,c,i,a,v,_=[],S=[],d),s),y===123)if(c===0)gd(b,e,T,T,_,s,d,a,S);else switch(h){case 100:case 109:case 115:gd(t,T,T,r&&Uc(bE(t,T,T,0,0,i,a,v,i,_=[],d),S),i,S,d,a,r?_:S);break;default:gd(b,T,T,T,[""],S,0,a,S)}}u=c=f=0,m=g=1,v=b="",d=o;break;case 58:d=1+mr(b),f=p;default:if(m<1){if(y==123)--m;else if(y==125&&m++==0&&Lj()==125)continue}switch(b+=Df(y),y*m){case 38:g=c>0?1:(b+="\f",-1);break;case 44:a[u++]=(mr(b)-1)*g,g=1;break;case 64:Er()===45&&(b+=md(xn())),h=Er(),c=d=mr(v=b+=zj(pd())),y++;break;case 45:p===45&&mr(b)==2&&(m=0)}}return s}function bE(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=k_(h),p=0,m=0,E=0;p<r;++p)for(var g=0,y=wu(t,d+1,d=Pj(m=o[p])),v=t;g<f;++g)(v=YN(m>0?h[g]+" "+y:Ee(y,/&\f/g,h[g])))&&(l[E++]=v);return Mf(t,e,n,i===0?x_:a,l,u,c)}function Wj(t,e,n){return Mf(t,e,n,GN,Df(Mj()),wu(t,2,-2),0)}function TE(t,e,n,r){return Mf(t,e,n,I_,wu(t,0,r),wu(t,r+1,-1),r)}function eP(t,e){switch(Oj(t,e)){case 5103:return we+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return we+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return we+t+Th+t+Wt+t+t;case 6828:case 4268:return we+t+Wt+t+t;case 6165:return we+t+Wt+"flex-"+t+t;case 5187:return we+t+Ee(t,/(\w+).+(:[^]+)/,we+"box-$1$2"+Wt+"flex-$1$2")+t;case 5443:return we+t+Wt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return we+t+Wt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return we+t+Wt+Ee(t,"shrink","negative")+t;case 5292:return we+t+Wt+Ee(t,"basis","preferred-size")+t;case 6060:return we+"box-"+Ee(t,"-grow","")+we+t+Wt+Ee(t,"grow","positive")+t;case 4554:return we+Ee(t,/([^-])(transform)/g,"$1"+we+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,we+"$1"),/(image-set)/,we+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,we+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,we+"box-pack:$3"+Wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+we+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,we+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mr(t)-1-e>6)switch(ln(t,e+1)){case 109:if(ln(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+we+"$2-$3$1"+Th+(ln(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vy(t,"stretch")?eP(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ln(t,e+1)!==115)break;case 6444:switch(ln(t,mr(t)-3-(~vy(t,"!important")&&10))){case 107:return Ee(t,":",":"+we)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+we+(ln(t,14)===45?"inline-":"")+"box$3$1"+we+"$2$3$1"+Wt+"$2box$3")+t}break;case 5936:switch(ln(t,e+11)){case 114:return we+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return we+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return we+t+Wt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return we+t+Wt+t+t}return t}function Wo(t,e){for(var n="",r=k_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function jj(t,e,n,r){switch(t.type){case Nj:case I_:return t.return=t.return||t.value;case GN:return"";case QN:return t.return=t.value+"{"+Wo(t.children,r)+"}";case x_:t.value=t.props.join(",")}return mr(n=Wo(t.children,r))?t.return=t.value+"{"+n+"}":""}function Hj(t){var e=k_(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function qj(t){return function(e){e.root||(e=e.return)&&t(e)}}function Kj(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case I_:t.return=eP(t.value,t.length);break;case QN:return Wo([Qa(t,{value:Ee(t.value,"@","@"+we)})],r);case x_:if(t.length)return $j(t.props,function(i){switch(Dj(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wo([Qa(t,{props:[Ee(i,/:(read-\w+)/,":"+Th+"$1")]})],r);case"::placeholder":return Wo([Qa(t,{props:[Ee(i,/:(plac\w+)/,":"+we+"input-$1")]}),Qa(t,{props:[Ee(i,/:(plac\w+)/,":"+Th+"$1")]}),Qa(t,{props:[Ee(i,/:(plac\w+)/,Wt+"input-$1")]})],r)}return""})}}var Gj=function(e,n,r){for(var i=0,s=0;i=s,s=Er(),i===38&&s===12&&(n[r]=1),!Cu(s);)xn();return ic(e,wn)},Qj=function(e,n){var r=-1,i=44;do switch(Cu(i)){case 0:i===38&&Er()===12&&(n[r]=1),e[r]+=Gj(wn-1,n,r);break;case 2:e[r]+=md(i);break;case 4:if(i===44){e[++r]=Er()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Df(i)}while(i=xn());return e},Yj=function(e,n){return ZN(Qj(JN(e),n))},xE=new WeakMap,Xj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!xE.get(r))&&!i){xE.set(e,!0);for(var s=[],o=Yj(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},Jj=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}},Zj=[Kj],e6=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var E=m.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||Zj,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var E=m.getAttribute("data-emotion").split(" "),g=1;g<E.length;g++)s[E[g]]=!0;a.push(m)});var l,u=[Xj,Jj];{var c,d=[jj,qj(function(m){c.insert(m)})],h=Hj(u.concat(i,d)),f=function(E){return Wo(Vj(E),h)};l=function(E,g,y,v){c=y,f(E?E+"{"+g.styles+"}":g.styles),v&&(p.inserted[g.name]=!0)}}var p={key:n,sheet:new Rj({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},tP={exports:{}},Ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=typeof Symbol=="function"&&Symbol.for,R_=Nt?Symbol.for("react.element"):60103,N_=Nt?Symbol.for("react.portal"):60106,Lf=Nt?Symbol.for("react.fragment"):60107,Ff=Nt?Symbol.for("react.strict_mode"):60108,Uf=Nt?Symbol.for("react.profiler"):60114,Bf=Nt?Symbol.for("react.provider"):60109,zf=Nt?Symbol.for("react.context"):60110,P_=Nt?Symbol.for("react.async_mode"):60111,Vf=Nt?Symbol.for("react.concurrent_mode"):60111,Wf=Nt?Symbol.for("react.forward_ref"):60112,jf=Nt?Symbol.for("react.suspense"):60113,t6=Nt?Symbol.for("react.suspense_list"):60120,Hf=Nt?Symbol.for("react.memo"):60115,qf=Nt?Symbol.for("react.lazy"):60116,n6=Nt?Symbol.for("react.block"):60121,r6=Nt?Symbol.for("react.fundamental"):60117,i6=Nt?Symbol.for("react.responder"):60118,s6=Nt?Symbol.for("react.scope"):60119;function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R_:switch(t=t.type,t){case P_:case Vf:case Lf:case Uf:case Ff:case jf:return t;default:switch(t=t&&t.$$typeof,t){case zf:case Wf:case qf:case Hf:case Bf:return t;default:return e}}case N_:return e}}}function nP(t){return On(t)===Vf}Ie.AsyncMode=P_;Ie.ConcurrentMode=Vf;Ie.ContextConsumer=zf;Ie.ContextProvider=Bf;Ie.Element=R_;Ie.ForwardRef=Wf;Ie.Fragment=Lf;Ie.Lazy=qf;Ie.Memo=Hf;Ie.Portal=N_;Ie.Profiler=Uf;Ie.StrictMode=Ff;Ie.Suspense=jf;Ie.isAsyncMode=function(t){return nP(t)||On(t)===P_};Ie.isConcurrentMode=nP;Ie.isContextConsumer=function(t){return On(t)===zf};Ie.isContextProvider=function(t){return On(t)===Bf};Ie.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R_};Ie.isForwardRef=function(t){return On(t)===Wf};Ie.isFragment=function(t){return On(t)===Lf};Ie.isLazy=function(t){return On(t)===qf};Ie.isMemo=function(t){return On(t)===Hf};Ie.isPortal=function(t){return On(t)===N_};Ie.isProfiler=function(t){return On(t)===Uf};Ie.isStrictMode=function(t){return On(t)===Ff};Ie.isSuspense=function(t){return On(t)===jf};Ie.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lf||t===Vf||t===Uf||t===Ff||t===jf||t===t6||typeof t=="object"&&t!==null&&(t.$$typeof===qf||t.$$typeof===Hf||t.$$typeof===Bf||t.$$typeof===zf||t.$$typeof===Wf||t.$$typeof===r6||t.$$typeof===i6||t.$$typeof===s6||t.$$typeof===n6)};Ie.typeOf=On;(function(t){t.exports=Ie})(tP);var rP=tP.exports,o6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a6={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iP={};iP[rP.ForwardRef]=o6;iP[rP.Memo]=a6;var l6=!0;function u6(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var sP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||l6===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},oP=function(e,n,r){sP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function c6(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var d6={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},h6=/[A-Z]|^ms/g,f6=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aP=function(e){return e.charCodeAt(1)===45},IE=function(e){return e!=null&&typeof e!="boolean"},wm=KN(function(t){return aP(t)?t:t.replace(h6,"-$&").toLowerCase()}),kE=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(f6,function(r,i,s){return gr={name:i,styles:s,next:gr},i})}return d6[e]!==1&&!aP(e)&&typeof n=="number"&&n!==0?n+"px":n};function Eu(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return gr={name:n.name,styles:n.styles,next:gr},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)gr={name:r.name,styles:r.styles,next:gr},r=r.next;var i=n.styles+";";return i}return p6(t,e,n)}case"function":{if(t!==void 0){var s=gr,o=n(t);return gr=s,Eu(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function p6(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Eu(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":IE(o)&&(r+=wm(s)+":"+kE(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)IE(o[a])&&(r+=wm(s)+":"+kE(s,o[a])+";");else{var l=Eu(t,e,o);switch(s){case"animation":case"animationName":{r+=wm(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var RE=/label:\s*([^\s;\n{]+)\s*(;|$)/g,gr,A_=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";gr=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Eu(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Eu(r,n,e[a]),i&&(s+=o[a]);RE.lastIndex=0;for(var l="",u;(u=RE.exec(s))!==null;)l+="-"+u[1];var c=c6(s)+l;return{name:c,styles:s,next:gr}},m6=function(e){return e()},lP=Rm["useInsertionEffect"]?Rm["useInsertionEffect"]:!1,g6=lP||m6,NE=lP||w.exports.useLayoutEffect,uP=w.exports.createContext(typeof HTMLElement<"u"?e6({key:"css"}):null);uP.Provider;var cP=function(e){return w.exports.forwardRef(function(n,r){var i=w.exports.useContext(uP);return e(n,i,r)})},dP=w.exports.createContext({}),y6=cP(function(t,e){var n=t.styles,r=A_([n],void 0,w.exports.useContext(dP)),i=w.exports.useRef();return NE(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),NE(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&oP(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function O_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return A_(e)}var sc=function(){var e=O_.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},v6=xj,_6=function(e){return e!=="theme"},PE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?v6:_6},AE=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},w6=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return sP(n,r,i),g6(function(){return oP(n,r,i)}),null},C6=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=AE(e,n,r),l=a||PE(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=cP(function(m,E,g){var y=u&&m.as||i,v="",_=[],S=m;if(m.theme==null){S={};for(var T in m)S[T]=m[T];S.theme=w.exports.useContext(dP)}typeof m.className=="string"?v=u6(E.registered,_,m.className):m.className!=null&&(v=m.className+" ");var b=A_(d.concat(_),E.registered,S);v+=E.key+"-"+b.name,o!==void 0&&(v+=" "+o);var x=u&&a===void 0?PE(y):l,$={};for(var I in m)u&&I==="as"||x(I)&&($[I]=m[I]);return $.className=v,$.ref=g,w.exports.createElement(w.exports.Fragment,null,w.exports.createElement(w6,{cache:E,serialized:b,isStringTag:typeof y=="string"}),w.exports.createElement(y,$))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,E){return t(m,C({},n,E,{shouldForwardProp:AE(p,E,!0)})).apply(void 0,d)},p}},E6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wy=C6.bind();E6.forEach(function(t){wy[t]=wy(t)});const S6=wy;function b6(t){return t==null||Object.keys(t).length===0}function T6(t){const{styles:e,defaultTheme:n={}}=t;return k(y6,{styles:typeof e=="function"?i=>e(b6(i)?n:i):e})}/** @license MUI v5.10.5
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hP(t,e){return S6(t,e)}const x6=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function sl(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function zn(t,e,n={clone:!0}){const r=n.clone?C({},t):t;return sl(t)&&sl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(sl(e[i])&&i in t&&sl(t[i])?r[i]=zn(t[i],e[i],n):r[i]=e[i])}),r}function $i(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var I6={exports:{}},ke={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_=Symbol.for("react.element"),$_=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),Yf=Symbol.for("react.provider"),Xf=Symbol.for("react.context"),k6=Symbol.for("react.server_context"),Jf=Symbol.for("react.forward_ref"),Zf=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),tp=Symbol.for("react.memo"),np=Symbol.for("react.lazy"),R6=Symbol.for("react.offscreen"),fP;fP=Symbol.for("react.module.reference");function qn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D_:switch(t=t.type,t){case Kf:case Qf:case Gf:case Zf:case ep:return t;default:switch(t=t&&t.$$typeof,t){case k6:case Xf:case Jf:case np:case tp:case Yf:return t;default:return e}}case $_:return e}}}ke.ContextConsumer=Xf;ke.ContextProvider=Yf;ke.Element=D_;ke.ForwardRef=Jf;ke.Fragment=Kf;ke.Lazy=np;ke.Memo=tp;ke.Portal=$_;ke.Profiler=Qf;ke.StrictMode=Gf;ke.Suspense=Zf;ke.SuspenseList=ep;ke.isAsyncMode=function(){return!1};ke.isConcurrentMode=function(){return!1};ke.isContextConsumer=function(t){return qn(t)===Xf};ke.isContextProvider=function(t){return qn(t)===Yf};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D_};ke.isForwardRef=function(t){return qn(t)===Jf};ke.isFragment=function(t){return qn(t)===Kf};ke.isLazy=function(t){return qn(t)===np};ke.isMemo=function(t){return qn(t)===tp};ke.isPortal=function(t){return qn(t)===$_};ke.isProfiler=function(t){return qn(t)===Qf};ke.isStrictMode=function(t){return qn(t)===Gf};ke.isSuspense=function(t){return qn(t)===Zf};ke.isSuspenseList=function(t){return qn(t)===ep};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kf||t===Qf||t===Gf||t===Zf||t===ep||t===R6||typeof t=="object"&&t!==null&&(t.$$typeof===np||t.$$typeof===tp||t.$$typeof===Yf||t.$$typeof===Xf||t.$$typeof===Jf||t.$$typeof===fP||t.getModuleId!==void 0)};ke.typeOf=qn;(function(t){t.exports=ke})(I6);function U(t){if(typeof t!="string")throw new Error($i(7));return t.charAt(0).toUpperCase()+t.slice(1)}function OE(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function pP(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function Cm(t,e){return w.exports.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function In(t){return t&&t.ownerDocument||document}function zs(t){return In(t).defaultView||window}function xh(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const N6=typeof window<"u"?w.exports.useLayoutEffect:w.exports.useEffect,ma=N6;let DE=0;function P6(t){const[e,n]=w.exports.useState(t),r=t||e;return w.exports.useEffect(()=>{e==null&&(DE+=1,n(`mui-${DE}`))},[e]),r}const $E=Rm["useId"];function mP(t){if($E!==void 0){const e=$E();return t!=null?t:e}return P6(t)}function ME({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.exports.useRef(t!==void 0),[s,o]=w.exports.useState(e),a=i?t:s,l=w.exports.useCallback(u=>{i||o(u)},[]);return[a,l]}function Io(t){const e=w.exports.useRef(t);return ma(()=>{e.current=t}),w.exports.useCallback((...n)=>(0,e.current)(...n),[])}function nt(t,e){return w.exports.useMemo(()=>t==null&&e==null?null:n=>{xh(t,n),xh(e,n)},[t,e])}let rp=!0,Cy=!1,LE;const A6={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function O6(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&A6[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function D6(t){t.metaKey||t.altKey||t.ctrlKey||(rp=!0)}function Em(){rp=!1}function $6(){this.visibilityState==="hidden"&&Cy&&(rp=!0)}function M6(t){t.addEventListener("keydown",D6,!0),t.addEventListener("mousedown",Em,!0),t.addEventListener("pointerdown",Em,!0),t.addEventListener("touchstart",Em,!0),t.addEventListener("visibilitychange",$6,!0)}function L6(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return rp||O6(e)}function F6(){const t=w.exports.useCallback(i=>{i!=null&&M6(i.ownerDocument)},[]),e=w.exports.useRef(!1);function n(){return e.current?(Cy=!0,window.clearTimeout(LE),LE=window.setTimeout(()=>{Cy=!1},100),e.current=!1,!0):!1}function r(i){return L6(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function gP(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function yP(t,e){const n=C({},e);return Object.keys(t).forEach(r=>{n[r]===void 0&&(n[r]=t[r])}),n}function Re(t,e,n){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>(o&&(s.push(e(o)),n&&n[o]&&s.push(n[o])),s),[]).join(" ")}),r}const FE=t=>t,U6=()=>{let t=FE;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FE}}},B6=U6(),vP=B6,z6={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function be(t,e,n="Mui"){const r=z6[e];return r?`${n}-${r}`:`${vP.generate(t)}-${e}`}function Te(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=be(t,i,n)}),r}function xl(t,e){return e?zn(t,e,{clone:!1}):t}const M_={xs:0,sm:600,md:900,lg:1200,xl:1536},UE={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${M_[t]}px)`};function Wi(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||UE;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||UE;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||M_).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function V6(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function W6(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function L_(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function BE(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=L_(t,n)||r,e&&(i=e(i)),i}function j(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=L_(l,r)||{};return Wi(o,a,d=>{let h=BE(u,i,d);return d===h&&typeof d=="string"&&(h=BE(u,i,`${e}${d==="default"?"":U(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function ji(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?xl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function j6(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const H6={m:"margin",p:"padding"},q6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},zE={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},K6=j6(t=>{if(t.length>2)if(zE[t])t=zE[t];else return[t];const[e,n]=t.split(""),r=H6[e],i=q6[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),G6=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Q6=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],_P=[...G6,...Q6];function oc(t,e,n,r){var i;const s=(i=L_(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function wP(t){return oc(t,"spacing",8)}function ac(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Y6(t,e){return n=>t.reduce((r,i)=>(r[i]=ac(e,n),r),{})}function X6(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=K6(n),s=Y6(i,r),o=t[n];return Wi(t,o,s)}function J6(t,e){const n=wP(t.theme);return Object.keys(t).map(r=>X6(t,e,r,n)).reduce(xl,{})}function ip(t){return J6(t,_P)}ip.propTypes={};ip.filterProps=_P;function lc(t){return typeof t!="number"?t:`${t}px solid`}const Z6=j({prop:"border",themeKey:"borders",transform:lc}),eH=j({prop:"borderTop",themeKey:"borders",transform:lc}),tH=j({prop:"borderRight",themeKey:"borders",transform:lc}),nH=j({prop:"borderBottom",themeKey:"borders",transform:lc}),rH=j({prop:"borderLeft",themeKey:"borders",transform:lc}),iH=j({prop:"borderColor",themeKey:"palette"}),sH=j({prop:"borderTopColor",themeKey:"palette"}),oH=j({prop:"borderRightColor",themeKey:"palette"}),aH=j({prop:"borderBottomColor",themeKey:"palette"}),lH=j({prop:"borderLeftColor",themeKey:"palette"}),F_=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=oc(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:ac(e,r)});return Wi(t,t.borderRadius,n)}return null};F_.propTypes={};F_.filterProps=["borderRadius"];const uH=ji(Z6,eH,tH,nH,rH,iH,sH,oH,aH,lH,F_),CP=uH,cH=j({prop:"displayPrint",cssProperty:!1,transform:t=>({"@media print":{display:t}})}),dH=j({prop:"display"}),hH=j({prop:"overflow"}),fH=j({prop:"textOverflow"}),pH=j({prop:"visibility"}),mH=j({prop:"whiteSpace"}),EP=ji(cH,dH,hH,fH,pH,mH),gH=j({prop:"flexBasis"}),yH=j({prop:"flexDirection"}),vH=j({prop:"flexWrap"}),_H=j({prop:"justifyContent"}),wH=j({prop:"alignItems"}),CH=j({prop:"alignContent"}),EH=j({prop:"order"}),SH=j({prop:"flex"}),bH=j({prop:"flexGrow"}),TH=j({prop:"flexShrink"}),xH=j({prop:"alignSelf"}),IH=j({prop:"justifyItems"}),kH=j({prop:"justifySelf"}),RH=ji(gH,yH,vH,_H,wH,CH,EH,SH,bH,TH,xH,IH,kH),SP=RH,U_=t=>{if(t.gap!==void 0&&t.gap!==null){const e=oc(t.theme,"spacing",8),n=r=>({gap:ac(e,r)});return Wi(t,t.gap,n)}return null};U_.propTypes={};U_.filterProps=["gap"];const B_=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=oc(t.theme,"spacing",8),n=r=>({columnGap:ac(e,r)});return Wi(t,t.columnGap,n)}return null};B_.propTypes={};B_.filterProps=["columnGap"];const z_=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=oc(t.theme,"spacing",8),n=r=>({rowGap:ac(e,r)});return Wi(t,t.rowGap,n)}return null};z_.propTypes={};z_.filterProps=["rowGap"];const NH=j({prop:"gridColumn"}),PH=j({prop:"gridRow"}),AH=j({prop:"gridAutoFlow"}),OH=j({prop:"gridAutoColumns"}),DH=j({prop:"gridAutoRows"}),$H=j({prop:"gridTemplateColumns"}),MH=j({prop:"gridTemplateRows"}),LH=j({prop:"gridTemplateAreas"}),FH=j({prop:"gridArea"}),UH=ji(U_,B_,z_,NH,PH,AH,OH,DH,$H,MH,LH,FH),bP=UH,BH=j({prop:"color",themeKey:"palette"}),zH=j({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),VH=j({prop:"backgroundColor",themeKey:"palette"}),WH=ji(BH,zH,VH),TP=WH,jH=j({prop:"position"}),HH=j({prop:"zIndex",themeKey:"zIndex"}),qH=j({prop:"top"}),KH=j({prop:"right"}),GH=j({prop:"bottom"}),QH=j({prop:"left"}),xP=ji(jH,HH,qH,KH,GH,QH),YH=j({prop:"boxShadow",themeKey:"shadows"}),IP=YH;function Hi(t){return t<=1&&t!==0?`${t*100}%`:t}const XH=j({prop:"width",transform:Hi}),kP=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i,s;return{maxWidth:((r=t.theme)==null||(i=r.breakpoints)==null||(s=i.values)==null?void 0:s[n])||M_[n]||Hi(n)}};return Wi(t,t.maxWidth,e)}return null};kP.filterProps=["maxWidth"];const JH=j({prop:"minWidth",transform:Hi}),ZH=j({prop:"height",transform:Hi}),eq=j({prop:"maxHeight",transform:Hi}),tq=j({prop:"minHeight",transform:Hi});j({prop:"size",cssProperty:"width",transform:Hi});j({prop:"size",cssProperty:"height",transform:Hi});const nq=j({prop:"boxSizing"}),rq=ji(XH,kP,JH,ZH,eq,tq,nq),RP=rq,iq=j({prop:"fontFamily",themeKey:"typography"}),sq=j({prop:"fontSize",themeKey:"typography"}),oq=j({prop:"fontStyle",themeKey:"typography"}),aq=j({prop:"fontWeight",themeKey:"typography"}),lq=j({prop:"letterSpacing"}),uq=j({prop:"textTransform"}),cq=j({prop:"lineHeight"}),dq=j({prop:"textAlign"}),hq=j({prop:"typography",cssProperty:!1,themeKey:"typography"}),fq=ji(hq,iq,sq,oq,aq,lq,cq,dq,uq),NP=fq,VE={borders:CP.filterProps,display:EP.filterProps,flexbox:SP.filterProps,grid:bP.filterProps,positions:xP.filterProps,palette:TP.filterProps,shadows:IP.filterProps,sizing:RP.filterProps,spacing:ip.filterProps,typography:NP.filterProps},PP={borders:CP,display:EP,flexbox:SP,grid:bP,positions:xP,palette:TP,shadows:IP,sizing:RP,spacing:ip,typography:NP},pq=Object.keys(VE).reduce((t,e)=>(VE[e].forEach(n=>{t[n]=PP[e]}),t),{});function mq(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function gq(t,e){return typeof t=="function"?t(e):t}function yq(t=PP){const e=Object.keys(t).reduce((i,s)=>(t[s].filterProps.forEach(o=>{i[o]=t[s]}),i),{});function n(i,s,o){const a={[i]:s,theme:o},l=e[i];return l?l(a):{[i]:s}}function r(i){const{sx:s,theme:o={}}=i||{};if(!s)return null;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=V6(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=gq(u[f],o);if(p!=null)if(typeof p=="object")if(e[f])h=xl(h,n(f,p,o));else{const m=Wi({theme:o},p,E=>({[f]:E}));mq(m,p)?h[f]=r({sx:p,theme:o}):h=xl(h,m)}else h=xl(h,n(f,p,o))}),W6(d,h)}return Array.isArray(s)?s.map(a):a(s)}return r}const AP=yq();AP.filterProps=["sx"];const OP=AP,vq=["sx"],_q=t=>{const e={systemProps:{},otherProps:{}};return Object.keys(t).forEach(n=>{pq[n]?e.systemProps[n]=t[n]:e.otherProps[n]=t[n]}),e};function DP(t){const{sx:e}=t,n=J(t,vq),{systemProps:r,otherProps:i}=_q(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return sl(a)?C({},r,a):r}:s=C({},r,e),C({},i,{sx:s})}function $P(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=$P(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function re(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=$P(t))&&(r&&(r+=" "),r+=e);return r}const wq=["values","unit","step"],Cq=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>C({},n,{[r.key]:r.val}),{})};function Eq(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=J(t,wq),s=Cq(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return C({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const Sq={borderRadius:4},bq=Sq;function Tq(t=8){if(t.mui)return t;const e=wP({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}const xq=["breakpoints","palette","spacing","shape"];function V_(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=J(t,xq),a=Eq(n),l=Tq(i);let u=zn({breakpoints:a,direction:"ltr",components:{},palette:C({mode:"light"},r),spacing:l,shape:C({},bq,s)},o);return u=e.reduce((c,d)=>zn(c,d),u),u}const Iq=w.exports.createContext(null),kq=Iq;function Rq(){return w.exports.useContext(kq)}function Nq(t){return Object.keys(t).length===0}function Pq(t=null){const e=Rq();return!e||Nq(e)?t:e}const Aq=V_();function W_(t=Aq){return Pq(t)}const Oq=["className","component"];function Dq(t={}){const{defaultTheme:e,defaultClassName:n="MuiBox-root",generateClassName:r,styleFunctionSx:i=OP}=t,s=hP("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(i);return w.exports.forwardRef(function(l,u){const c=W_(e),d=DP(l),{className:h,component:f="div"}=d,p=J(d,Oq);return k(s,C({as:f,ref:u,className:re(h,r?r(n):n),theme:c},p))})}const $q=["variant"];function WE(t){return t.length===0}function MP(t){const{variant:e}=t,n=J(t,$q);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=WE(r)?t[i]:U(t[i]):r+=`${WE(r)?i:U(i)}${U(t[i].toString())}`}),r}const Mq=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Lq=["theme"],Fq=["theme"];function Ya(t){return Object.keys(t).length===0}function Uq(t){return typeof t=="string"&&t.charCodeAt(0)>96}const Bq=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,zq=(t,e)=>{let n=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants);const r={};return n.forEach(i=>{const s=MP(i.props);r[s]=i.style}),r},Vq=(t,e,n,r)=>{var i,s;const{ownerState:o={}}=t,a=[],l=n==null||(i=n.components)==null||(s=i[r])==null?void 0:s.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(d=>{o[d]!==u.props[d]&&t[d]!==u.props[d]&&(c=!1)}),c&&a.push(e[MP(u.props)])}),a};function Il(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Wq=V_();function jq(t={}){const{defaultTheme:e=Wq,rootShouldForwardProp:n=Il,slotShouldForwardProp:r=Il,styleFunctionSx:i=OP}=t,s=o=>{const a=Ya(o.theme)?e:o.theme;return i(C({},o,{theme:a}))};return s.__mui_systemSx=!0,(o,a={})=>{x6(o,_=>_.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h}=a,f=J(a,Mq),p=c!==void 0?c:u&&u!=="Root"||!1,m=d||!1;let E,g=Il;u==="Root"?g=n:u?g=r:Uq(o)&&(g=void 0);const y=hP(o,C({shouldForwardProp:g,label:E},f)),v=(_,...S)=>{const T=S?S.map(I=>typeof I=="function"&&I.__emotion_real!==I?L=>{let{theme:H}=L,q=J(L,Lq);return I(C({theme:Ya(H)?e:H},q))}:I):[];let b=_;l&&h&&T.push(I=>{const L=Ya(I.theme)?e:I.theme,H=Bq(l,L);if(H){const q={};return Object.entries(H).forEach(([te,B])=>{q[te]=typeof B=="function"?B(C({},I,{theme:L})):B}),h(I,q)}return null}),l&&!p&&T.push(I=>{const L=Ya(I.theme)?e:I.theme;return Vq(I,zq(l,L),L,l)}),m||T.push(s);const x=T.length-S.length;if(Array.isArray(_)&&x>0){const I=new Array(x).fill("");b=[..._,...I],b.raw=[..._.raw,...I]}else typeof _=="function"&&_.__emotion_real!==_&&(b=I=>{let{theme:L}=I,H=J(I,Fq);return _(C({theme:Ya(L)?e:L},H))});return y(b,...T)};return y.withConfig&&(v.withConfig=y.withConfig),v}}function Hq(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:yP(e.components[n].defaultProps,r)}function qq({props:t,name:e,defaultTheme:n}){const r=W_(n);return Hq({theme:r,name:e,props:t})}function j_(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function Kq(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vs(t){if(t.type)return t;if(t.charAt(0)==="#")return Vs(Kq(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error($i(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error($i(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function sp(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Gq(t){t=Vs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),sp({type:a,values:l})}function jE(t){t=Vs(t);let e=t.type==="hsl"?Vs(Gq(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Qq(t,e){const n=jE(t),r=jE(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function jt(t,e){return t=Vs(t),e=j_(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,sp(t)}function Yq(t,e){if(t=Vs(t),e=j_(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return sp(t)}function Xq(t,e){if(t=Vs(t),e=j_(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return sp(t)}function Ih(t){return typeof t=="string"}function Jq(t,e={},n){return Ih(t)?e:C({},e,{ownerState:C({},e.ownerState,n)})}function Zq(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function Ey(t,e){return typeof t=="function"?t(e):t}function HE(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function e8(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=re(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),p=C({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),m=C({},n,i,r);return f.length>0&&(m.className=f),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=Zq(C({},i,r)),a=HE(r),l=HE(i),u=e(o),c=re(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=C({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=C({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const t8=["elementType","externalSlotProps","ownerState"];function qE(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i}=t,s=J(t,t8),o=Ey(r,i),{props:a,internalRef:l}=e8(C({},s,{externalSlotProps:o})),u=nt(l,nt(o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref));return Jq(n,C({},a,{ref:u}),i)}function n8(t){return typeof t=="function"?t():t}const r8=w.exports.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.exports.useState(null),l=nt(w.exports.isValidElement(r)?r.ref:null,n);return ma(()=>{s||a(n8(i)||document.body)},[i,s]),ma(()=>{if(o&&!s)return xh(n,o),()=>{xh(n,null)}},[n,o,s]),s?w.exports.isValidElement(r)?w.exports.cloneElement(r,{ref:l}):r:k(w.exports.Fragment,{children:o&&bu.exports.createPortal(r,o)})}),i8=r8;function s8(t){const e=In(t);return e.body===t?zs(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kl(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function KE(t){return parseInt(zs(t).getComputedStyle(t).paddingRight,10)||0}function o8(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function GE(t,e,n,r=[],i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!o8(o);a&&l&&kl(o,i)})}function Sm(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function a8(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(s8(r)){const o=gP(In(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${KE(r)+o}px`;const a=In(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${KE(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=In(r).body;else{const o=r.parentElement,a=zs(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function l8(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class u8{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&kl(e.modalRef,!1);const i=l8(n);GE(n,e.mount,e.modalRef,i,!0);const s=Sm(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Sm(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=a8(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Sm(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&kl(e.modalRef,n),GE(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&kl(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const c8=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function d8(t){const e=parseInt(t.getAttribute("tabindex"),10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function h8(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function f8(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||h8(t))}function p8(t){const e=[],n=[];return Array.from(t.querySelectorAll(c8)).forEach((r,i)=>{const s=d8(r);s===-1||!f8(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function m8(){return!0}function g8(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=p8,isEnabled:o=m8,open:a}=t,l=w.exports.useRef(),u=w.exports.useRef(null),c=w.exports.useRef(null),d=w.exports.useRef(null),h=w.exports.useRef(null),f=w.exports.useRef(!1),p=w.exports.useRef(null),m=nt(e.ref,p),E=w.exports.useRef(null);w.exports.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const v=In(p.current);return p.current.contains(v.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex",-1),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.exports.useEffect(()=>{if(!a||!p.current)return;const v=In(p.current),_=b=>{const{current:x}=p;if(x!==null){if(!v.hasFocus()||r||!o()||l.current){l.current=!1;return}if(!x.contains(v.activeElement)){if(b&&h.current!==b.target||v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let L=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(L=s(p.current)),L.length>0){var $,I;const H=Boolean((($=E.current)==null?void 0:$.shiftKey)&&((I=E.current)==null?void 0:I.key)==="Tab"),q=L[0],te=L[L.length-1];H?te.focus():q.focus()}else x.focus()}}},S=b=>{E.current=b,!(r||!o()||b.key!=="Tab")&&v.activeElement===p.current&&b.shiftKey&&(l.current=!0,c.current.focus())};v.addEventListener("focusin",_),v.addEventListener("keydown",S,!0);const T=setInterval(()=>{v.activeElement.tagName==="BODY"&&_()},50);return()=>{clearInterval(T),v.removeEventListener("focusin",_),v.removeEventListener("keydown",S,!0)}},[n,r,i,o,a,s]);const g=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0,h.current=v.target;const _=e.props.onFocus;_&&_(v)},y=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0};return We(w.exports.Fragment,{children:[k("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),w.exports.cloneElement(e,{ref:m,onFocus:g}),k("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}function y8(t){return be("MuiModal",t)}Te("MuiModal",["root","hidden"]);const v8=["children","classes","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"],_8=t=>{const{open:e,exited:n,classes:r}=t;return Re({root:["root",!e&&n&&"hidden"]},y8,r)};function w8(t){return typeof t=="function"?t():t}function C8(t){return t.children?t.children.props.hasOwnProperty("in"):!1}const E8=new u8,S8=w.exports.forwardRef(function(e,n){var r;const{children:i,classes:s,closeAfterTransition:o=!1,component:a="div",components:l={},componentsProps:u={},container:c,disableAutoFocus:d=!1,disableEnforceFocus:h=!1,disableEscapeKeyDown:f=!1,disablePortal:p=!1,disableRestoreFocus:m=!1,disableScrollLock:E=!1,hideBackdrop:g=!1,keepMounted:y=!1,manager:v=E8,onBackdropClick:_,onClose:S,onKeyDown:T,open:b,onTransitionEnter:x,onTransitionExited:$}=e,I=J(e,v8),[L,H]=w.exports.useState(!0),q=w.exports.useRef({}),te=w.exports.useRef(null),B=w.exports.useRef(null),P=nt(B,n),D=C8(e),R=(r=e["aria-hidden"])!=null?r:!0,F=()=>In(te.current),z=()=>(q.current.modalRef=B.current,q.current.mountNode=te.current,q.current),Y=()=>{v.mount(z(),{disableScrollLock:E}),B.current.scrollTop=0},ie=Io(()=>{const st=w8(c)||F().body;v.add(z(),st),B.current&&Y()}),Pe=w.exports.useCallback(()=>v.isTopModal(z()),[v]),me=Io(st=>{te.current=st,st&&(b&&Pe()?Y():kl(B.current,R))}),Fe=w.exports.useCallback(()=>{v.remove(z(),R)},[v,R]);w.exports.useEffect(()=>()=>{Fe()},[Fe]),w.exports.useEffect(()=>{b?ie():(!D||!o)&&Fe()},[b,Fe,D,o,ie]);const De=C({},e,{classes:s,closeAfterTransition:o,disableAutoFocus:d,disableEnforceFocus:h,disableEscapeKeyDown:f,disablePortal:p,disableRestoreFocus:m,disableScrollLock:E,exited:L,hideBackdrop:g,keepMounted:y}),Pt=_8(De),je=()=>{H(!1),x&&x()},it=()=>{H(!0),$&&$(),o&&Fe()},Ue=st=>{st.target===st.currentTarget&&(_&&_(st),S&&S(st,"backdropClick"))},wt=st=>{T&&T(st),!(st.key!=="Escape"||!Pe())&&(f||(st.stopPropagation(),S&&S(st,"escapeKeyDown")))},on={};i.props.tabIndex===void 0&&(on.tabIndex="-1"),D&&(on.onEnter=OE(je,i.props.onEnter),on.onExited=OE(it,i.props.onExited));const lr=l.Root||a,Kn=qE({elementType:lr,externalSlotProps:u.root,externalForwardedProps:I,additionalProps:{ref:P,role:"presentation",onKeyDown:wt},className:Pt.root,ownerState:De}),xr=l.Backdrop,ur=qE({elementType:xr,externalSlotProps:u.backdrop,additionalProps:{"aria-hidden":!0,onClick:Ue,open:b},ownerState:De});return!y&&!b&&(!D||L)?null:k(i8,{ref:me,container:c,disablePortal:p,children:We(lr,C({},Kn,{children:[!g&&xr?k(xr,C({},ur)):null,k(g8,{disableEnforceFocus:h,disableAutoFocus:d,disableRestoreFocus:m,isEnabled:Pe,open:b,children:w.exports.cloneElement(i,on)})]}))})}),b8=S8,T8=["onChange","maxRows","minRows","style","value"];function Bc(t,e){return parseInt(t[e],10)||0}const x8={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function QE(t){return t==null||Object.keys(t).length===0}const I8=w.exports.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=J(e,T8),{current:u}=w.exports.useRef(a!=null),c=w.exports.useRef(null),d=nt(n,c),h=w.exports.useRef(null),f=w.exports.useRef(0),[p,m]=w.exports.useState({}),E=w.exports.useCallback(()=>{const S=c.current,b=zs(S).getComputedStyle(S);if(b.width==="0px")return{};const x=h.current;x.style.width=b.width,x.value=S.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const $=b["box-sizing"],I=Bc(b,"padding-bottom")+Bc(b,"padding-top"),L=Bc(b,"border-bottom-width")+Bc(b,"border-top-width"),H=x.scrollHeight;x.value="x";const q=x.scrollHeight;let te=H;s&&(te=Math.max(Number(s)*q,te)),i&&(te=Math.min(Number(i)*q,te)),te=Math.max(te,q);const B=te+($==="border-box"?I+L:0),P=Math.abs(te-H)<=1;return{outerHeightStyle:B,overflow:P}},[i,s,e.placeholder]),g=(S,T)=>{const{outerHeightStyle:b,overflow:x}=T;return f.current<20&&(b>0&&Math.abs((S.outerHeightStyle||0)-b)>1||S.overflow!==x)?(f.current+=1,{overflow:x,outerHeightStyle:b}):S},y=w.exports.useCallback(()=>{const S=E();QE(S)||m(T=>g(T,S))},[E]),v=()=>{const S=E();QE(S)||bu.exports.flushSync(()=>{m(T=>g(T,S))})};w.exports.useEffect(()=>{const S=pP(()=>{f.current=0,c.current&&v()}),T=zs(c.current);T.addEventListener("resize",S);let b;return typeof ResizeObserver<"u"&&(b=new ResizeObserver(S),b.observe(c.current)),()=>{S.clear(),T.removeEventListener("resize",S),b&&b.disconnect()}}),ma(()=>{y()}),w.exports.useEffect(()=>{f.current=0},[a]);const _=S=>{f.current=0,u||y(),r&&r(S)};return We(w.exports.Fragment,{children:[k("textarea",C({value:a,onChange:_,ref:d,rows:s,style:C({height:p.outerHeightStyle,overflow:p.overflow?"hidden":null},o)},l)),k("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:C({},x8.shadow,o,{padding:0})})]})}),k8=I8;function R8(t,e){return C({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const N8=["mode","contrastThreshold","tonalOffset"],YE={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_u.white,default:_u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bm={text:{primary:_u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function XE(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Xq(t.main,i):e==="dark"&&(t.dark=Yq(t.main,s)))}function P8(t="light"){return t==="dark"?{main:io[200],light:io[50],dark:io[400]}:{main:io[700],light:io[400],dark:io[800]}}function A8(t="light"){return t==="dark"?{main:ro[200],light:ro[50],dark:ro[400]}:{main:ro[500],light:ro[300],dark:ro[700]}}function O8(t="light"){return t==="dark"?{main:no[500],light:no[300],dark:no[700]}:{main:no[700],light:no[400],dark:no[800]}}function D8(t="light"){return t==="dark"?{main:so[400],light:so[300],dark:so[700]}:{main:so[700],light:so[500],dark:so[900]}}function $8(t="light"){return t==="dark"?{main:oo[400],light:oo[300],dark:oo[700]}:{main:oo[800],light:oo[500],dark:oo[900]}}function M8(t="light"){return t==="dark"?{main:Ga[400],light:Ga[300],dark:Ga[700]}:{main:"#ed6c02",light:Ga[500],dark:Ga[900]}}function L8(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=J(t,N8),s=t.primary||P8(e),o=t.secondary||A8(e),a=t.error||O8(e),l=t.info||D8(e),u=t.success||$8(e),c=t.warning||M8(e);function d(m){return Qq(m,bm.text.primary)>=n?bm.text.primary:YE.text.primary}const h=({color:m,name:E,mainShade:g=500,lightShade:y=300,darkShade:v=700})=>{if(m=C({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error($i(11,E?` (${E})`:"",g));if(typeof m.main!="string")throw new Error($i(12,E?` (${E})`:"",JSON.stringify(m.main)));return XE(m,"light",y,r),XE(m,"dark",v,r),m.contrastText||(m.contrastText=d(m.main)),m},f={dark:bm,light:YE};return zn(C({common:C({},_u),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:bj,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const F8=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function U8(t){return Math.round(t*1e5)/1e5}const JE={textTransform:"uppercase"},ZE='"Roboto", "Helvetica", "Arial", sans-serif';function B8(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=ZE,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=J(n,F8),f=i/14,p=d||(g=>`${g/u*f}rem`),m=(g,y,v,_,S)=>C({fontFamily:r,fontWeight:g,fontSize:p(y),lineHeight:v},r===ZE?{letterSpacing:`${U8(_/y)}em`}:{},S,c),E={h1:m(s,96,1.167,-1.5),h2:m(s,60,1.2,-.5),h3:m(o,48,1.167,0),h4:m(o,34,1.235,.25),h5:m(o,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(o,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(o,16,1.5,.15),body2:m(o,14,1.43,.15),button:m(a,14,1.75,.4,JE),caption:m(o,12,1.66,.4),overline:m(o,12,2.66,1,JE)};return zn(C({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const z8=.2,V8=.14,W8=.12;function He(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${z8})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${V8})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${W8})`].join(",")}const j8=["none",He(0,2,1,-1,0,1,1,0,0,1,3,0),He(0,3,1,-2,0,2,2,0,0,1,5,0),He(0,3,3,-2,0,3,4,0,0,1,8,0),He(0,2,4,-1,0,4,5,0,0,1,10,0),He(0,3,5,-1,0,5,8,0,0,1,14,0),He(0,3,5,-1,0,6,10,0,0,1,18,0),He(0,4,5,-2,0,7,10,1,0,2,16,1),He(0,5,5,-3,0,8,10,1,0,3,14,2),He(0,5,6,-3,0,9,12,1,0,3,16,2),He(0,6,6,-3,0,10,14,1,0,4,18,3),He(0,6,7,-4,0,11,15,1,0,4,20,3),He(0,7,8,-4,0,12,17,2,0,5,22,4),He(0,7,8,-4,0,13,19,2,0,5,24,4),He(0,7,9,-4,0,14,21,2,0,5,26,4),He(0,8,9,-5,0,15,22,2,0,6,28,5),He(0,8,10,-5,0,16,24,2,0,6,30,5),He(0,8,11,-5,0,17,26,2,0,6,32,5),He(0,9,11,-5,0,18,28,2,0,7,34,6),He(0,9,12,-6,0,19,29,2,0,7,36,6),He(0,10,13,-6,0,20,31,3,0,8,38,7),He(0,10,13,-6,0,21,33,3,0,8,40,7),He(0,10,14,-6,0,22,35,3,0,8,42,7),He(0,11,14,-7,0,23,36,3,0,9,44,8),He(0,11,15,-7,0,24,38,3,0,9,46,8)],H8=j8,q8=["duration","easing","delay"],K8={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},G8={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function eS(t){return`${Math.round(t)}ms`}function Q8(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Y8(t){const e=C({},K8,t.easing),n=C({},G8,t.duration);return C({getAutoHeightDuration:Q8,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return J(s,q8),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:eS(o)} ${a} ${typeof l=="string"?l:eS(l)}`).join(",")}},t,{easing:e,duration:n})}const X8={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},J8=X8,Z8=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function LP(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=J(t,Z8);if(t.vars)throw new Error($i(18));const a=L8(r),l=V_(t);let u=zn(l,{mixins:R8(l.breakpoints,n),palette:a,shadows:H8.slice(),typography:B8(a,s),transitions:Y8(i),zIndex:C({},J8)});return u=zn(u,o),u=e.reduce((c,d)=>zn(c,d),u),u}const eK=LP(),op=eK;function ap(){return W_(op)}function Ne({props:t,name:e}){return qq({props:t,name:e,defaultTheme:op})}const Zr=t=>Il(t)&&t!=="classes",tK=Il,nK=jq({defaultTheme:op,rootShouldForwardProp:Zr}),Q=nK;function rK(t){return be("MuiPaper",t)}Te("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const iK=["className","component","elevation","square","variant"],tS=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},sK=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return Re(s,rK,i)},oK=Q("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return C({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&C({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${jt("#fff",tS(e.elevation))}, ${jt("#fff",tS(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),aK=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=J(r,iK),c=C({},r,{component:s,elevation:o,square:a,variant:l}),d=sK(c);return k(oK,C({as:s,ownerState:c,className:re(d.root,i),ref:n},u))}),uc=aK;function lK(t){return be("MuiSvgIcon",t)}Te("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uK=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],cK=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${U(e)}`,`fontSize${U(n)}`]};return Re(i,lK,r)},dK=Q("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${U(n.color)}`],e[`fontSize${U(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p,m,E,g,y;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(s=i.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(a=o.pxToRem)==null?void 0:a.call(o,20))||"1.25rem",medium:((l=t.typography)==null||(u=l.pxToRem)==null?void 0:u.call(l,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(p=f[e.color])==null?void 0:p.main)!=null?h:{action:(m=(t.vars||t).palette)==null||(E=m.action)==null?void 0:E.active,disabled:(g=(t.vars||t).palette)==null||(y=g.action)==null?void 0:y.disabled,inherit:void 0}[e.color]}}),FP=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=J(r,uK),p=C({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h}),m={};c||(m.viewBox=h);const E=cK(p);return We(dK,C({as:a,className:re(E.root,s),ownerState:p,focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},m,f,{children:[i,d?k("title",{children:d}):null]}))});FP.muiName="SvgIcon";const nS=FP;function UP(t,e){const n=(r,i)=>k(nS,C({"data-testid":`${e}Icon`,ref:i},r,{children:t}));return n.muiName=nS.muiName,w.exports.memo(w.exports.forwardRef(n))}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function BP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sy(t,e)}const rS={disabled:!1},kh=hs.createContext(null);var hK=function(e){return e.scrollTop},ol="unmounted",Zi="exited",es="entering",uo="entered",by="exiting",ei=function(t){BP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Zi,s.appearStatus=es):l=uo:r.unmountOnExit||r.mountOnEnter?l=ol:l=Zi,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===ol?{status:Zi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==es&&o!==uo&&(s=es):(o===es||o===uo)&&(s=by)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===es){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Ic.findDOMNode(this);o&&hK(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zi&&this.setState({status:ol})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Ic.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||rS.disabled){this.safeSetState({status:uo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:es},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:uo},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Ic.findDOMNode(this);if(!s||rS.disabled){this.safeSetState({status:Zi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:by},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Zi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Ic.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ol)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=J(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return k(kh.Provider,{value:null,children:typeof o=="function"?o(i,a):hs.cloneElement(hs.Children.only(o),a)})},e}(hs.Component);ei.contextType=kh;ei.propTypes={};function ao(){}ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ao,onEntering:ao,onEntered:ao,onExit:ao,onExiting:ao,onExited:ao};ei.UNMOUNTED=ol;ei.EXITED=Zi;ei.ENTERING=es;ei.ENTERED=uo;ei.EXITING=by;const zP=ei;function fK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H_(t,e){var n=function(s){return e&&w.exports.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.exports.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function pK(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function ds(t,e,n){return n[e]!=null?n[e]:t.props[e]}function mK(t,e){return H_(t.children,function(n){return w.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ds(n,"appear",t),enter:ds(n,"enter",t),exit:ds(n,"exit",t)})})}function gK(t,e,n){var r=H_(t.children),i=pK(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(!!w.exports.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.exports.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:ds(o,"exit",t),enter:ds(o,"enter",t)}):!l&&a&&!c?i[s]=w.exports.cloneElement(o,{in:!1}):l&&a&&w.exports.isValidElement(u)&&(i[s]=w.exports.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:ds(o,"exit",t),enter:ds(o,"enter",t)}))}}),i}var yK=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},vK={component:"div",childFactory:function(e){return e}},q_=function(t){BP(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(fK(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?mK(i,a):gK(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=H_(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=C({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=J(i,["component","childFactory"]),l=this.state.contextValue,u=yK(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?k(kh.Provider,{value:l,children:u}):k(kh.Provider,{value:l,children:k(s,{...a,children:u})})},e}(hs.Component);q_.propTypes={};q_.defaultProps=vK;const _K=q_,VP=t=>t.scrollTop;function Rh(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function wK(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.exports.useState(!1),h=re(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=re(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.exports.useEffect(()=>{if(!a&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,a,u]),k("span",{className:h,style:f,children:k("span",{className:p})})}const CK=Te("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),$n=CK,EK=["center","classes","className"];let lp=t=>t,iS,sS,oS,aS;const Ty=550,SK=80,bK=sc(iS||(iS=lp`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),TK=sc(sS||(sS=lp`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),xK=sc(oS||(oS=lp`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),IK=Q("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kK=Q(wK,{name:"MuiTouchRipple",slot:"Ripple"})(aS||(aS=lp`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),$n.rippleVisible,bK,Ty,({theme:t})=>t.transitions.easing.easeInOut,$n.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,$n.child,$n.childLeaving,TK,Ty,({theme:t})=>t.transitions.easing.easeInOut,$n.childPulsate,xK,({theme:t})=>t.transitions.easing.easeInOut),RK=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=J(r,EK),[l,u]=w.exports.useState([]),c=w.exports.useRef(0),d=w.exports.useRef(null);w.exports.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.exports.useRef(!1),f=w.exports.useRef(null),p=w.exports.useRef(null),m=w.exports.useRef(null);w.exports.useEffect(()=>()=>{clearTimeout(f.current)},[]);const E=w.exports.useCallback(_=>{const{pulsate:S,rippleX:T,rippleY:b,rippleSize:x,cb:$}=_;u(I=>[...I,k(kK,{classes:{ripple:re(s.ripple,$n.ripple),rippleVisible:re(s.rippleVisible,$n.rippleVisible),ripplePulsate:re(s.ripplePulsate,$n.ripplePulsate),child:re(s.child,$n.child),childLeaving:re(s.childLeaving,$n.childLeaving),childPulsate:re(s.childPulsate,$n.childPulsate)},timeout:Ty,pulsate:S,rippleX:T,rippleY:b,rippleSize:x},c.current)]),c.current+=1,d.current=$},[s]),g=w.exports.useCallback((_={},S={},T)=>{const{pulsate:b=!1,center:x=i||S.pulsate,fakeElement:$=!1}=S;if((_==null?void 0:_.type)==="mousedown"&&h.current){h.current=!1;return}(_==null?void 0:_.type)==="touchstart"&&(h.current=!0);const I=$?null:m.current,L=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,q,te;if(x||_===void 0||_.clientX===0&&_.clientY===0||!_.clientX&&!_.touches)H=Math.round(L.width/2),q=Math.round(L.height/2);else{const{clientX:B,clientY:P}=_.touches&&_.touches.length>0?_.touches[0]:_;H=Math.round(B-L.left),q=Math.round(P-L.top)}if(x)te=Math.sqrt((2*L.width**2+L.height**2)/3),te%2===0&&(te+=1);else{const B=Math.max(Math.abs((I?I.clientWidth:0)-H),H)*2+2,P=Math.max(Math.abs((I?I.clientHeight:0)-q),q)*2+2;te=Math.sqrt(B**2+P**2)}_!=null&&_.touches?p.current===null&&(p.current=()=>{E({pulsate:b,rippleX:H,rippleY:q,rippleSize:te,cb:T})},f.current=setTimeout(()=>{p.current&&(p.current(),p.current=null)},SK)):E({pulsate:b,rippleX:H,rippleY:q,rippleSize:te,cb:T})},[i,E]),y=w.exports.useCallback(()=>{g({},{pulsate:!0})},[g]),v=w.exports.useCallback((_,S)=>{if(clearTimeout(f.current),(_==null?void 0:_.type)==="touchend"&&p.current){p.current(),p.current=null,f.current=setTimeout(()=>{v(_,S)});return}p.current=null,u(T=>T.length>0?T.slice(1):T),d.current=S},[]);return w.exports.useImperativeHandle(n,()=>({pulsate:y,start:g,stop:v}),[y,g,v]),k(IK,C({className:re($n.root,s.root,o),ref:m},a,{children:k(_K,{component:null,exit:!0,children:l})}))}),NK=RK;function PK(t){return be("MuiButtonBase",t)}const AK=Te("MuiButtonBase",["root","disabled","focusVisible"]),OK=AK,DK=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$K=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=Re({root:["root",e&&"disabled",n&&"focusVisible"]},PK,i);return n&&r&&(o.root+=` ${r}`),o},MK=Q("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${OK.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),LK=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:E,onDragLeave:g,onFocus:y,onFocusVisible:v,onKeyDown:_,onKeyUp:S,onMouseDown:T,onMouseLeave:b,onMouseUp:x,onTouchEnd:$,onTouchMove:I,onTouchStart:L,tabIndex:H=0,TouchRippleProps:q,touchRippleRef:te,type:B}=r,P=J(r,DK),D=w.exports.useRef(null),R=w.exports.useRef(null),F=nt(R,te),{isFocusVisibleRef:z,onFocus:Y,onBlur:ie,ref:Pe}=F6(),[me,Fe]=w.exports.useState(!1);u&&me&&Fe(!1),w.exports.useImperativeHandle(i,()=>({focusVisible:()=>{Fe(!0),D.current.focus()}}),[]);const[De,Pt]=w.exports.useState(!1);w.exports.useEffect(()=>{Pt(!0)},[]);const je=De&&!c&&!u;w.exports.useEffect(()=>{me&&h&&!c&&De&&R.current.pulsate()},[c,h,me,De]);function it(G,ot,Js=d){return Io(hr=>(ot&&ot(hr),!Js&&R.current&&R.current[G](hr),!0))}const Ue=it("start",T),wt=it("stop",E),on=it("stop",g),lr=it("stop",x),Kn=it("stop",G=>{me&&G.preventDefault(),b&&b(G)}),xr=it("start",L),ur=it("stop",$),st=it("stop",I),cr=it("stop",G=>{ie(G),z.current===!1&&Fe(!1),p&&p(G)},!1),ti=Io(G=>{D.current||(D.current=G.currentTarget),Y(G),z.current===!0&&(Fe(!0),v&&v(G)),y&&y(G)}),Ct=()=>{const G=D.current;return l&&l!=="button"&&!(G.tagName==="A"&&G.href)},dr=w.exports.useRef(!1),ni=Io(G=>{h&&!dr.current&&me&&R.current&&G.key===" "&&(dr.current=!0,R.current.stop(G,()=>{R.current.start(G)})),G.target===G.currentTarget&&Ct()&&G.key===" "&&G.preventDefault(),_&&_(G),G.target===G.currentTarget&&Ct()&&G.key==="Enter"&&!u&&(G.preventDefault(),m&&m(G))}),qi=Io(G=>{h&&G.key===" "&&R.current&&me&&!G.defaultPrevented&&(dr.current=!1,R.current.stop(G,()=>{R.current.pulsate(G)})),S&&S(G),m&&G.target===G.currentTarget&&Ct()&&G.key===" "&&!G.defaultPrevented&&m(G)});let Gn=l;Gn==="button"&&(P.href||P.to)&&(Gn=f);const Dn={};Gn==="button"?(Dn.type=B===void 0?"button":B,Dn.disabled=u):(!P.href&&!P.to&&(Dn.role="button"),u&&(Dn["aria-disabled"]=u));const Ir=nt(Pe,D),Ae=nt(n,Ir),K=C({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:H,focusVisible:me}),Qe=$K(K);return We(MK,C({as:Gn,className:re(Qe.root,a),ownerState:K,onBlur:cr,onClick:m,onContextMenu:wt,onFocus:ti,onKeyDown:ni,onKeyUp:qi,onMouseDown:Ue,onMouseLeave:Kn,onMouseUp:lr,onDragLeave:on,onTouchEnd:ur,onTouchMove:st,onTouchStart:xr,ref:Ae,tabIndex:u?-1:H,type:B},Dn,P,{children:[o,je?k(NK,C({ref:F,center:s},q)):null]}))}),xy=LK;function FK(t){return be("MuiTypography",t)}Te("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const UK=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],BK=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${U(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Re(a,FK,o)},zK=Q("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${U(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>C({margin:0},e.variant&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),lS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},VK={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},WK=t=>VK[t]||t,jK=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiTypography"}),i=WK(r.color),s=DP(C({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:d=!1,variant:h="body1",variantMapping:f=lS}=s,p=J(s,UK),m=C({},s,{align:o,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:d,variant:h,variantMapping:f}),E=l||(d?"p":f[h]||lS[h])||"span",g=BK(m);return k(zK,C({as:E,ref:n,ownerState:m,className:re(g.root,a)},p))}),up=jK;function HK(t){return be("MuiAppBar",t)}Te("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const qK=["className","color","enableColorOnDark","position"],KK=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${U(e)}`,`position${U(n)}`]};return Re(i,HK,r)},zc=(t,e)=>`${t==null?void 0:t.replace(")","")}, ${e})`,GK=Q(uc,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${U(n.position)}`],e[`color${U(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return C({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&C({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&C({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&C({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:zc(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:zc(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:zc(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:zc(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),QK=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=J(r,qK),u=C({},r,{color:s,position:a,enableColorOnDark:o}),c=KK(u);return k(GK,C({square:!0,component:"header",ownerState:u,elevation:4,className:re(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))}),WP=QK,YK=UP(k("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function XK(t){return be("MuiChip",t)}const JK=Te("MuiChip",["root","sizeSmall","sizeMedium","colorPrimary","colorSecondary","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),_e=JK,ZK=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"],eG=t=>{const{classes:e,disabled:n,size:r,color:i,onDelete:s,clickable:o,variant:a}=t,l={root:["root",a,n&&"disabled",`size${U(r)}`,`color${U(i)}`,o&&"clickable",o&&`clickableColor${U(i)}`,s&&"deletable",s&&`deletableColor${U(i)}`,`${a}${U(i)}`],label:["label",`label${U(r)}`],avatar:["avatar",`avatar${U(r)}`,`avatarColor${U(i)}`],icon:["icon",`icon${U(r)}`,`iconColor${U(i)}`],deleteIcon:["deleteIcon",`deleteIcon${U(r)}`,`deleteIconColor${U(i)}`,`deleteIcon${U(a)}Color${U(i)}`]};return Re(l,XK,e)},tG=Q("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t,{color:r,clickable:i,onDelete:s,size:o,variant:a}=n;return[{[`& .${_e.avatar}`]:e.avatar},{[`& .${_e.avatar}`]:e[`avatar${U(o)}`]},{[`& .${_e.avatar}`]:e[`avatarColor${U(r)}`]},{[`& .${_e.icon}`]:e.icon},{[`& .${_e.icon}`]:e[`icon${U(o)}`]},{[`& .${_e.icon}`]:e[`iconColor${U(r)}`]},{[`& .${_e.deleteIcon}`]:e.deleteIcon},{[`& .${_e.deleteIcon}`]:e[`deleteIcon${U(o)}`]},{[`& .${_e.deleteIcon}`]:e[`deleteIconColor${U(r)}`]},{[`& .${_e.deleteIcon}`]:e[`deleteIcon${U(a)}Color${U(r)}`]},e.root,e[`size${U(o)}`],e[`color${U(r)}`],i&&e.clickable,i&&r!=="default"&&e[`clickableColor${U(r)})`],s&&e.deletable,s&&r!=="default"&&e[`deletableColor${U(r)}`],e[a],e[`${a}${U(r)}`]]}})(({theme:t,ownerState:e})=>{const n=jt(t.palette.text.primary,.26),r=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return C({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${_e.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${_e.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${_e.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${_e.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${_e.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${_e.icon}`]:C({color:t.vars?t.vars.palette.Chip.defaultIconColor:r,marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.color!=="default"&&{color:"inherit"}),[`& .${_e.deleteIcon}`]:C({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:n,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:jt(n,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:t.vars?`rgba(${t.vars.palette[e.color].contrastTextChannel} / 0.7)`:jt(t.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(t.vars||t).palette[e.color].main,color:(t.vars||t).palette[e.color].contrastText},e.onDelete&&{[`&.${_e.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:jt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${_e.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}})},({theme:t,ownerState:e})=>C({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.hoverOpacity}))`:jt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${_e.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity+t.vars.palette.action.focusOpacity}))`:jt(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${_e.focusVisible}`]:{backgroundColor:(t.vars||t).palette[e.color].dark}}),({theme:t,ownerState:e})=>C({},e.variant==="outlined"&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${_e.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${_e.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${_e.avatar}`]:{marginLeft:4},[`& .${_e.avatarSmall}`]:{marginLeft:2},[`& .${_e.icon}`]:{marginLeft:4},[`& .${_e.iconSmall}`]:{marginLeft:2},[`& .${_e.deleteIcon}`]:{marginRight:5},[`& .${_e.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(t.vars||t).palette[e.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:jt(t.palette[e.color].main,.7)}`,[`&.${_e.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jt(t.palette[e.color].main,t.palette.action.hoverOpacity)},[`&.${_e.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:jt(t.palette[e.color].main,t.palette.action.focusOpacity)},[`& .${_e.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / 0.7)`:jt(t.palette[e.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[e.color].main}}})),nG=Q("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:n}=t,{size:r}=n;return[e.label,e[`label${U(r)}`]]}})(({ownerState:t})=>C({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},t.size==="small"&&{paddingLeft:8,paddingRight:8}));function uS(t){return t.key==="Backspace"||t.key==="Delete"}const rG=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:a="default",component:l,deleteIcon:u,disabled:c=!1,icon:d,label:h,onClick:f,onDelete:p,onKeyDown:m,onKeyUp:E,size:g="medium",variant:y="filled"}=r,v=J(r,ZK),_=w.exports.useRef(null),S=nt(_,n),T=D=>{D.stopPropagation(),p&&p(D)},b=D=>{D.currentTarget===D.target&&uS(D)&&D.preventDefault(),m&&m(D)},x=D=>{D.currentTarget===D.target&&(p&&uS(D)?p(D):D.key==="Escape"&&_.current&&_.current.blur()),E&&E(D)},$=o!==!1&&f?!0:o,I=$||p?xy:l||"div",L=C({},r,{component:I,disabled:c,size:g,color:a,onDelete:!!p,clickable:$,variant:y}),H=eG(L),q=I===xy?C({component:l||"div",focusVisibleClassName:H.focusVisible},p&&{disableRipple:!0}):{};let te=null;p&&(te=u&&w.exports.isValidElement(u)?w.exports.cloneElement(u,{className:re(u.props.className,H.deleteIcon),onClick:T}):k(YK,{className:re(H.deleteIcon),onClick:T}));let B=null;i&&w.exports.isValidElement(i)&&(B=w.exports.cloneElement(i,{className:re(H.avatar,i.props.className)}));let P=null;return d&&w.exports.isValidElement(d)&&(P=w.exports.cloneElement(d,{className:re(H.icon,d.props.className)})),We(tG,C({as:I,className:re(H.root,s),disabled:$&&c?!0:void 0,onClick:f,onKeyDown:b,onKeyUp:x,ref:S,ownerState:L},q,v,{children:[B||P,k(nG,{className:re(H.label),ownerState:L,children:h}),te]}))}),iG=rG;function Oa({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const sG=w.exports.createContext(),K_=sG;function Da(){return w.exports.useContext(K_)}function oG(t){return k(T6,C({},t,{defaultTheme:op}))}function cS(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function G_(t,e=!1){return t&&(cS(t.value)&&t.value!==""||e&&cS(t.defaultValue)&&t.defaultValue!=="")}function aG(t){return t.startAdornment}function lG(t){return be("MuiInputBase",t)}const uG=Te("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ga=uG,cG=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],cp=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${U(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},dp=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},dG=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,m={root:["root",`color${U(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h==="small"&&"sizeSmall",c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return Re(m,lG,e)},hp=Q("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cp})(({theme:t,ownerState:e})=>C({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ga.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&C({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),fp=Q("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=C({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return C({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ga.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${ga.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),hG=k(oG,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),fG=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:a,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:h,endAdornment:f,fullWidth:p=!1,id:m,inputComponent:E="input",inputProps:g={},inputRef:y,maxRows:v,minRows:_,multiline:S=!1,name:T,onBlur:b,onChange:x,onClick:$,onFocus:I,onKeyDown:L,onKeyUp:H,placeholder:q,readOnly:te,renderSuffix:B,rows:P,startAdornment:D,type:R="text",value:F}=r,z=J(r,cG),Y=g.value!=null?g.value:F,{current:ie}=w.exports.useRef(Y!=null),Pe=w.exports.useRef(),me=w.exports.useCallback(Ae=>{},[]),Fe=nt(g.ref,me),De=nt(y,Fe),Pt=nt(Pe,De),[je,it]=w.exports.useState(!1),Ue=Da(),wt=Oa({props:r,muiFormControl:Ue,states:["color","disabled","error","hiddenLabel","size","required","filled"]});wt.focused=Ue?Ue.focused:je,w.exports.useEffect(()=>{!Ue&&d&&je&&(it(!1),b&&b())},[Ue,d,je,b]);const on=Ue&&Ue.onFilled,lr=Ue&&Ue.onEmpty,Kn=w.exports.useCallback(Ae=>{G_(Ae)?on&&on():lr&&lr()},[on,lr]);ma(()=>{ie&&Kn({value:Y})},[Y,Kn,ie]);const xr=Ae=>{if(wt.disabled){Ae.stopPropagation();return}I&&I(Ae),g.onFocus&&g.onFocus(Ae),Ue&&Ue.onFocus?Ue.onFocus(Ae):it(!0)},ur=Ae=>{b&&b(Ae),g.onBlur&&g.onBlur(Ae),Ue&&Ue.onBlur?Ue.onBlur(Ae):it(!1)},st=(Ae,...K)=>{if(!ie){const Qe=Ae.target||Pe.current;if(Qe==null)throw new Error($i(1));Kn({value:Qe.value})}g.onChange&&g.onChange(Ae,...K),x&&x(Ae,...K)};w.exports.useEffect(()=>{Kn(Pe.current)},[]);const cr=Ae=>{Pe.current&&Ae.currentTarget===Ae.target&&Pe.current.focus(),$&&$(Ae)};let ti=E,Ct=g;S&&ti==="input"&&(P?Ct=C({type:void 0,minRows:P,maxRows:P},Ct):Ct=C({type:void 0,maxRows:v,minRows:_},Ct),ti=k8);const dr=Ae=>{Kn(Ae.animationName==="mui-auto-fill-cancel"?Pe.current:{value:"x"})};w.exports.useEffect(()=>{Ue&&Ue.setAdornedStart(Boolean(D))},[Ue,D]);const ni=C({},r,{color:wt.color||"primary",disabled:wt.disabled,endAdornment:f,error:wt.error,focused:wt.focused,formControl:Ue,fullWidth:p,hiddenLabel:wt.hiddenLabel,multiline:S,size:wt.size,startAdornment:D,type:R}),qi=dG(ni),Gn=l.Root||hp,Dn=u.root||{},Ir=l.Input||fp;return Ct=C({},Ct,u.input),We(w.exports.Fragment,{children:[!h&&hG,We(Gn,C({},Dn,!Ih(Gn)&&{ownerState:C({},ni,Dn.ownerState)},{ref:n,onClick:cr},z,{className:re(qi.root,Dn.className,a),children:[D,k(K_.Provider,{value:null,children:k(Ir,C({ownerState:ni,"aria-invalid":wt.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:c,disabled:wt.disabled,id:m,onAnimationStart:dr,name:T,placeholder:q,readOnly:te,required:wt.required,rows:P,value:Y,onKeyDown:L,onKeyUp:H,type:R},Ct,!Ih(Ir)&&{as:ti,ownerState:C({},ni,Ct.ownerState)},{ref:Pt,className:re(qi.input,Ct.className),onBlur:ur,onChange:st,onFocus:xr}))}),f,B?B(C({},wt,{startAdornment:D})):null]}))]})}),Q_=fG;function pG(t){return be("MuiInput",t)}const mG=C({},ga,Te("MuiInput",["root","underline","input"])),Vc=mG;function gG(t){return be("MuiOutlinedInput",t)}const yG=C({},ga,Te("MuiOutlinedInput",["root","notchedOutline","input"])),si=yG;function vG(t){return be("MuiFilledInput",t)}const _G=C({},ga,Te("MuiFilledInput",["root","underline","input"])),lo=_G,wG=UP(k("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),CG=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],EG={entering:{opacity:1},entered:{opacity:1}},SG=w.exports.forwardRef(function(e,n){const r=ap(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:E,timeout:g=i,TransitionComponent:y=zP}=e,v=J(e,CG),_=w.exports.useRef(null),S=nt(a.ref,n),T=nt(_,S),b=B=>P=>{if(B){const D=_.current;P===void 0?B(D):B(D,P)}},x=b(h),$=b((B,P)=>{VP(B);const D=Rh({style:E,timeout:g,easing:l},{mode:"enter"});B.style.webkitTransition=r.transitions.create("opacity",D),B.style.transition=r.transitions.create("opacity",D),c&&c(B,P)}),I=b(d),L=b(m),H=b(B=>{const P=Rh({style:E,timeout:g,easing:l},{mode:"exit"});B.style.webkitTransition=r.transitions.create("opacity",P),B.style.transition=r.transitions.create("opacity",P),f&&f(B)}),q=b(p);return k(y,C({appear:o,in:u,nodeRef:_,onEnter:$,onEntered:I,onEntering:x,onExit:H,onExited:q,onExiting:L,addEndListener:B=>{s&&s(_.current,B)},timeout:g},v,{children:(B,P)=>w.exports.cloneElement(a,C({style:C({opacity:0,visibility:B==="exited"&&!u?"hidden":void 0},EG[B],E,a.props.style),ref:T},P))}))}),jP=SG;function bG(t){return be("MuiBackdrop",t)}Te("MuiBackdrop",["root","invisible"]);const TG=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],xG=t=>{const{classes:e,invisible:n}=t;return Re({root:["root",n&&"invisible"]},bG,e)},IG=Q("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>C({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),kG=w.exports.forwardRef(function(e,n){var r,i;const s=Ne({props:e,name:"MuiBackdrop"}),{children:o,component:a="div",components:l={},componentsProps:u={},className:c,invisible:d=!1,open:h,transitionDuration:f,TransitionComponent:p=jP}=s,m=J(s,TG),E=C({},s,{component:a,invisible:d}),g=xG(E);return k(p,C({in:h,timeout:f},m,{children:k(IG,{"aria-hidden":!0,as:(r=l.Root)!=null?r:a,className:re(g.root,c),ownerState:C({},E,(i=u.root)==null?void 0:i.ownerState),classes:g,ref:n,children:o})}))}),HP=kG,RG=LP(),NG=Dq({defaultTheme:RG,defaultClassName:"MuiBox-root",generateClassName:vP.generate}),Y_=NG;function PG(t){return be("MuiButton",t)}const AG=Te("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Wc=AG,OG=w.exports.createContext({}),DG=OG,$G=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],MG=["root"],LG=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${U(e)}`,`size${U(i)}`,`${s}Size${U(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${U(i)}`],endIcon:["endIcon",`iconSize${U(i)}`]},l=Re(a,PG,o);return C({},o,l)},qP=t=>C({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),FG=Q(xy,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${U(n.color)}`],e[`size${U(n.size)}`],e[`${n.variant}Size${U(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;return C({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":C({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:jt(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:jt(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:(t.vars||t).palette.grey.A100,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Wc.focusVisible}`]:C({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Wc.disabled}`]:C({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="outlined"&&e.color==="secondary"&&{border:`1px solid ${(t.vars||t).palette.action.disabled}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${jt(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Wc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Wc.disabled}`]:{boxShadow:"none"}}),UG=Q("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${U(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},qP(t))),BG=Q("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${U(n.size)}`]]}})(({ownerState:t})=>C({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},qP(t))),zG=w.exports.forwardRef(function(e,n){const r=w.exports.useContext(DG),i=yP(r,e),s=Ne({props:i,name:"MuiButton"}),{children:o,color:a="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:f,focusVisibleClassName:p,fullWidth:m=!1,size:E="medium",startIcon:g,type:y,variant:v="text"}=s,_=J(s,$G),S=C({},s,{color:a,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,fullWidth:m,size:E,type:y,variant:v}),T=LG(S),{root:b}=T,x=J(T,MG),$=g&&k(UG,{className:x.startIcon,ownerState:S,children:g}),I=f&&k(BG,{className:x.endIcon,ownerState:S,children:f});return We(FG,C({ownerState:S,className:re(r.className,b,u),component:l,disabled:c,focusRipple:!h,focusVisibleClassName:re(x.focusVisible,p),ref:n,type:y},_,{classes:x,children:[$,o,I]}))}),Cs=zG;function VG(t){return be("MuiCircularProgress",t)}Te("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const WG=["className","color","disableShrink","size","style","thickness","value","variant"];let pp=t=>t,dS,hS,fS,pS;const oi=44,jG=sc(dS||(dS=pp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),HG=sc(hS||(hS=pp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),qG=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${U(r)}`],svg:["svg"],circle:["circle",`circle${U(n)}`,i&&"circleDisableShrink"]};return Re(s,VG,e)},KG=Q("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${U(n.color)}`]]}})(({ownerState:t,theme:e})=>C({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&O_(fS||(fS=pp`
      animation: ${0} 1.4s linear infinite;
    `),jG)),GG=Q("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),QG=Q("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${U(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>C({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&O_(pS||(pS=pp`
      animation: ${0} 1.4s ease-in-out infinite;
    `),HG)),YG=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=J(r,WG),f=C({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=qG(f),m={},E={},g={};if(d==="determinate"){const y=2*Math.PI*((oi-u)/2);m.strokeDasharray=y.toFixed(3),g["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,E.transform="rotate(-90deg)"}return k(KG,C({className:re(p.root,i),style:C({width:a,height:a},E,l),ownerState:f,ref:n,role:"progressbar"},g,h,{children:k(GG,{className:p.svg,ownerState:f,viewBox:`${oi/2} ${oi/2} ${oi} ${oi}`,children:k(QG,{className:p.circle,style:m,ownerState:f,cx:oi,cy:oi,r:(oi-u)/2,fill:"none",strokeWidth:u})})}))}),KP=YG,XG=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],JG=t=>t.classes,ZG=Q("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>C({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),e9=Q(HP,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),t9=w.exports.forwardRef(function(e,n){var r,i;const s=Ne({name:"MuiModal",props:e}),{BackdropComponent:o=e9,BackdropProps:a,closeAfterTransition:l=!1,children:u,component:c,components:d={},componentsProps:h={},disableAutoFocus:f=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:m=!1,disablePortal:E=!1,disableRestoreFocus:g=!1,disableScrollLock:y=!1,hideBackdrop:v=!1,keepMounted:_=!1,theme:S}=s,T=J(s,XG),[b,x]=w.exports.useState(!0),$={closeAfterTransition:l,disableAutoFocus:f,disableEnforceFocus:p,disableEscapeKeyDown:m,disablePortal:E,disableRestoreFocus:g,disableScrollLock:y,hideBackdrop:v,keepMounted:_},I=C({},s,$,{exited:b}),L=JG(I),H=(r=(i=d.Root)!=null?i:c)!=null?r:ZG;return k(b8,C({components:C({Root:H,Backdrop:o},d),componentsProps:{root:()=>C({},Ey(h.root,I),!Ih(H)&&{as:c,theme:S}),backdrop:()=>C({},a,Ey(h.backdrop,I))},onTransitionEnter:()=>x(!1),onTransitionExited:()=>x(!0),ref:n},T,{classes:L},$,{children:u}))}),GP=t9;function n9(t){return be("MuiDialog",t)}const r9=Te("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Tm=r9,i9=w.exports.createContext({}),QP=i9,s9=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],o9=Q(HP,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),a9=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:s}=t,o={root:["root"],container:["container",`scroll${U(n)}`],paper:["paper",`paperScroll${U(n)}`,`paperWidth${U(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Re(o,n9,e)},l9=Q(GP,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),u9=Q("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${U(n.scroll)}`]]}})(({ownerState:t})=>C({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),c9=Q(uc,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${U(n.scroll)}`],e[`paperWidth${U(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>C({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`${t.breakpoints.values.xs}${t.breakpoints.unit}`,[`&.${Tm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${Tm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Tm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),d9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiDialog"}),i=ap(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:E,onClose:g,open:y,PaperComponent:v=uc,PaperProps:_={},scroll:S="paper",TransitionComponent:T=jP,transitionDuration:b=s,TransitionProps:x}=r,$=J(r,s9),I=C({},r,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:S}),L=a9(I),H=w.exports.useRef(),q=D=>{H.current=D.target===D.currentTarget},te=D=>{!H.current||(H.current=null,E&&E(D),g&&g(D,"backdropClick"))},B=mP(a),P=w.exports.useMemo(()=>({titleId:B}),[B]);return k(l9,C({className:re(L.root,d),closeAfterTransition:!0,components:{Backdrop:o9},componentsProps:{backdrop:C({transitionDuration:b,as:l},u)},disableEscapeKeyDown:h,onClose:g,open:y,ref:n,onClick:te,ownerState:I},$,{children:k(T,C({appear:!0,in:y,timeout:b,role:"presentation"},x,{children:k(u9,{className:re(L.container),onMouseDown:q,ownerState:I,children:k(c9,C({as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":B},_,{className:re(L.paper,_.className),ownerState:I,children:k(QP.Provider,{value:P,children:c})}))})}))}))}),h9=d9;function f9(t){return be("MuiDialogActions",t)}Te("MuiDialogActions",["root","spacing"]);const p9=["className","disableSpacing"],m9=t=>{const{classes:e,disableSpacing:n}=t;return Re({root:["root",!n&&"spacing"]},f9,e)},g9=Q("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>C({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),y9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,o=J(r,p9),a=C({},r,{disableSpacing:s}),l=m9(a);return k(g9,C({className:re(l.root,i),ownerState:a,ref:n},o))}),v9=y9;function _9(t){return be("MuiDialogContent",t)}Te("MuiDialogContent",["root","dividers"]);function w9(t){return be("MuiDialogTitle",t)}const C9=Te("MuiDialogTitle",["root"]),E9=C9,S9=["className","dividers"],b9=t=>{const{classes:e,dividers:n}=t;return Re({root:["root",n&&"dividers"]},_9,e)},T9=Q("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>C({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${E9.root} + &`]:{paddingTop:0}})),x9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1}=r,o=J(r,S9),a=C({},r,{dividers:s}),l=b9(a);return k(T9,C({className:re(l.root,i),ownerState:a,ref:n},o))}),I9=x9,k9=["className","id"],R9=t=>{const{classes:e}=t;return Re({root:["root"]},w9,e)},N9=Q(up,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),P9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiDialogTitle"}),{className:i,id:s}=r,o=J(r,k9),a=r,l=R9(a),{titleId:u=s}=w.exports.useContext(QP);return k(N9,C({component:"h2",className:re(l.root,i),ownerState:a,ref:n,variant:"h6",id:u},o))}),A9=P9,O9=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],D9=t=>{const{classes:e,disableUnderline:n}=t,i=Re({root:["root",!n&&"underline"],input:["input"]},vG,e);return C({},e,i)},$9=Q(hp,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return C({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${lo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${lo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lo.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lo.disabled}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${lo.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&C({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),M9=Q(fp,{name:"MuiFilledInput",slot:"Input",overridesResolver:dp})(({theme:t,ownerState:e})=>C({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),YP=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiFilledInput"}),{components:i={},componentsProps:s,fullWidth:o=!1,inputComponent:a="input",multiline:l=!1,type:u="text"}=r,c=J(r,O9),d=C({},r,{fullWidth:o,inputComponent:a,multiline:l,type:u}),h=D9(r),f={root:{ownerState:d},input:{ownerState:d}},p=s?zn(s,f):f;return k(Q_,C({components:C({Root:$9,Input:M9},i),componentsProps:p,fullWidth:o,inputComponent:a,multiline:l,ref:n,type:u},c,{classes:h}))});YP.muiName="Input";const XP=YP;function L9(t){return be("MuiFormControl",t)}Te("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const F9=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],U9=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${U(n)}`,r&&"fullWidth"]};return Re(i,L9,e)},B9=Q("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,e[`margin${U(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>C({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),z9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:E="outlined"}=r,g=J(r,F9),y=C({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:E}),v=U9(y),[_,S]=w.exports.useState(()=>{let B=!1;return i&&w.exports.Children.forEach(i,P=>{if(!Cm(P,["Input","Select"]))return;const D=Cm(P,["Select"])?P.props.input:P;D&&aG(D.props)&&(B=!0)}),B}),[T,b]=w.exports.useState(()=>{let B=!1;return i&&w.exports.Children.forEach(i,P=>{!Cm(P,["Input","Select"])||G_(P.props,!0)&&(B=!0)}),B}),[x,$]=w.exports.useState(!1);l&&x&&$(!1);const I=c!==void 0&&!l?c:x;let L;const H=w.exports.useCallback(()=>{b(!0)},[]),q=w.exports.useCallback(()=>{b(!1)},[]),te={adornedStart:_,setAdornedStart:S,color:o,disabled:l,error:u,filled:T,focused:I,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{$(!1)},onEmpty:q,onFilled:H,onFocus:()=>{$(!0)},registerEffect:L,required:p,variant:E};return k(K_.Provider,{value:te,children:k(B9,C({as:a,ownerState:y,className:re(v.root,s),ref:n},g,{children:i}))})}),V9=z9;function W9(t){return be("MuiFormHelperText",t)}const j9=Te("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),mS=j9;var gS;const H9=["children","className","component","disabled","error","filled","focused","margin","required","variant"],q9=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${U(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return Re(u,W9,e)},K9=Q("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${U(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${mS.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${mS.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),G9=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=J(r,H9),l=Da(),u=Oa({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=C({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=q9(c);return k(K9,C({as:o,ownerState:c,className:re(d.root,s),ref:n},a,{children:i===" "?gS||(gS=k("span",{className:"notranslate",children:"\u200B"})):i}))}),Q9=G9;function Y9(t){return be("MuiFormLabel",t)}const X9=Te("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Rl=X9,J9=["children","className","color","component","disabled","error","filled","focused","required"],Z9=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${U(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return Re(l,Y9,e)},e7=Q("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>C({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>C({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Rl.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Rl.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Rl.error}`]:{color:(t.vars||t).palette.error.main}})),t7=Q("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Rl.error}`]:{color:(t.vars||t).palette.error.main}})),n7=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=J(r,J9),l=Da(),u=Oa({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=C({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=Z9(c);return We(e7,C({as:o,ownerState:c,className:re(d.root,s),ref:n},a,{children:[i,u.required&&We(t7,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["\u2009","*"]})]}))}),r7=n7,i7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Iy(t){return`scale(${t}, ${t**2})`}const s7={entering:{opacity:1,transform:Iy(1)},entered:{opacity:1,transform:"none"}},xm=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),JP=w.exports.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:E=zP}=e,g=J(e,i7),y=w.exports.useRef(),v=w.exports.useRef(),_=ap(),S=w.exports.useRef(null),T=nt(s.ref,n),b=nt(S,T),x=P=>D=>{if(P){const R=S.current;D===void 0?P(R):P(R,D)}},$=x(c),I=x((P,D)=>{VP(P);const{duration:R,delay:F,easing:z}=Rh({style:p,timeout:m,easing:o},{mode:"enter"});let Y;m==="auto"?(Y=_.transitions.getAutoHeightDuration(P.clientHeight),v.current=Y):Y=R,P.style.transition=[_.transitions.create("opacity",{duration:Y,delay:F}),_.transitions.create("transform",{duration:xm?Y:Y*.666,delay:F,easing:z})].join(","),l&&l(P,D)}),L=x(u),H=x(f),q=x(P=>{const{duration:D,delay:R,easing:F}=Rh({style:p,timeout:m,easing:o},{mode:"exit"});let z;m==="auto"?(z=_.transitions.getAutoHeightDuration(P.clientHeight),v.current=z):z=D,P.style.transition=[_.transitions.create("opacity",{duration:z,delay:R}),_.transitions.create("transform",{duration:xm?z:z*.666,delay:xm?R:R||z*.333,easing:F})].join(","),P.style.opacity=0,P.style.transform=Iy(.75),d&&d(P)}),te=x(h),B=P=>{m==="auto"&&(y.current=setTimeout(P,v.current||0)),r&&r(S.current,P)};return w.exports.useEffect(()=>()=>{clearTimeout(y.current)},[]),k(E,C({appear:i,in:a,nodeRef:S,onEnter:I,onEntered:L,onEntering:$,onExit:q,onExited:te,onExiting:H,addEndListener:B,timeout:m==="auto"?null:m},g,{children:(P,D)=>w.exports.cloneElement(s,C({style:C({opacity:0,transform:Iy(.75),visibility:P==="exited"&&!a?"hidden":void 0},s7[P],p,s.props.style),ref:b},D))}))});JP.muiSupportAuto=!0;const o7=JP,a7=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],l7=t=>{const{classes:e,disableUnderline:n}=t,i=Re({root:["root",!n&&"underline"],input:["input"]},pG,e);return C({},e,i)},u7=Q(hp,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cp(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),C({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vc.error}:after`]:{borderBottomColor:(t.vars||t).palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vc.disabled}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Vc.disabled}:before`]:{borderBottomStyle:"dotted"}})}),c7=Q(fp,{name:"MuiInput",slot:"Input",overridesResolver:dp})({}),ZP=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiInput"}),{disableUnderline:i,components:s={},componentsProps:o,fullWidth:a=!1,inputComponent:l="input",multiline:u=!1,type:c="text"}=r,d=J(r,a7),h=l7(r),p={root:{ownerState:{disableUnderline:i}}},m=o?zn(o,p):p;return k(Q_,C({components:C({Root:u7,Input:c7},s),componentsProps:m,fullWidth:a,inputComponent:l,multiline:u,ref:n,type:c},d,{classes:h}))});ZP.muiName="Input";const X_=ZP;function d7(t){return be("MuiInputLabel",t)}Te("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const h7=["disableAnimation","margin","shrink","variant"],f7=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,u=Re({root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r==="small"&&"sizeSmall",o],asterisk:[a&&"asterisk"]},d7,e);return C({},e,u)},p7=Q(r7,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Rl.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,e[n.variant]]}})(({theme:t,ownerState:e})=>C({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&C({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&C({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&C({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),m7=w.exports.forwardRef(function(e,n){const r=Ne({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s}=r,o=J(r,h7),a=Da();let l=s;typeof l>"u"&&a&&(l=a.filled||a.focused||a.adornedStart);const u=Oa({props:r,muiFormControl:a,states:["size","variant","required"]}),c=C({},r,{disableAnimation:i,formControl:a,shrink:l,size:u.size,variant:u.variant,required:u.required}),d=f7(c);return k(p7,C({"data-shrink":l,ownerState:c,ref:n},o,{classes:d}))}),g7=m7,y7=w.exports.createContext({}),v7=y7;function _7(t){return be("MuiList",t)}Te("MuiList",["root","padding","dense","subheader"]);const w7=["children","className","component","dense","disablePadding","subheader"],C7=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return Re({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},_7,e)},E7=Q("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>C({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),S7=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=J(r,w7),d=w.exports.useMemo(()=>({dense:a}),[a]),h=C({},r,{component:o,dense:a,disablePadding:l}),f=C7(h);return k(v7.Provider,{value:d,children:We(E7,C({as:o,className:re(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),b7=S7,T7=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Im(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function yS(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function eA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Xa(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!eA(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const x7=w.exports.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=J(e,T7),f=w.exports.useRef(null),p=w.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ma(()=>{i&&f.current.focus()},[i]),w.exports.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,_)=>{const S=!f.current.style.width;if(v.clientHeight<f.current.clientHeight&&S){const T=`${gP(In(v))}px`;f.current.style[_.direction==="rtl"?"paddingLeft":"paddingRight"]=T,f.current.style.width=`calc(100% + ${T})`}return f.current}}),[]);const m=v=>{const _=f.current,S=v.key,T=In(_).activeElement;if(S==="ArrowDown")v.preventDefault(),Xa(_,T,u,l,Im);else if(S==="ArrowUp")v.preventDefault(),Xa(_,T,u,l,yS);else if(S==="Home")v.preventDefault(),Xa(_,null,u,l,Im);else if(S==="End")v.preventDefault(),Xa(_,null,u,l,yS);else if(S.length===1){const b=p.current,x=S.toLowerCase(),$=performance.now();b.keys.length>0&&($-b.lastTime>500?(b.keys=[],b.repeating=!0,b.previousKeyMatched=!0):b.repeating&&x!==b.keys[0]&&(b.repeating=!1)),b.lastTime=$,b.keys.push(x);const I=T&&!b.repeating&&eA(T,b);b.previousKeyMatched&&(I||Xa(_,T,!1,l,Im,b))?v.preventDefault():b.previousKeyMatched=!1}c&&c(v)},E=nt(f,n);let g=-1;w.exports.Children.forEach(o,(v,_)=>{!w.exports.isValidElement(v)||v.props.disabled||(d==="selectedMenu"&&v.props.selected||g===-1)&&(g=_)});const y=w.exports.Children.map(o,(v,_)=>{if(_===g){const S={};return s&&(S.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(S.tabIndex=0),w.exports.cloneElement(v,S)}return v});return k(b7,C({role:"menu",ref:E,className:a,onKeyDown:m,tabIndex:i?0:-1},h,{children:y}))}),I7=x7;function k7(t){return be("MuiPopover",t)}Te("MuiPopover",["root","paper"]);const R7=["onEntering"],N7=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function vS(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function _S(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function wS(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function km(t){return typeof t=="function"?t():t}const P7=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"]},k7,e)},A7=Q(GP,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),O7=Q(uc,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),D7=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:a,anchorReference:l="anchorEl",children:u,className:c,container:d,elevation:h=8,marginThreshold:f=16,open:p,PaperProps:m={},transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:g=o7,transitionDuration:y="auto",TransitionProps:{onEntering:v}={}}=r,_=J(r.TransitionProps,R7),S=J(r,N7),T=w.exports.useRef(),b=nt(T,m.ref),x=C({},r,{anchorOrigin:o,anchorReference:l,elevation:h,marginThreshold:f,PaperProps:m,transformOrigin:E,TransitionComponent:g,transitionDuration:y,TransitionProps:_}),$=P7(x),I=w.exports.useCallback(()=>{if(l==="anchorPosition")return a;const D=km(s),F=(D&&D.nodeType===1?D:In(T.current).body).getBoundingClientRect();return{top:F.top+vS(F,o.vertical),left:F.left+_S(F,o.horizontal)}},[s,o.horizontal,o.vertical,a,l]),L=w.exports.useCallback(D=>({vertical:vS(D,E.vertical),horizontal:_S(D,E.horizontal)}),[E.horizontal,E.vertical]),H=w.exports.useCallback(D=>{const R={width:D.offsetWidth,height:D.offsetHeight},F=L(R);if(l==="none")return{top:null,left:null,transformOrigin:wS(F)};const z=I();let Y=z.top-F.vertical,ie=z.left-F.horizontal;const Pe=Y+R.height,me=ie+R.width,Fe=zs(km(s)),De=Fe.innerHeight-f,Pt=Fe.innerWidth-f;if(Y<f){const je=Y-f;Y-=je,F.vertical+=je}else if(Pe>De){const je=Pe-De;Y-=je,F.vertical+=je}if(ie<f){const je=ie-f;ie-=je,F.horizontal+=je}else if(me>Pt){const je=me-Pt;ie-=je,F.horizontal+=je}return{top:`${Math.round(Y)}px`,left:`${Math.round(ie)}px`,transformOrigin:wS(F)}},[s,l,I,L,f]),q=w.exports.useCallback(()=>{const D=T.current;if(!D)return;const R=H(D);R.top!==null&&(D.style.top=R.top),R.left!==null&&(D.style.left=R.left),D.style.transformOrigin=R.transformOrigin},[H]),te=(D,R)=>{v&&v(D,R),q()};w.exports.useEffect(()=>{p&&q()}),w.exports.useImperativeHandle(i,()=>p?{updatePosition:()=>{q()}}:null,[p,q]),w.exports.useEffect(()=>{if(!p)return;const D=pP(()=>{q()}),R=zs(s);return R.addEventListener("resize",D),()=>{D.clear(),R.removeEventListener("resize",D)}},[s,p,q]);let B=y;y==="auto"&&!g.muiSupportAuto&&(B=void 0);const P=d||(s?In(km(s)).body:void 0);return k(A7,C({BackdropProps:{invisible:!0},className:re($.root,c),container:P,open:p,ref:n,ownerState:x},S,{children:k(g,C({appear:!0,in:p,onEntering:te,timeout:B},_,{children:k(O7,C({elevation:h},m,{ref:b,className:re($.paper,m.className),children:u}))}))}))}),$7=D7;function M7(t){return be("MuiMenu",t)}Te("MuiMenu",["root","paper","list"]);const L7=["onEntering"],F7=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],U7={vertical:"top",horizontal:"right"},B7={vertical:"top",horizontal:"left"},z7=t=>{const{classes:e}=t;return Re({root:["root"],paper:["paper"],list:["list"]},M7,e)},V7=Q($7,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),W7=Q(uc,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),j7=Q(I7,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),H7=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,disableAutoFocusItem:o=!1,MenuListProps:a={},onClose:l,open:u,PaperProps:c={},PopoverClasses:d,transitionDuration:h="auto",TransitionProps:{onEntering:f}={},variant:p="selectedMenu"}=r,m=J(r.TransitionProps,L7),E=J(r,F7),g=ap(),y=g.direction==="rtl",v=C({},r,{autoFocus:i,disableAutoFocusItem:o,MenuListProps:a,onEntering:f,PaperProps:c,transitionDuration:h,TransitionProps:m,variant:p}),_=z7(v),S=i&&!o&&u,T=w.exports.useRef(null),b=(I,L)=>{T.current&&T.current.adjustStyleForScrollbar(I,g),f&&f(I,L)},x=I=>{I.key==="Tab"&&(I.preventDefault(),l&&l(I,"tabKeyDown"))};let $=-1;return w.exports.Children.map(s,(I,L)=>{!w.exports.isValidElement(I)||I.props.disabled||(p==="selectedMenu"&&I.props.selected||$===-1)&&($=L)}),k(V7,C({classes:d,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?U7:B7,PaperProps:C({component:W7},c,{classes:C({},c.classes,{root:_.paper})}),className:_.root,open:u,ref:n,transitionDuration:h,TransitionProps:C({onEntering:b},m),ownerState:v},E,{children:k(j7,C({onKeyDown:x,actions:T,autoFocus:i&&($===-1||o),autoFocusItem:S,variant:p},a,{className:re(_.list,a.className),children:s}))}))}),q7=H7;function K7(t){return be("MuiNativeSelect",t)}const G7=Te("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),J_=G7,Q7=["className","disabled","IconComponent","inputRef","variant"],Y7=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${U(n)}`,s&&"iconOpen",r&&"disabled"]};return Re(o,K7,e)},tA=({ownerState:t,theme:e})=>C({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${J_.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:e.shape.borderRadius,"&:focus":{borderRadius:e.shape.borderRadius},"&&&":{paddingRight:32}}),X7=Q("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Zr,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],{[`&.${J_.multiple}`]:e.multiple}]}})(tA),nA=({ownerState:t,theme:e})=>C({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:e.palette.action.active,[`&.${J_.disabled}`]:{color:e.palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),J7=Q("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${U(n.variant)}`],n.open&&e.iconOpen]}})(nA),Z7=w.exports.forwardRef(function(e,n){const{className:r,disabled:i,IconComponent:s,inputRef:o,variant:a="standard"}=e,l=J(e,Q7),u=C({},e,{disabled:i,variant:a}),c=Y7(u);return We(w.exports.Fragment,{children:[k(X7,C({ownerState:u,className:re(c.select,r),disabled:i,ref:o||n},l)),e.multiple?null:k(J7,{as:s,ownerState:u,className:c.icon})]})}),eQ=Z7;var CS;const tQ=["children","classes","className","label","notched"],nQ=Q("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),rQ=Q("legend")(({ownerState:t,theme:e})=>C({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&C({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function iQ(t){const{className:e,label:n,notched:r}=t,i=J(t,tQ),s=n!=null&&n!=="",o=C({},t,{notched:r,withLabel:s});return k(nQ,C({"aria-hidden":!0,className:e,ownerState:o},i,{children:k(rQ,{ownerState:o,children:s?k("span",{children:n}):CS||(CS=k("span",{className:"notranslate",children:"\u200B"}))})}))}const sQ=["components","fullWidth","inputComponent","label","multiline","notched","type"],oQ=t=>{const{classes:e}=t,r=Re({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},gG,e);return C({},e,r)},aQ=Q(hp,{shouldForwardProp:t=>Zr(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cp})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return C({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${si.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${si.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${si.focused} .${si.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${si.error} .${si.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${si.disabled} .${si.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&C({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),lQ=Q(iQ,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),uQ=Q(fp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dp})(({theme:t,ownerState:e})=>C({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),rA=w.exports.forwardRef(function(e,n){var r;const i=Ne({props:e,name:"MuiOutlinedInput"}),{components:s={},fullWidth:o=!1,inputComponent:a="input",label:l,multiline:u=!1,notched:c,type:d="text"}=i,h=J(i,sQ),f=oQ(i),p=Da(),m=Oa({props:i,muiFormControl:p,states:["required"]}),E=C({},i,{color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:p,fullWidth:o,hiddenLabel:m.hiddenLabel,multiline:u,size:m.size,type:d});return k(Q_,C({components:C({Root:aQ,Input:uQ},s),renderSuffix:g=>k(lQ,{ownerState:E,className:f.notchedOutline,label:l!=null&&l!==""&&m.required?r||(r=We(w.exports.Fragment,{children:[l,"\xA0","*"]})):l,notched:typeof c<"u"?c:Boolean(g.startAdornment||g.filled||g.focused)}),fullWidth:o,inputComponent:a,multiline:u,ref:n,type:d},h,{classes:C({},f,{notchedOutline:null})}))});rA.muiName="Input";const iA=rA;function cQ(t){return be("MuiSelect",t)}const dQ=Te("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),jc=dQ;var ES;const hQ=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],fQ=Q("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${jc.select}`]:e.select},{[`&.${jc.select}`]:e[n.variant]},{[`&.${jc.multiple}`]:e.multiple}]}})(tA,{[`&.${jc.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),pQ=Q("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${U(n.variant)}`],n.open&&e.iconOpen]}})(nA),mQ=Q("input",{shouldForwardProp:t=>tK(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function SS(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function gQ(t){return t==null||typeof t=="string"&&!t.trim()}const yQ=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s}=t,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${U(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Re(o,cQ,e)},vQ=w.exports.forwardRef(function(e,n){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:a,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:h,IconComponent:f,inputRef:p,labelId:m,MenuProps:E={},multiple:g,name:y,onBlur:v,onChange:_,onClose:S,onFocus:T,onOpen:b,open:x,readOnly:$,renderValue:I,SelectDisplayProps:L={},tabIndex:H,value:q,variant:te="standard"}=e,B=J(e,hQ),[P,D]=ME({controlled:q,default:c,name:"Select"}),[R,F]=ME({controlled:x,default:u,name:"Select"}),z=w.exports.useRef(null),Y=w.exports.useRef(null),[ie,Pe]=w.exports.useState(null),{current:me}=w.exports.useRef(x!=null),[Fe,De]=w.exports.useState(),Pt=nt(n,p),je=w.exports.useCallback(K=>{Y.current=K,K&&Pe(K)},[]);w.exports.useImperativeHandle(Pt,()=>({focus:()=>{Y.current.focus()},node:z.current,value:P}),[P]),w.exports.useEffect(()=>{u&&R&&ie&&!me&&(De(o?null:ie.clientWidth),Y.current.focus())},[ie,o]),w.exports.useEffect(()=>{s&&Y.current.focus()},[s]),w.exports.useEffect(()=>{if(!m)return;const K=In(Y.current).getElementById(m);if(K){const Qe=()=>{getSelection().isCollapsed&&Y.current.focus()};return K.addEventListener("click",Qe),()=>{K.removeEventListener("click",Qe)}}},[m]);const it=(K,Qe)=>{K?b&&b(Qe):S&&S(Qe),me||(De(o?null:ie.clientWidth),F(K))},Ue=K=>{K.button===0&&(K.preventDefault(),Y.current.focus(),it(!0,K))},wt=K=>{it(!1,K)},on=w.exports.Children.toArray(a),lr=K=>{const Qe=on.map(ot=>ot.props.value).indexOf(K.target.value);if(Qe===-1)return;const G=on[Qe];D(G.props.value),_&&_(K,G)},Kn=K=>Qe=>{let G;if(!!Qe.currentTarget.hasAttribute("tabindex")){if(g){G=Array.isArray(P)?P.slice():[];const ot=P.indexOf(K.props.value);ot===-1?G.push(K.props.value):G.splice(ot,1)}else G=K.props.value;if(K.props.onClick&&K.props.onClick(Qe),P!==G&&(D(G),_)){const ot=Qe.nativeEvent||Qe,Js=new ot.constructor(ot.type,ot);Object.defineProperty(Js,"target",{writable:!0,value:{value:G,name:y}}),_(Js,K)}g||it(!1,Qe)}},xr=K=>{$||[" ","ArrowUp","ArrowDown","Enter"].indexOf(K.key)!==-1&&(K.preventDefault(),it(!0,K))},ur=ie!==null&&R,st=K=>{!ur&&v&&(Object.defineProperty(K,"target",{writable:!0,value:{value:P,name:y}}),v(K))};delete B["aria-invalid"];let cr,ti;const Ct=[];let dr=!1;(G_({value:P})||h)&&(I?cr=I(P):dr=!0);const ni=on.map((K,Qe,G)=>{if(!w.exports.isValidElement(K))return null;let ot;if(g){if(!Array.isArray(P))throw new Error($i(2));ot=P.some(hr=>SS(hr,K.props.value)),ot&&dr&&Ct.push(K.props.children)}else ot=SS(P,K.props.value),ot&&dr&&(ti=K.props.children);if(K.props.value===void 0)return w.exports.cloneElement(K,{"aria-readonly":!0,role:"option"});const Js=()=>{if(P)return ot;const hr=G.find(mp=>mp.props.value!==void 0&&mp.props.disabled!==!0);return K===hr?!0:ot};return w.exports.cloneElement(K,{"aria-selected":ot?"true":"false",onClick:Kn(K),onKeyUp:hr=>{hr.key===" "&&hr.preventDefault(),K.props.onKeyUp&&K.props.onKeyUp(hr)},role:"option",selected:G[0].props.value===void 0||G[0].props.disabled===!0?Js():ot,value:void 0,"data-value":K.props.value})});dr&&(g?Ct.length===0?cr=null:cr=Ct.reduce((K,Qe,G)=>(K.push(Qe),G<Ct.length-1&&K.push(", "),K),[]):cr=ti);let qi=Fe;!o&&me&&ie&&(qi=ie.clientWidth);let Gn;typeof H<"u"?Gn=H:Gn=d?null:0;const Dn=L.id||(y?`mui-component-select-${y}`:void 0),Ir=C({},e,{variant:te,value:P,open:ur}),Ae=yQ(Ir);return We(w.exports.Fragment,{children:[k(fQ,C({ref:je,tabIndex:Gn,role:"button","aria-disabled":d?"true":void 0,"aria-expanded":ur?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[m,Dn].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:xr,onMouseDown:d||$?null:Ue,onBlur:st,onFocus:T},L,{ownerState:Ir,className:re(L.className,Ae.select,l),id:Dn,children:gQ(cr)?ES||(ES=k("span",{className:"notranslate",children:"\u200B"})):cr})),k(mQ,C({value:Array.isArray(P)?P.join(","):P,name:y,ref:z,"aria-hidden":!0,onChange:lr,tabIndex:-1,disabled:d,className:Ae.nativeInput,autoFocus:s,ownerState:Ir},B)),k(pQ,{as:f,className:Ae.icon,ownerState:Ir}),k(q7,C({id:`menu-${y||""}`,anchorEl:ie,open:ur,onClose:wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},E,{MenuListProps:C({"aria-labelledby":m,role:"listbox",disableListWrap:!0},E.MenuListProps),PaperProps:C({},E.PaperProps,{style:C({minWidth:qi},E.PaperProps!=null?E.PaperProps.style:null)}),children:ni}))]})}),_Q=vQ;var bS,TS;const wQ=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],CQ=t=>{const{classes:e}=t;return e},Z_={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Zr(t)&&t!=="variant",slot:"Root"},EQ=Q(X_,Z_)(""),SQ=Q(iA,Z_)(""),bQ=Q(XP,Z_)(""),sA=w.exports.forwardRef(function(e,n){const r=Ne({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=wG,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:E,multiple:g=!1,native:y=!1,onClose:v,onOpen:_,open:S,renderValue:T,SelectDisplayProps:b,variant:x="outlined"}=r,$=J(r,wQ),I=y?eQ:_Q,L=Da(),q=Oa({props:r,muiFormControl:L,states:["variant"]}).variant||x,te=h||{standard:bS||(bS=k(EQ,{})),outlined:k(SQ,{label:p}),filled:TS||(TS=k(bQ,{}))}[q],B=C({},r,{variant:q,classes:o}),P=CQ(B),D=nt(n,te.ref);return k(w.exports.Fragment,{children:w.exports.cloneElement(te,C({inputComponent:I,inputProps:C({children:s,IconComponent:c,variant:q,type:void 0,multiple:g},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:E,onClose:v,onOpen:_,open:S,renderValue:T,SelectDisplayProps:C({id:d},b)},f,{classes:f?zn(P,f.classes):P},h?h.props.inputProps:{})},g&&y&&q==="outlined"?{notched:!0}:{},{ref:D,className:re(te.props.className,a)},!h&&{variant:q},$))})});sA.muiName="Select";const TQ=sA;function xQ(t){return be("MuiToolbar",t)}Te("MuiToolbar",["root","gutters","regular","dense"]);const IQ=["className","component","disableGutters","variant"],kQ=t=>{const{classes:e,disableGutters:n,variant:r}=t;return Re({root:["root",!n&&"gutters",r]},xQ,e)},RQ=Q("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>C({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),NQ=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=J(r,IQ),u=C({},r,{component:s,disableGutters:o,variant:a}),c=kQ(u);return k(RQ,C({as:s,className:re(c.root,i),ref:n,ownerState:u},l))}),oA=NQ;function PQ(t){return be("MuiTextField",t)}Te("MuiTextField",["root"]);const AQ=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],OQ={standard:X_,filled:XP,outlined:iA},DQ=t=>{const{classes:e}=t;return Re({root:["root"]},PQ,e)},$Q=Q(V9,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),MQ=w.exports.forwardRef(function(e,n){const r=Ne({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:m,InputLabelProps:E,inputProps:g,InputProps:y,inputRef:v,label:_,maxRows:S,minRows:T,multiline:b=!1,name:x,onBlur:$,onChange:I,onFocus:L,placeholder:H,required:q=!1,rows:te,select:B=!1,SelectProps:P,type:D,value:R,variant:F="outlined"}=r,z=J(r,AQ),Y=C({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:b,required:q,select:B,variant:F}),ie=DQ(Y),Pe={};F==="outlined"&&(E&&typeof E.shrink<"u"&&(Pe.notched=E.shrink),Pe.label=_),B&&((!P||!P.native)&&(Pe.id=void 0),Pe["aria-describedby"]=void 0);const me=mP(m),Fe=p&&me?`${me}-helper-text`:void 0,De=_&&me?`${me}-label`:void 0,Pt=OQ[F],je=k(Pt,C({"aria-describedby":Fe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:b,name:x,rows:te,maxRows:S,minRows:T,type:D,value:R,id:me,inputRef:v,onBlur:$,onChange:I,onFocus:L,placeholder:H,inputProps:g},Pe,y));return We($Q,C({className:re(ie.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:q,color:l,variant:F,ownerState:Y},z,{children:[_!=null&&_!==""&&k(g7,C({htmlFor:me,id:De},E,{children:_})),B?k(TQ,C({"aria-describedby":Fe,id:me,labelId:De,value:R,input:je},P,{children:o})):je,p&&k(Q9,C({id:Fe},h,{children:p}))]}))}),LQ=MQ;function FQ(t){const[e,n]=w.exports.useState(!1),r=()=>{n(!0)},i=()=>{n(!1)},s=b_(),[o,a]=w.exports.useState(t.text);return We("div",{children:[k(Cs,{variant:"contained",color:"secondary",size:"small",onClick:r,children:"Muokkaa"}),We(h9,{open:e,onClose:i,children:[k(A9,{children:"Viestin muokkaus"}),k(I9,{children:k(LQ,{id:"outlined-name",label:"teksti",value:o,onChange:u=>{a(u.target.value)}})}),We(v9,{children:[k(Cs,{onClick:i,children:"Cancel"}),k(Cs,{onClick:async()=>{const u={text:o};await dV(i_(s,"messages",t.id),u),i()},children:"Tallenna"})]})]})]})}const UQ=new Intl.DateTimeFormat("en-GB",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!1});function BQ({createdAt:t,text:e,displayName:n,id:r,uid:i}){const{data:s}=VN(),o=b_();return We(gN,{children:[k(iG,{sx:{marginBottom:1,height:"100%"},label:We(up,{sx:{whiteSpace:"normal"},children:[t!=null&&t.seconds?k("span",{children:UQ.format(new Date(t.seconds*1e3))}):null," ",k("strong",{children:n||null})," ",e," "]}),variant:"outlined"}),i===s.uid?k(Cs,{variant:"contained",size:"small",onClick:async()=>{await hV(i_(o,"messages",r))},children:"Poista"}):null,i===s.uid?k(FQ,{id:r,text:e}):null]})}function zQ({messages:t}){return k(Y_,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:t==null?void 0:t.map(e=>k(BQ,{...e},e.id))})}function VQ({messagesCollection:t}){const[e,n]=w.exports.useState(""),{data:r}=VN(),{uid:i,displayName:s,photoURL:o}=r;return We("form",{onSubmit:u=>{u.preventDefault();const c=e.trim();c&&(fV(t,{text:c,createdAt:gV(),uid:i,displayName:s,photoURL:o}),n(""))},children:[k(X_,{disableUnderline:!0,inputProps:{style:{color:"white"}},value:e,onChange:u=>{n(u.target.value)},placeholder:"Type your message here..."}),k(Cs,{color:"inherit",type:"submit",variant:"outlined",disabled:!e,children:"Send"})]})}function WQ({messagesCollection:t}){return k(Y_,{sx:{flexGrow:1},children:k(WP,{position:"static",children:k(oA,{children:k(up,{color:"inherit",children:k(VQ,{messagesCollection:t})})})})})}function jQ(){const t=b_(),e=V3(t,"messages"),n=rV(e,sV("createdAt"),aV(100)),{status:r,data:i}=uj(n,{idField:"id"});return We("div",{children:[r==="loading"?k(KP,{}):k(zQ,{messages:i}),k(WQ,{messagesCollection:e})]})}const HQ=async t=>{NM(t),await tL(t,new Nr)},qQ=()=>{const t=globalThis._reactFirePreloadedObservables;Array.from(t.keys()).forEach(e=>e.includes("firestore")&&t.delete(e))},KQ=async t=>{await PM(t),qQ()};function GQ({color:t}){const{data:e}=WN(),n=S_();return e.signedIn?k(Cs,{variant:"outlined",color:t,onClick:()=>KQ(n),children:"Sign out"}):k(Cs,{variant:"outlined",color:t,onClick:()=>HQ(n),children:"Sign in with Google"})}function QQ(){return k(Y_,{sx:{flexGrow:1},children:k(WP,{position:"static",children:We(oA,{children:[k(up,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Chatti"}),k(GQ,{color:"inherit"})]})})})}function YQ(){const{status:t,data:e}=WN();return t==="loading"?k(KP,{}):We(gN,{children:[k(QQ,{}),e.signedIn&&k(jQ,{})]})}const XQ={apiKey:"AIzaSyCxXnUidB20eJPotUbQjUUQmVDk_LFIzQk",authDomain:"example-44ced.firebaseapp.com",projectId:"example-44ced",storageBucket:"example-44ced.appspot.com",messagingSenderId:"340859330515",appId:"1:340859330515:web:98a9e55130e5fbcaced926"};function JQ({children:t}){const e=zN(),n=VL(e),r=YU(e);return k(fj,{sdk:H3(e),children:k(dj,{sdk:n,children:k(hj,{sdk:r,children:t})})})}Nm.createRoot(document.getElementById("root")).render(k(hs.StrictMode,{children:k(QW,{firebaseConfig:XQ,children:k(JQ,{children:k(YQ,{})})})}));
